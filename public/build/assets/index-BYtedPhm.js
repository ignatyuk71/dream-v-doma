import{_ as se,S as mn,y as b,v as Y,M as Ke,x as y,H as D,z as o,D as P,N as Nr,U as pn,K as U,L as j,E as J,r as Ae,w as lt,p as er,F as q,I as ve,C as pe,B as oe,V as Wr,W as tr,X as Ge,Y as sr,A as _e,G as Pr,P as he,Z as ae,$ as ht,a as Ot,d as At,a0 as Tn,J as Dt,Q as Or,R as Mt}from"./index-oFHlX40U.js";/* empty css              */const An=["aria-label"],$n={class:"glo-box",role:"status","aria-live":"polite"},Dn={class:"mt-3 fw-semibold"},Vn={key:0,class:"text-white-50 small mt-1"},Un={__name:"GlobalLoadingOverlay",props:{active:Boolean,label:{type:String,default:"Завантаження…"},hint:{type:String,default:""}},setup(r){return(e,i)=>(b(),mn(pn,{to:"body"},[Y(Nr,{name:"glo-fade"},{default:Ke(()=>[r.active?(b(),y("div",{key:0,class:"glo-mask",role:"dialog","aria-modal":"true","aria-label":r.label},[o("div",$n,[i[0]||(i[0]=o("div",{class:"spinner-border text-light","aria-hidden":"true"},null,-1)),o("div",Dn,P(r.label),1),r.hint?(b(),y("div",Vn,P(r.hint),1)):D("",!0)])],8,An)):D("",!0)]),_:1})]))}},vn=se(Un,[["__scopeId","data-v-70395404"]]),Mn={name:"ProductHeader"},Ln={class:"d-flex justify-content-between align-items-center mb-4"},jn={class:"top-actions"};function Bn(r,e,i,d,n,s){return b(),y("div",Ln,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",jn,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>r.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const Fn=se(Mn,[["render",Bn],["__scopeId","data-v-e2ab9659"]]),Rn={name:"ProductTitles",props:{form:Object,errors:{type:Object,default:()=>({})}},methods:{clearError(r){this.form[r]&&(this.$emit("update:errors",{...this.errors,[r]:null}),this.errors[r]=null)}}},Nn={class:"card mb-4 p-3"},Gn={class:"mb-3"},zn={key:0,class:"invalid-feedback"},_n={class:"mb-3"},Kn={key:0,class:"invalid-feedback"};function Hn(r,e,i,d,n,s){return b(),y("div",Nn,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",Gn,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":i.errors.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.name_uk=t),onInput:e[1]||(e[1]=t=>s.clearError("name_uk"))},null,34),[[j,i.form.name_uk]]),i.errors.name_uk?(b(),y("div",zn,P(i.errors.name_uk),1)):D("",!0)]),o("div",_n,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":i.errors.name_ru}]),name:"name_ru","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.name_ru=t),onInput:e[3]||(e[3]=t=>s.clearError("name_ru"))},null,34),[[j,i.form.name_ru]]),i.errors.name_ru?(b(),y("div",Kn,P(i.errors.name_ru),1)):D("",!0)])])}const Wn=se(Rn,[["render",Hn]]),Xn={name:"ProductSeo",props:{form:{type:Object,required:!0}}},Yn={class:"card mb-4 p-3"},Jn={class:"mb-3"},Qn={class:"mb-3"},Zn={class:"mb-3"},qn={class:"mb-3"};function eo(r,e,i,d,n,s){return b(),y("div",Yn,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",Jn,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[j,i.form.meta_title_uk]])]),o("div",Qn,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[j,i.form.meta_description_uk]])]),o("div",Zn,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[j,i.form.meta_title_ru]])]),o("div",qn,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[j,i.form.meta_description_ru]])])])}const to=se(Xn,[["render",eo]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qr(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);e&&(d=d.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,d)}return i}function at(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(i),!0).forEach(function(d){ro(r,d,i[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):qr(Object(i)).forEach(function(d){Object.defineProperty(r,d,Object.getOwnPropertyDescriptor(i,d))})}return r}function mr(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mr=function(e){return typeof e}:mr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(r)}function ro(r,e,i){return e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function qe(){return qe=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(r[d]=i[d])}return r},qe.apply(this,arguments)}function no(r,e){if(r==null)return{};var i={},d=Object.keys(r),n,s;for(s=0;s<d.length;s++)n=d[s],!(e.indexOf(n)>=0)&&(i[n]=r[n]);return i}function oo(r,e){if(r==null)return{};var i=no(r,e),d,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)d=s[n],!(e.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(r,d)&&(i[d]=r[d])}return i}function io(r){return so(r)||lo(r)||ao(r)||uo()}function so(r){if(Array.isArray(r))return Gr(r)}function lo(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ao(r,e){if(r){if(typeof r=="string")return Gr(r,e);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gr(r,e)}}function Gr(r,e){(e==null||e>r.length)&&(e=r.length);for(var i=0,d=new Array(e);i<e;i++)d[i]=r[i];return d}function uo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var co="1.14.0";function dt(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var ut=dt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),rr=dt(/Edge/i),en=dt(/firefox/i),Yt=dt(/safari/i)&&!dt(/chrome/i)&&!dt(/android/i),gn=dt(/iP(ad|od|hone)/i),fo=dt(/chrome/i)&&dt(/android/i),hn={capture:!1,passive:!1};function de(r,e,i){r.addEventListener(e,i,!ut&&hn)}function le(r,e,i){r.removeEventListener(e,i,!ut&&hn)}function yr(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function mo(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function nt(r,e,i,d){if(r){i=i||document;do{if(e!=null&&(e[0]===">"?r.parentNode===i&&yr(r,e):yr(r,e))||d&&r===i)return r;if(r===i)break}while(r=mo(r))}return null}var tn=/\s+/g;function Ee(r,e,i){if(r&&e)if(r.classList)r.classList[i?"add":"remove"](e);else{var d=(" "+r.className+" ").replace(tn," ").replace(" "+e+" "," ");r.className=(d+(i?" "+e:"")).replace(tn," ")}}function _(r,e,i){var d=r&&r.style;if(d){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(i=r.currentStyle),e===void 0?i:i[e];!(e in d)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),d[e]=i+(typeof i=="string"?"":"px")}}function Et(r,e){var i="";if(typeof r=="string")i=r;else do{var d=_(r,"transform");d&&d!=="none"&&(i=d+" "+i)}while(!e&&(r=r.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function bn(r,e,i){if(r){var d=r.getElementsByTagName(e),n=0,s=d.length;if(i)for(;n<s;n++)i(d[n],n);return d}return[]}function st(){var r=document.scrollingElement;return r||document.documentElement}function Se(r,e,i,d,n){if(!(!r.getBoundingClientRect&&r!==window)){var s,t,l,a,u,m,c;if(r!==window&&r.parentNode&&r!==st()?(s=r.getBoundingClientRect(),t=s.top,l=s.left,a=s.bottom,u=s.right,m=s.height,c=s.width):(t=0,l=0,a=window.innerHeight,u=window.innerWidth,m=window.innerHeight,c=window.innerWidth),(e||i)&&r!==window&&(n=n||r.parentNode,!ut))do if(n&&n.getBoundingClientRect&&(_(n,"transform")!=="none"||i&&_(n,"position")!=="static")){var p=n.getBoundingClientRect();t-=p.top+parseInt(_(n,"border-top-width")),l-=p.left+parseInt(_(n,"border-left-width")),a=t+s.height,u=l+s.width;break}while(n=n.parentNode);if(d&&r!==window){var g=Et(n||r),f=g&&g.a,v=g&&g.d;g&&(t/=v,l/=f,c/=f,m/=v,a=t+m,u=l+c)}return{top:t,left:l,bottom:a,right:u,width:c,height:m}}}function rn(r,e,i){for(var d=gt(r,!0),n=Se(r)[e];d;){var s=Se(d)[i],t=void 0;if(t=n>=s,!t)return d;if(d===st())break;d=gt(d,!1)}return!1}function Vt(r,e,i,d){for(var n=0,s=0,t=r.children;s<t.length;){if(t[s].style.display!=="none"&&t[s]!==W.ghost&&(d||t[s]!==W.dragged)&&nt(t[s],i.draggable,r,!1)){if(n===e)return t[s];n++}s++}return null}function Xr(r,e){for(var i=r.lastElementChild;i&&(i===W.ghost||_(i,"display")==="none"||e&&!yr(i,e));)i=i.previousElementSibling;return i||null}function Pe(r,e){var i=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==W.clone&&(!e||yr(r,e))&&i++;return i}function nn(r){var e=0,i=0,d=st();if(r)do{var n=Et(r),s=n.a,t=n.d;e+=r.scrollLeft*s,i+=r.scrollTop*t}while(r!==d&&(r=r.parentNode));return[e,i]}function po(r,e){for(var i in r)if(r.hasOwnProperty(i)){for(var d in e)if(e.hasOwnProperty(d)&&e[d]===r[i][d])return Number(i)}return-1}function gt(r,e){if(!r||!r.getBoundingClientRect)return st();var i=r,d=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=_(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return st();if(d||e)return i;d=!0}}while(i=i.parentNode);return st()}function vo(r,e){if(r&&e)for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r}function Tr(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Jt;function yn(r,e){return function(){if(!Jt){var i=arguments,d=this;i.length===1?r.call(d,i[0]):r.apply(d,i),Jt=setTimeout(function(){Jt=void 0},e)}}}function go(){clearTimeout(Jt),Jt=void 0}function xn(r,e,i){r.scrollLeft+=e,r.scrollTop+=i}function Yr(r){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):i?i(r).clone(!0)[0]:r.cloneNode(!0)}function on(r,e){_(r,"position","absolute"),_(r,"top",e.top),_(r,"left",e.left),_(r,"width",e.width),_(r,"height",e.height)}function Ar(r){_(r,"position",""),_(r,"top",""),_(r,"left",""),_(r,"width",""),_(r,"height","")}var Re="Sortable"+new Date().getTime();function ho(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var d=[].slice.call(this.el.children);d.forEach(function(n){if(!(_(n,"display")==="none"||n===W.ghost)){r.push({target:n,rect:Se(n)});var s=at({},r[r.length-1].rect);if(n.thisAnimationDuration){var t=Et(n,!0);t&&(s.top-=t.f,s.left-=t.e)}n.fromRect=s}})}},addAnimationState:function(d){r.push(d)},removeAnimationState:function(d){r.splice(po(r,{target:d}),1)},animateAll:function(d){var n=this;if(!this.options.animation){clearTimeout(e),typeof d=="function"&&d();return}var s=!1,t=0;r.forEach(function(l){var a=0,u=l.target,m=u.fromRect,c=Se(u),p=u.prevFromRect,g=u.prevToRect,f=l.rect,v=Et(u,!0);v&&(c.top-=v.f,c.left-=v.e),u.toRect=c,u.thisAnimationDuration&&Tr(p,c)&&!Tr(m,c)&&(f.top-c.top)/(f.left-c.left)===(m.top-c.top)/(m.left-c.left)&&(a=yo(f,p,g,n.options)),Tr(c,m)||(u.prevFromRect=m,u.prevToRect=c,a||(a=n.options.animation),n.animate(u,f,c,a)),a&&(s=!0,t=Math.max(t,a),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},a),u.thisAnimationDuration=a)}),clearTimeout(e),s?e=setTimeout(function(){typeof d=="function"&&d()},t):typeof d=="function"&&d(),r=[]},animate:function(d,n,s,t){if(t){_(d,"transition",""),_(d,"transform","");var l=Et(this.el),a=l&&l.a,u=l&&l.d,m=(n.left-s.left)/(a||1),c=(n.top-s.top)/(u||1);d.animatingX=!!m,d.animatingY=!!c,_(d,"transform","translate3d("+m+"px,"+c+"px,0)"),this.forRepaintDummy=bo(d),_(d,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),_(d,"transform","translate3d(0,0,0)"),typeof d.animated=="number"&&clearTimeout(d.animated),d.animated=setTimeout(function(){_(d,"transition",""),_(d,"transform",""),d.animated=!1,d.animatingX=!1,d.animatingY=!1},t)}}}}function bo(r){return r.offsetWidth}function yo(r,e,i,d){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*d.animation}var Ct=[],$r={initializeByDefault:!0},nr={mount:function(e){for(var i in $r)$r.hasOwnProperty(i)&&!(i in e)&&(e[i]=$r[i]);Ct.forEach(function(d){if(d.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ct.push(e)},pluginEvent:function(e,i,d){var n=this;this.eventCanceled=!1,d.cancel=function(){n.eventCanceled=!0};var s=e+"Global";Ct.forEach(function(t){i[t.pluginName]&&(i[t.pluginName][s]&&i[t.pluginName][s](at({sortable:i},d)),i.options[t.pluginName]&&i[t.pluginName][e]&&i[t.pluginName][e](at({sortable:i},d)))})},initializePlugins:function(e,i,d,n){Ct.forEach(function(l){var a=l.pluginName;if(!(!e.options[a]&&!l.initializeByDefault)){var u=new l(e,i,e.options);u.sortable=e,u.options=e.options,e[a]=u,qe(d,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var t=this.modifyOption(e,s,e.options[s]);typeof t<"u"&&(e.options[s]=t)}},getEventProperties:function(e,i){var d={};return Ct.forEach(function(n){typeof n.eventProperties=="function"&&qe(d,n.eventProperties.call(i[n.pluginName],e))}),d},modifyOption:function(e,i,d){var n;return Ct.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[i]=="function"&&(n=s.optionListeners[i].call(e[s.pluginName],d))}),n}};function Kt(r){var e=r.sortable,i=r.rootEl,d=r.name,n=r.targetEl,s=r.cloneEl,t=r.toEl,l=r.fromEl,a=r.oldIndex,u=r.newIndex,m=r.oldDraggableIndex,c=r.newDraggableIndex,p=r.originalEvent,g=r.putSortable,f=r.extraEventProperties;if(e=e||i&&i[Re],!!e){var v,h=e.options,w="on"+d.charAt(0).toUpperCase()+d.substr(1);window.CustomEvent&&!ut&&!rr?v=new CustomEvent(d,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(d,!0,!0)),v.to=t||i,v.from=l||i,v.item=n||i,v.clone=s,v.oldIndex=a,v.newIndex=u,v.oldDraggableIndex=m,v.newDraggableIndex=c,v.originalEvent=p,v.pullMode=g?g.lastPutMode:void 0;var S=at(at({},f),nr.getEventProperties(d,e));for(var V in S)v[V]=S[V];i&&i.dispatchEvent(v),h[w]&&h[w].call(e,v)}}var xo=["evt"],We=function(e,i){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=d.evt,s=oo(d,xo);nr.pluginEvent.bind(W)(e,i,at({dragEl:R,parentEl:Ce,ghostEl:ne,rootEl:xe,nextEl:wt,lastDownEl:pr,cloneEl:Ie,cloneHidden:vt,dragStarted:Ht,putSortable:Be,activeSortable:W.active,originalEvent:n,oldIndex:$t,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:pt,hideGhostForTarget:On,unhideGhostForTarget:kn,cloneNowHidden:function(){vt=!0},cloneNowShown:function(){vt=!1},dispatchSortableEvent:function(l){ze({sortable:i,name:l,originalEvent:n})}},s))};function ze(r){Kt(at({putSortable:Be,cloneEl:Ie,targetEl:R,rootEl:xe,oldIndex:$t,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:pt},r))}var R,Ce,ne,xe,wt,pr,Ie,vt,$t,Qe,Qt,pt,lr,Be,Tt=!1,xr=!1,Sr=[],xt,tt,Dr,Vr,sn,ln,Ht,It,Zt,qt=!1,ar=!1,vr,Fe,Ur=[],zr=!1,wr=[],kr=typeof document<"u",dr=gn,an=rr||ut?"cssFloat":"float",So=kr&&!fo&&!gn&&"draggable"in document.createElement("div"),Sn=function(){if(kr){if(ut)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),wn=function(e,i){var d=_(e),n=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),s=Vt(e,0,i),t=Vt(e,1,i),l=s&&_(s),a=t&&_(t),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Se(s).width,m=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Se(t).width;if(d.display==="flex")return d.flexDirection==="column"||d.flexDirection==="column-reverse"?"vertical":"horizontal";if(d.display==="grid")return d.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return t&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=n&&d[an]==="none"||t&&d[an]==="none"&&u+m>n)?"vertical":"horizontal"},wo=function(e,i,d){var n=d?e.left:e.top,s=d?e.right:e.bottom,t=d?e.width:e.height,l=d?i.left:i.top,a=d?i.right:i.bottom,u=d?i.width:i.height;return n===l||s===a||n+t/2===l+u/2},Eo=function(e,i){var d;return Sr.some(function(n){var s=n[Re].options.emptyInsertThreshold;if(!(!s||Xr(n))){var t=Se(n),l=e>=t.left-s&&e<=t.right+s,a=i>=t.top-s&&i<=t.bottom+s;if(l&&a)return d=n}}),d},En=function(e){function i(s,t){return function(l,a,u,m){var c=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(s==null&&(t||c))return!0;if(s==null||s===!1)return!1;if(t&&s==="clone")return s;if(typeof s=="function")return i(s(l,a,u,m),t)(l,a,u,m);var p=(t?l:a).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var d={},n=e.group;(!n||mr(n)!="object")&&(n={name:n}),d.name=n.name,d.checkPull=i(n.pull,!0),d.checkPut=i(n.put),d.revertClone=n.revertClone,e.group=d},On=function(){!Sn&&ne&&_(ne,"display","none")},kn=function(){!Sn&&ne&&_(ne,"display","")};kr&&document.addEventListener("click",function(r){if(xr)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),xr=!1,!1},!0);var St=function(e){if(R){e=e.touches?e.touches[0]:e;var i=Eo(e.clientX,e.clientY);if(i){var d={};for(var n in e)e.hasOwnProperty(n)&&(d[n]=e[n]);d.target=d.rootEl=i,d.preventDefault=void 0,d.stopPropagation=void 0,i[Re]._onDragOver(d)}}},Oo=function(e){R&&R.parentNode[Re]._isOutsideThisEl(e.target)};function W(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=qe({},e),r[Re]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return wn(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,l){t.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&!Yt,emptyInsertThreshold:5};nr.initializePlugins(this,r,i);for(var d in i)!(d in e)&&(e[d]=i[d]);En(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:So,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?de(r,"pointerdown",this._onTapStart):(de(r,"mousedown",this._onTapStart),de(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(de(r,"dragover",this),de(r,"dragenter",this)),Sr.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qe(this,ho())}W.prototype={constructor:W,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(It=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,R):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,d=this.el,n=this.options,s=n.preventOnFilter,t=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,m=n.filter;if(Do(d),!R&&!(/mousedown|pointerdown/.test(t)&&e.button!==0||n.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Yt&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=nt(a,n.draggable,d,!1),!(a&&a.animated)&&pr!==a)){if($t=Pe(a),Qt=Pe(a,n.draggable),typeof m=="function"){if(m.call(this,e,a,this)){ze({sortable:i,rootEl:u,name:"filter",targetEl:a,toEl:d,fromEl:d}),We("filter",i,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(m&&(m=m.split(",").some(function(c){if(c=nt(u,c.trim(),d,!1),c)return ze({sortable:i,rootEl:c,name:"filter",targetEl:a,fromEl:d,toEl:d}),We("filter",i,{evt:e}),!0}),m)){s&&e.cancelable&&e.preventDefault();return}n.handle&&!nt(u,n.handle,d,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,i,d){var n=this,s=n.el,t=n.options,l=s.ownerDocument,a;if(d&&!R&&d.parentNode===s){var u=Se(d);if(xe=s,R=d,Ce=R.parentNode,wt=R.nextSibling,pr=d,lr=t.group,W.dragged=R,xt={target:R,clientX:(i||e).clientX,clientY:(i||e).clientY},sn=xt.clientX-u.left,ln=xt.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,R.style["will-change"]="all",a=function(){if(We("delayEnded",n,{evt:e}),W.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!en&&n.nativeDraggable&&(R.draggable=!0),n._triggerDragStart(e,i),ze({sortable:n,name:"choose",originalEvent:e}),Ee(R,t.chosenClass,!0)},t.ignore.split(",").forEach(function(m){bn(R,m.trim(),Mr)}),de(l,"dragover",St),de(l,"mousemove",St),de(l,"touchmove",St),de(l,"mouseup",n._onDrop),de(l,"touchend",n._onDrop),de(l,"touchcancel",n._onDrop),en&&this.nativeDraggable&&(this.options.touchStartThreshold=4,R.draggable=!0),We("delayStart",this,{evt:e}),t.delay&&(!t.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(rr||ut))){if(W.eventCanceled){this._onDrop();return}de(l,"mouseup",n._disableDelayedDrag),de(l,"touchend",n._disableDelayedDrag),de(l,"touchcancel",n._disableDelayedDrag),de(l,"mousemove",n._delayedDragTouchMoveHandler),de(l,"touchmove",n._delayedDragTouchMoveHandler),t.supportPointer&&de(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(a,t.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){R&&Mr(R),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._disableDelayedDrag),le(e,"touchend",this._disableDelayedDrag),le(e,"touchcancel",this._disableDelayedDrag),le(e,"mousemove",this._delayedDragTouchMoveHandler),le(e,"touchmove",this._delayedDragTouchMoveHandler),le(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?de(document,"pointermove",this._onTouchMove):i?de(document,"touchmove",this._onTouchMove):de(document,"mousemove",this._onTouchMove):(de(R,"dragend",this),de(xe,"dragstart",this._onDragStart));try{document.selection?gr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Tt=!1,xe&&R){We("dragStarted",this,{evt:i}),this.nativeDraggable&&de(document,"dragover",Oo);var d=this.options;!e&&Ee(R,d.dragClass,!1),Ee(R,d.ghostClass,!0),W.active=this,e&&this._appendGhost(),ze({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(tt){this._lastX=tt.clientX,this._lastY=tt.clientY,On();for(var e=document.elementFromPoint(tt.clientX,tt.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tt.clientX,tt.clientY),e!==i);)i=e;if(R.parentNode[Re]._isOutsideThisEl(e),i)do{if(i[Re]){var d=void 0;if(d=i[Re]._onDragOver({clientX:tt.clientX,clientY:tt.clientY,target:e,rootEl:i}),d&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);kn()}},_onTouchMove:function(e){if(xt){var i=this.options,d=i.fallbackTolerance,n=i.fallbackOffset,s=e.touches?e.touches[0]:e,t=ne&&Et(ne,!0),l=ne&&t&&t.a,a=ne&&t&&t.d,u=dr&&Fe&&nn(Fe),m=(s.clientX-xt.clientX+n.x)/(l||1)+(u?u[0]-Ur[0]:0)/(l||1),c=(s.clientY-xt.clientY+n.y)/(a||1)+(u?u[1]-Ur[1]:0)/(a||1);if(!W.active&&!Tt){if(d&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<d)return;this._onDragStart(e,!0)}if(ne){t?(t.e+=m-(Dr||0),t.f+=c-(Vr||0)):t={a:1,b:0,c:0,d:1,e:m,f:c};var p="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");_(ne,"webkitTransform",p),_(ne,"mozTransform",p),_(ne,"msTransform",p),_(ne,"transform",p),Dr=m,Vr=c,tt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:xe,i=Se(R,!0,dr,!0,e),d=this.options;if(dr){for(Fe=e;_(Fe,"position")==="static"&&_(Fe,"transform")==="none"&&Fe!==document;)Fe=Fe.parentNode;Fe!==document.body&&Fe!==document.documentElement?(Fe===document&&(Fe=st()),i.top+=Fe.scrollTop,i.left+=Fe.scrollLeft):Fe=st(),Ur=nn(Fe)}ne=R.cloneNode(!0),Ee(ne,d.ghostClass,!1),Ee(ne,d.fallbackClass,!0),Ee(ne,d.dragClass,!0),_(ne,"transition",""),_(ne,"transform",""),_(ne,"box-sizing","border-box"),_(ne,"margin",0),_(ne,"top",i.top),_(ne,"left",i.left),_(ne,"width",i.width),_(ne,"height",i.height),_(ne,"opacity","0.8"),_(ne,"position",dr?"absolute":"fixed"),_(ne,"zIndex","100000"),_(ne,"pointerEvents","none"),W.ghost=ne,e.appendChild(ne),_(ne,"transform-origin",sn/parseInt(ne.style.width)*100+"% "+ln/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,i){var d=this,n=e.dataTransfer,s=d.options;if(We("dragStart",this,{evt:e}),W.eventCanceled){this._onDrop();return}We("setupClone",this),W.eventCanceled||(Ie=Yr(R),Ie.draggable=!1,Ie.style["will-change"]="",this._hideClone(),Ee(Ie,this.options.chosenClass,!1),W.clone=Ie),d.cloneId=gr(function(){We("clone",d),!W.eventCanceled&&(d.options.removeCloneOnHide||xe.insertBefore(Ie,R),d._hideClone(),ze({sortable:d,name:"clone"}))}),!i&&Ee(R,s.dragClass,!0),i?(xr=!0,d._loopId=setInterval(d._emulateDragOver,50)):(le(document,"mouseup",d._onDrop),le(document,"touchend",d._onDrop),le(document,"touchcancel",d._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(d,n,R)),de(document,"drop",d),_(R,"transform","translateZ(0)")),Tt=!0,d._dragStartId=gr(d._dragStarted.bind(d,i,e)),de(document,"selectstart",d),Ht=!0,Yt&&_(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,d=e.target,n,s,t,l=this.options,a=l.group,u=W.active,m=lr===a,c=l.sort,p=Be||u,g,f=this,v=!1;if(zr)return;function h(fe,be){We(fe,f,at({evt:e,isOwner:m,axis:g?"vertical":"horizontal",revert:t,dragRect:n,targetRect:s,canSort:c,fromSortable:p,target:d,completed:S,onMove:function(Oe,ke){return ur(xe,i,R,n,Oe,Se(Oe),e,ke)},changed:V},be))}function w(){h("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function S(fe){return h("dragOverCompleted",{insertion:fe}),fe&&(m?u._hideClone():u._showClone(f),f!==p&&(Ee(R,Be?Be.options.ghostClass:u.options.ghostClass,!1),Ee(R,l.ghostClass,!0)),Be!==f&&f!==W.active?Be=f:f===W.active&&Be&&(Be=null),p===f&&(f._ignoreWhileAnimating=d),f.animateAll(function(){h("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(d===R&&!R.animated||d===i&&!d.animated)&&(It=null),!l.dragoverBubble&&!e.rootEl&&d!==document&&(R.parentNode[Re]._isOutsideThisEl(e.target),!fe&&St(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function V(){Qe=Pe(R),pt=Pe(R,l.draggable),ze({sortable:f,name:"change",toEl:i,newIndex:Qe,newDraggableIndex:pt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),d=nt(d,l.draggable,i,!0),h("dragOver"),W.eventCanceled)return v;if(R.contains(e.target)||d.animated&&d.animatingX&&d.animatingY||f._ignoreWhileAnimating===d)return S(!1);if(xr=!1,u&&!l.disabled&&(m?c||(t=Ce!==xe):Be===this||(this.lastPutMode=lr.checkPull(this,u,R,e))&&a.checkPut(this,u,R,e))){if(g=this._getDirection(e,d)==="vertical",n=Se(R),h("dragOverValid"),W.eventCanceled)return v;if(t)return Ce=xe,w(),this._hideClone(),h("revert"),W.eventCanceled||(wt?xe.insertBefore(R,wt):xe.appendChild(R)),S(!0);var A=Xr(i,l.draggable);if(!A||Po(e,g,this)&&!A.animated){if(A===R)return S(!1);if(A&&i===e.target&&(d=A),d&&(s=Se(d)),ur(xe,i,R,n,d,s,e,!!d)!==!1)return w(),i.appendChild(R),Ce=i,V(),S(!0)}else if(A&&Io(e,g,this)){var E=Vt(i,0,l,!0);if(E===R)return S(!1);if(d=E,s=Se(d),ur(xe,i,R,n,d,s,e,!1)!==!1)return w(),i.insertBefore(R,E),Ce=i,V(),S(!0)}else if(d.parentNode===i){s=Se(d);var O=0,x,T=R.parentNode!==i,k=!wo(R.animated&&R.toRect||n,d.animated&&d.toRect||s,g),L=g?"top":"left",B=rn(d,"top","top")||rn(R,"top","top"),te=B?B.scrollTop:void 0;It!==d&&(x=s[L],qt=!1,ar=!k&&l.invertSwap||T),O=To(e,d,s,g,k?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ar,It===d);var F;if(O!==0){var N=Pe(R);do N-=O,F=Ce.children[N];while(F&&(_(F,"display")==="none"||F===ne))}if(O===0||F===d)return S(!1);It=d,Zt=O;var ee=d.nextElementSibling,G=!1;G=O===1;var H=ur(xe,i,R,n,d,s,e,G);if(H!==!1)return(H===1||H===-1)&&(G=H===1),zr=!0,setTimeout(Co,30),w(),G&&!ee?i.appendChild(R):d.parentNode.insertBefore(R,G?ee:d),B&&xn(B,0,te-B.scrollTop),Ce=R.parentNode,x!==void 0&&!ar&&(vr=Math.abs(x-Se(d)[L])),V(),S(!0)}if(i.contains(R))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){le(document,"mousemove",this._onTouchMove),le(document,"touchmove",this._onTouchMove),le(document,"pointermove",this._onTouchMove),le(document,"dragover",St),le(document,"mousemove",St),le(document,"touchmove",St)},_offUpEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._onDrop),le(e,"touchend",this._onDrop),le(e,"pointerup",this._onDrop),le(e,"touchcancel",this._onDrop),le(document,"selectstart",this)},_onDrop:function(e){var i=this.el,d=this.options;if(Qe=Pe(R),pt=Pe(R,d.draggable),We("drop",this,{evt:e}),Ce=R&&R.parentNode,Qe=Pe(R),pt=Pe(R,d.draggable),W.eventCanceled){this._nulling();return}Tt=!1,ar=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_r(this.cloneId),_r(this._dragStartId),this.nativeDraggable&&(le(document,"drop",this),le(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Yt&&_(document.body,"user-select",""),_(R,"transform",""),e&&(Ht&&(e.cancelable&&e.preventDefault(),!d.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(xe===Ce||Be&&Be.lastPutMode!=="clone")&&Ie&&Ie.parentNode&&Ie.parentNode.removeChild(Ie),R&&(this.nativeDraggable&&le(R,"dragend",this),Mr(R),R.style["will-change"]="",Ht&&!Tt&&Ee(R,Be?Be.options.ghostClass:this.options.ghostClass,!1),Ee(R,this.options.chosenClass,!1),ze({sortable:this,name:"unchoose",toEl:Ce,newIndex:null,newDraggableIndex:null,originalEvent:e}),xe!==Ce?(Qe>=0&&(ze({rootEl:Ce,name:"add",toEl:Ce,fromEl:xe,originalEvent:e}),ze({sortable:this,name:"remove",toEl:Ce,originalEvent:e}),ze({rootEl:Ce,name:"sort",toEl:Ce,fromEl:xe,originalEvent:e}),ze({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),Be&&Be.save()):Qe!==$t&&Qe>=0&&(ze({sortable:this,name:"update",toEl:Ce,originalEvent:e}),ze({sortable:this,name:"sort",toEl:Ce,originalEvent:e})),W.active&&((Qe==null||Qe===-1)&&(Qe=$t,pt=Qt),ze({sortable:this,name:"end",toEl:Ce,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){We("nulling",this),xe=R=Ce=ne=wt=Ie=pr=vt=xt=tt=Ht=Qe=pt=$t=Qt=It=Zt=Be=lr=W.dragged=W.ghost=W.clone=W.active=null,wr.forEach(function(e){e.checked=!0}),wr.length=Dr=Vr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":R&&(this._onDragOver(e),ko(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,d=this.el.children,n=0,s=d.length,t=this.options;n<s;n++)i=d[n],nt(i,t.draggable,this.el,!1)&&e.push(i.getAttribute(t.dataIdAttr)||$o(i));return e},sort:function(e,i){var d={},n=this.el;this.toArray().forEach(function(s,t){var l=n.children[t];nt(l,this.options.draggable,n,!1)&&(d[s]=l)},this),i&&this.captureAnimationState(),e.forEach(function(s){d[s]&&(n.removeChild(d[s]),n.appendChild(d[s]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return nt(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var d=this.options;if(i===void 0)return d[e];var n=nr.modifyOption(this,e,i);typeof n<"u"?d[e]=n:d[e]=i,e==="group"&&En(d)},destroy:function(){We("destroy",this);var e=this.el;e[Re]=null,le(e,"mousedown",this._onTapStart),le(e,"touchstart",this._onTapStart),le(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(le(e,"dragover",this),le(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Sr.splice(Sr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!vt){if(We("hideClone",this),W.eventCanceled)return;_(Ie,"display","none"),this.options.removeCloneOnHide&&Ie.parentNode&&Ie.parentNode.removeChild(Ie),vt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(vt){if(We("showClone",this),W.eventCanceled)return;R.parentNode==xe&&!this.options.group.revertClone?xe.insertBefore(Ie,R):wt?xe.insertBefore(Ie,wt):xe.appendChild(Ie),this.options.group.revertClone&&this.animate(R,Ie),_(Ie,"display",""),vt=!1}}};function ko(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function ur(r,e,i,d,n,s,t,l){var a,u=r[Re],m=u.options.onMove,c;return window.CustomEvent&&!ut&&!rr?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=r,a.dragged=i,a.draggedRect=d,a.related=n||e,a.relatedRect=s||Se(e),a.willInsertAfter=l,a.originalEvent=t,r.dispatchEvent(a),m&&(c=m.call(u,a,t)),c}function Mr(r){r.draggable=!1}function Co(){zr=!1}function Io(r,e,i){var d=Se(Vt(i.el,0,i.options,!0)),n=10;return e?r.clientX<d.left-n||r.clientY<d.top&&r.clientX<d.right:r.clientY<d.top-n||r.clientY<d.bottom&&r.clientX<d.left}function Po(r,e,i){var d=Se(Xr(i.el,i.options.draggable)),n=10;return e?r.clientX>d.right+n||r.clientX<=d.right&&r.clientY>d.bottom&&r.clientX>=d.left:r.clientX>d.right&&r.clientY>d.top||r.clientX<=d.right&&r.clientY>d.bottom+n}function To(r,e,i,d,n,s,t,l){var a=d?r.clientY:r.clientX,u=d?i.height:i.width,m=d?i.top:i.left,c=d?i.bottom:i.right,p=!1;if(!t){if(l&&vr<u*n){if(!qt&&(Zt===1?a>m+u*s/2:a<c-u*s/2)&&(qt=!0),qt)p=!0;else if(Zt===1?a<m+vr:a>c-vr)return-Zt}else if(a>m+u*(1-n)/2&&a<c-u*(1-n)/2)return Ao(e)}return p=p||t,p&&(a<m+u*s/2||a>c-u*s/2)?a>m+u/2?1:-1:0}function Ao(r){return Pe(R)<Pe(r)?1:-1}function $o(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,i=e.length,d=0;i--;)d+=e.charCodeAt(i);return d.toString(36)}function Do(r){wr.length=0;for(var e=r.getElementsByTagName("input"),i=e.length;i--;){var d=e[i];d.checked&&wr.push(d)}}function gr(r){return setTimeout(r,0)}function _r(r){return clearTimeout(r)}kr&&de(document,"touchmove",function(r){(W.active||Tt)&&r.cancelable&&r.preventDefault()});W.utils={on:de,off:le,css:_,find:bn,is:function(e,i){return!!nt(e,i,e,!1)},extend:vo,throttle:yn,closest:nt,toggleClass:Ee,clone:Yr,index:Pe,nextTick:gr,cancelNextTick:_r,detectDirection:wn,getChild:Vt};W.get=function(r){return r[Re]};W.mount=function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(d){if(!d.prototype||!d.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(d));d.utils&&(W.utils=at(at({},W.utils),d.utils)),nr.mount(d)})};W.create=function(r,e){return new W(r,e)};W.version=co;var De=[],Wt,Kr,Hr=!1,Lr,jr,Er,Xt;function Vo(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(i){var d=i.originalEvent;this.sortable.nativeDraggable?de(document,"dragover",this._handleAutoScroll):this.options.supportPointer?de(document,"pointermove",this._handleFallbackAutoScroll):d.touches?de(document,"touchmove",this._handleFallbackAutoScroll):de(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var d=i.originalEvent;!this.options.dragOverBubble&&!d.rootEl&&this._handleAutoScroll(d)},drop:function(){this.sortable.nativeDraggable?le(document,"dragover",this._handleAutoScroll):(le(document,"pointermove",this._handleFallbackAutoScroll),le(document,"touchmove",this._handleFallbackAutoScroll),le(document,"mousemove",this._handleFallbackAutoScroll)),dn(),hr(),go()},nulling:function(){Er=Kr=Wt=Hr=Xt=Lr=jr=null,De.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,d){var n=this,s=(i.touches?i.touches[0]:i).clientX,t=(i.touches?i.touches[0]:i).clientY,l=document.elementFromPoint(s,t);if(Er=i,d||this.options.forceAutoScrollFallback||rr||ut||Yt){Br(i,this.options,l,d);var a=gt(l,!0);Hr&&(!Xt||s!==Lr||t!==jr)&&(Xt&&dn(),Xt=setInterval(function(){var u=gt(document.elementFromPoint(s,t),!0);u!==a&&(a=u,hr()),Br(i,n.options,u,d)},10),Lr=s,jr=t)}else{if(!this.options.bubbleScroll||gt(l,!0)===st()){hr();return}Br(i,this.options,gt(l,!1),!1)}}},qe(r,{pluginName:"scroll",initializeByDefault:!0})}function hr(){De.forEach(function(r){clearInterval(r.pid)}),De=[]}function dn(){clearInterval(Xt)}var Br=yn(function(r,e,i,d){if(e.scroll){var n=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,t=e.scrollSensitivity,l=e.scrollSpeed,a=st(),u=!1,m;Kr!==i&&(Kr=i,hr(),Wt=e.scroll,m=e.scrollFn,Wt===!0&&(Wt=gt(i,!0)));var c=0,p=Wt;do{var g=p,f=Se(g),v=f.top,h=f.bottom,w=f.left,S=f.right,V=f.width,A=f.height,E=void 0,O=void 0,x=g.scrollWidth,T=g.scrollHeight,k=_(g),L=g.scrollLeft,B=g.scrollTop;g===a?(E=V<x&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),O=A<T&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(E=V<x&&(k.overflowX==="auto"||k.overflowX==="scroll"),O=A<T&&(k.overflowY==="auto"||k.overflowY==="scroll"));var te=E&&(Math.abs(S-n)<=t&&L+V<x)-(Math.abs(w-n)<=t&&!!L),F=O&&(Math.abs(h-s)<=t&&B+A<T)-(Math.abs(v-s)<=t&&!!B);if(!De[c])for(var N=0;N<=c;N++)De[N]||(De[N]={});(De[c].vx!=te||De[c].vy!=F||De[c].el!==g)&&(De[c].el=g,De[c].vx=te,De[c].vy=F,clearInterval(De[c].pid),(te!=0||F!=0)&&(u=!0,De[c].pid=setInterval((function(){d&&this.layer===0&&W.active._onTouchMove(Er);var ee=De[this.layer].vy?De[this.layer].vy*l:0,G=De[this.layer].vx?De[this.layer].vx*l:0;typeof m=="function"&&m.call(W.dragged.parentNode[Re],G,ee,r,Er,De[this.layer].el)!=="continue"||xn(De[this.layer].el,G,ee)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&p!==a&&(p=gt(p,!1)));Hr=u}},30),Cn=function(e){var i=e.originalEvent,d=e.putSortable,n=e.dragEl,s=e.activeSortable,t=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(i){var u=d||s;l();var m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,c=document.elementFromPoint(m.clientX,m.clientY);a(),u&&!u.el.contains(c)&&(t("spill"),this.onSpill({dragEl:n,putSortable:d}))}};function Jr(){}Jr.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,d=e.putSortable;this.sortable.captureAnimationState(),d&&d.captureAnimationState();var n=Vt(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),d&&d.animateAll()},drop:Cn};qe(Jr,{pluginName:"revertOnSpill"});function Qr(){}Qr.prototype={onSpill:function(e){var i=e.dragEl,d=e.putSortable,n=d||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:Cn};qe(Qr,{pluginName:"removeOnSpill"});var Ze;function Uo(){function r(){this.defaults={swapClass:"sortable-swap-highlight"}}return r.prototype={dragStart:function(i){var d=i.dragEl;Ze=d},dragOverValid:function(i){var d=i.completed,n=i.target,s=i.onMove,t=i.activeSortable,l=i.changed,a=i.cancel;if(t.options.swap){var u=this.sortable.el,m=this.options;if(n&&n!==u){var c=Ze;s(n)!==!1?(Ee(n,m.swapClass,!0),Ze=n):Ze=null,c&&c!==Ze&&Ee(c,m.swapClass,!1)}l(),d(!0),a()}},drop:function(i){var d=i.activeSortable,n=i.putSortable,s=i.dragEl,t=n||this.sortable,l=this.options;Ze&&Ee(Ze,l.swapClass,!1),Ze&&(l.swap||n&&n.options.swap)&&s!==Ze&&(t.captureAnimationState(),t!==d&&d.captureAnimationState(),Mo(s,Ze),t.animateAll(),t!==d&&d.animateAll())},nulling:function(){Ze=null}},qe(r,{pluginName:"swap",eventProperties:function(){return{swapItem:Ze}}})}function Mo(r,e){var i=r.parentNode,d=e.parentNode,n,s;!i||!d||i.isEqualNode(e)||d.isEqualNode(r)||(n=Pe(r),s=Pe(e),i.isEqualNode(d)&&n<s&&s++,i.insertBefore(e,i.children[n]),d.insertBefore(r,d.children[s]))}var re=[],Je=[],Gt,rt,zt=!1,Xe=!1,Pt=!1,ge,_t,cr;function Lo(){function r(e){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));e.options.supportPointer?de(document,"pointerup",this._deselectMultiDrag):(de(document,"mouseup",this._deselectMultiDrag),de(document,"touchend",this._deselectMultiDrag)),de(document,"keydown",this._checkKeyDown),de(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(n,s){var t="";re.length&&rt===e?re.forEach(function(l,a){t+=(a?", ":"")+l.textContent}):t=s.textContent,n.setData("Text",t)}}}return r.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var d=i.dragEl;ge=d},delayEnded:function(){this.isMultiDrag=~re.indexOf(ge)},setupClone:function(i){var d=i.sortable,n=i.cancel;if(this.isMultiDrag){for(var s=0;s<re.length;s++)Je.push(Yr(re[s])),Je[s].sortableIndex=re[s].sortableIndex,Je[s].draggable=!1,Je[s].style["will-change"]="",Ee(Je[s],this.options.selectedClass,!1),re[s]===ge&&Ee(Je[s],this.options.chosenClass,!1);d._hideClone(),n()}},clone:function(i){var d=i.sortable,n=i.rootEl,s=i.dispatchSortableEvent,t=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||re.length&&rt===d&&(un(!0,n),s("clone"),t()))},showClone:function(i){var d=i.cloneNowShown,n=i.rootEl,s=i.cancel;this.isMultiDrag&&(un(!1,n),Je.forEach(function(t){_(t,"display","")}),d(),cr=!1,s())},hideClone:function(i){var d=this;i.sortable;var n=i.cloneNowHidden,s=i.cancel;this.isMultiDrag&&(Je.forEach(function(t){_(t,"display","none"),d.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),cr=!0,s())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&rt&&rt.multiDrag._deselectMultiDrag(),re.forEach(function(d){d.sortableIndex=Pe(d)}),re=re.sort(function(d,n){return d.sortableIndex-n.sortableIndex}),Pt=!0},dragStarted:function(i){var d=this,n=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){re.forEach(function(t){t!==ge&&_(t,"position","absolute")});var s=Se(ge,!1,!0,!0);re.forEach(function(t){t!==ge&&on(t,s)}),Xe=!0,zt=!0}n.animateAll(function(){Xe=!1,zt=!1,d.options.animation&&re.forEach(function(t){Ar(t)}),d.options.sort&&fr()})}},dragOver:function(i){var d=i.target,n=i.completed,s=i.cancel;Xe&&~re.indexOf(d)&&(n(!1),s())},revert:function(i){var d=i.fromSortable,n=i.rootEl,s=i.sortable,t=i.dragRect;re.length>1&&(re.forEach(function(l){s.addAnimationState({target:l,rect:Xe?Se(l):t}),Ar(l),l.fromRect=t,d.removeAnimationState(l)}),Xe=!1,jo(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(i){var d=i.sortable,n=i.isOwner,s=i.insertion,t=i.activeSortable,l=i.parentEl,a=i.putSortable,u=this.options;if(s){if(n&&t._hideClone(),zt=!1,u.animation&&re.length>1&&(Xe||!n&&!t.options.sort&&!a)){var m=Se(ge,!1,!0,!0);re.forEach(function(p){p!==ge&&(on(p,m),l.appendChild(p))}),Xe=!0}if(!n)if(Xe||fr(),re.length>1){var c=cr;t._showClone(d),t.options.animation&&!cr&&c&&Je.forEach(function(p){t.addAnimationState({target:p,rect:_t}),p.fromRect=_t,p.thisAnimationDuration=null})}else t._showClone(d)}},dragOverAnimationCapture:function(i){var d=i.dragRect,n=i.isOwner,s=i.activeSortable;if(re.forEach(function(l){l.thisAnimationDuration=null}),s.options.animation&&!n&&s.multiDrag.isMultiDrag){_t=qe({},d);var t=Et(ge,!0);_t.top-=t.f,_t.left-=t.e}},dragOverAnimationComplete:function(){Xe&&(Xe=!1,fr())},drop:function(i){var d=i.originalEvent,n=i.rootEl,s=i.parentEl,t=i.sortable,l=i.dispatchSortableEvent,a=i.oldIndex,u=i.putSortable,m=u||this.sortable;if(d){var c=this.options,p=s.children;if(!Pt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ee(ge,c.selectedClass,!~re.indexOf(ge)),~re.indexOf(ge))re.splice(re.indexOf(ge),1),Gt=null,Kt({sortable:t,rootEl:n,name:"deselect",targetEl:ge});else{if(re.push(ge),Kt({sortable:t,rootEl:n,name:"select",targetEl:ge}),d.shiftKey&&Gt&&t.el.contains(Gt)){var g=Pe(Gt),f=Pe(ge);if(~g&&~f&&g!==f){var v,h;for(f>g?(h=g,v=f):(h=f,v=g+1);h<v;h++)~re.indexOf(p[h])||(Ee(p[h],c.selectedClass,!0),re.push(p[h]),Kt({sortable:t,rootEl:n,name:"select",targetEl:p[h]}))}}else Gt=ge;rt=m}if(Pt&&this.isMultiDrag){if(Xe=!1,(s[Re].options.sort||s!==n)&&re.length>1){var w=Se(ge),S=Pe(ge,":not(."+this.options.selectedClass+")");if(!zt&&c.animation&&(ge.thisAnimationDuration=null),m.captureAnimationState(),!zt&&(c.animation&&(ge.fromRect=w,re.forEach(function(A){if(A.thisAnimationDuration=null,A!==ge){var E=Xe?Se(A):w;A.fromRect=E,m.addAnimationState({target:A,rect:E})}})),fr(),re.forEach(function(A){p[S]?s.insertBefore(A,p[S]):s.appendChild(A),S++}),a===Pe(ge))){var V=!1;re.forEach(function(A){if(A.sortableIndex!==Pe(A)){V=!0;return}}),V&&l("update")}re.forEach(function(A){Ar(A)}),m.animateAll()}rt=m}(n===s||u&&u.lastPutMode!=="clone")&&Je.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Pt=!1,Je.length=0},destroyGlobal:function(){this._deselectMultiDrag(),le(document,"pointerup",this._deselectMultiDrag),le(document,"mouseup",this._deselectMultiDrag),le(document,"touchend",this._deselectMultiDrag),le(document,"keydown",this._checkKeyDown),le(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof Pt<"u"&&Pt)&&rt===this.sortable&&!(i&&nt(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;re.length;){var d=re[0];Ee(d,this.options.selectedClass,!1),re.shift(),Kt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:d})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},qe(r,{pluginName:"multiDrag",utils:{select:function(i){var d=i.parentNode[Re];!d||!d.options.multiDrag||~re.indexOf(i)||(rt&&rt!==d&&(rt.multiDrag._deselectMultiDrag(),rt=d),Ee(i,d.options.selectedClass,!0),re.push(i))},deselect:function(i){var d=i.parentNode[Re],n=re.indexOf(i);!d||!d.options.multiDrag||!~n||(Ee(i,d.options.selectedClass,!1),re.splice(n,1))}},eventProperties:function(){var i=this,d=[],n=[];return re.forEach(function(s){d.push({multiDragElement:s,index:s.sortableIndex});var t;Xe&&s!==ge?t=-1:Xe?t=Pe(s,":not(."+i.options.selectedClass+")"):t=Pe(s),n.push({multiDragElement:s,index:t})}),{items:io(re),clones:[].concat(Je),oldIndicies:d,newIndicies:n}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function jo(r,e){re.forEach(function(i,d){var n=e.children[i.sortableIndex+(r?Number(d):0)];n?e.insertBefore(i,n):e.appendChild(i)})}function un(r,e){Je.forEach(function(i,d){var n=e.children[i.sortableIndex+(r?Number(d):0)];n?e.insertBefore(i,n):e.appendChild(i)})}function fr(){re.forEach(function(r){r!==ge&&r.parentNode&&r.parentNode.removeChild(r)})}W.mount(new Vo);W.mount(Qr,Jr);const Bo=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Lo,Sortable:W,Swap:Uo,default:W},Symbol.toStringTag,{value:"Module"})),Fo={class:"card mb-4 p-3"},Ro={class:"mb-3"},No={class:"text-muted"},Go=["src"],zo=["onClick"],_o={class:"badge-main"},Ko={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae([...i.modelValue]);lt(()=>i.modelValue,c=>{c!==n.value&&(n.value=[...c])});function s(c){let p=(c==null?void 0:c.url)||(c==null?void 0:c.full_url)||(c==null?void 0:c.path)||(c==null?void 0:c.storage_path)||(c==null?void 0:c.image)||(c==null?void 0:c.filepath)||(c==null?void 0:c.filename)||(c==null?void 0:c.name);if(!p)return"";if(p=String(p),p.startsWith("blob:")||p.startsWith("data:")||/^https?:\/\//i.test(p)||p.startsWith("/"))return p;if(p.startsWith("storage/"))return`/${p.replace(/^\/+/,"")}`;const g=p.indexOf("/storage/");return g!==-1?p.slice(g):(p=p.replace(/^public\//,""),`/storage/${p.replace(/^\/+/,"")}`)}function t(c){c.target.src="/images/placeholder.png"}function l(){n.value.forEach((c,p)=>{c.position=p,c.is_main=p===0}),d("update:modelValue",[...n.value])}function a(c){Array.from(c.target.files).forEach(g=>{n.value.push({id:Date.now()+Math.random(),file:g,url:URL.createObjectURL(g),position:n.value.length,is_main:!1})}),l(),c.target.value=""}function u(c){const p=n.value[c];if(p!=null&&p.url&&String(p.url).startsWith("blob:"))try{URL.revokeObjectURL(p.url)}catch{}n.value.splice(c,1),l()}const m=Ae(null);return er(()=>{W.create(m.value,{animation:150,onEnd:c=>{const p=n.value.splice(c.oldIndex,1)[0];n.value.splice(c.newIndex,0,p),l()}})}),(c,p)=>(b(),y("div",Fo,[p[0]||(p[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",Ro,[o("input",{type:"file",class:"form-control",multiple:"",onChange:a},null,32),o("small",No,"Файлів: "+P(n.value.length),1)]),o("div",{ref_key:"containerRef",ref:m,class:"d-flex gap-2 flex-wrap"},[(b(!0),y(q,null,ve(n.value,(g,f)=>(b(),y("div",{key:g.id,class:"image-item"},[o("img",{src:s(g),alt:"",onError:t},null,40,Go),o("button",{type:"button",class:"remove-btn",onClick:v=>u(f)},"×",8,zo),o("span",_o,P(f===0?"Головне":"#"+(f+1)),1)]))),128))],512)]))}},Ho=se(Ko,[["__scopeId","data-v-27ac975c"]]),Wo={name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],data(){return{lang:"uk",activeTab:"text",editIdx:null,form:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},tabs:{uk:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка зліва"},{value:"two_images",label:"Дві картинки"}],ru:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка слева"},{value:"two_images",label:"Две картинки"}]}}},computed:{getTabs(){return this.lang==="uk"?this.tabs.uk:this.tabs.ru},descriptionBlocks:{get(){return this.modelValue},set(r){this.$emit("update:modelValue",r)}}},watch:{activeTab(){this.resetForm(),this.editIdx=null},lang(){this.resetForm(),this.editIdx=null}},methods:{onImageChange(r,e,i=1){const d=r.target.files[0];if(!d)return;const n=new FileReader;n.onload=s=>{e==="two_images"?i===1?this.form.imageUrl1=s.target.result:this.form.imageUrl2=s.target.result:this.form.imageUrl=s.target.result},n.readAsDataURL(d)},addBlock(){const r={type:this.activeTab,_key:this.editIdx!==null?this.descriptionBlocks[this.lang][this.editIdx]._key:Date.now()+Math.random()};this.activeTab==="text"?(r.title=this.form.title,r.text=this.form.text):this.activeTab==="image_right"||this.activeTab==="image_left"?(r.title=this.form.title,r.text=this.form.text,r.imageUrl=this.form.imageUrl):this.activeTab==="two_images"&&(r.imageUrl1=this.form.imageUrl1,r.imageUrl2=this.form.imageUrl2);const e={...this.descriptionBlocks},i=[...e[this.lang]||[]];this.editIdx!==null?i[this.editIdx]=r:i.push(r),e[this.lang]=i,this.descriptionBlocks=e,this.resetForm(),this.editIdx=null,this.$nextTick(()=>{const d=this.$refs.lastBlock;d&&d.scrollIntoView&&d.scrollIntoView({behavior:"smooth",block:"center"})})},resetForm(){this.form={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},getLabel(r){return{uk:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка зліва",image1:"Перша картинка",image2:"Друга картинка",add:this.editIdx!==null?"Оновити":"Додати"},ru:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка слева",image1:"Первая картинка",image2:"Вторая картинка",add:this.editIdx!==null?"Обновить":"Добавить"}}[this.lang][r]},getBlockTypeLabel(r){return{text:{uk:"Текст",ru:"Текст"},image_right:{uk:"Картинка справа",ru:"Картинка справа"},image_left:{uk:"Картинка зліва",ru:"Картинка слева"},two_images:{uk:"Дві картинки",ru:"Две картинки"}}[r][this.lang]},deleteBlock(r){const e={...this.descriptionBlocks};e[this.lang]=[...e[this.lang]||[]],e[this.lang].splice(r,1),this.descriptionBlocks=e,this.resetForm(),this.editIdx=null},editBlock(r){const e=this.descriptionBlocks[this.lang][r];this.activeTab=e.type,this.editIdx=r,this.form={title:e.title||"",text:e.text||"",imageUrl:e.imageUrl||"",imageUrl1:e.imageUrl1||"",imageUrl2:e.imageUrl2||""},this.$nextTick(()=>{const i=this.$el.querySelector("form");i&&i.scrollIntoView({behavior:"smooth",block:"center"})})}}},Xo={class:"card mb-4 p-4"},Yo={class:"nav nav-tabs mb-3"},Jo={class:"nav-item"},Qo={class:"nav-item"},Zo={class:"mb-3 d-flex align-items-center gap-2 flex-wrap"},qo=["onClick"],ei={class:"mb-3"},ti={class:"form-label"},ri={class:"mb-3"},ni={class:"form-label"},oi={type:"submit",class:"btn btn-success"},ii={class:"row"},si={class:"col-md-7 mb-3"},li={class:"form-label"},ai={class:"form-label mt-3"},di={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},ui={class:"form-label"},ci={key:0,class:"mt-3 w-100 d-flex justify-content-center"},fi=["src"],mi={type:"submit",class:"btn btn-success mt-2 w-100"},pi={class:"row"},vi={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},gi={class:"form-label"},hi={key:0,class:"mt-3 w-100 d-flex justify-content-center"},bi=["src"],yi={class:"col-md-7 mb-3"},xi={class:"form-label"},Si={class:"form-label mt-3"},wi={type:"submit",class:"btn btn-success mt-2 w-100"},Ei={class:"row"},Oi={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},ki={class:"form-label"},Ci={key:0,class:"mt-3 w-100 d-flex justify-content-center"},Ii=["src"],Pi={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},Ti={class:"form-label"},Ai={key:0,class:"mt-3 w-100 d-flex justify-content-center"},$i=["src"],Di={type:"submit",class:"btn btn-success mt-2 w-100"},Vi={key:0,class:"desc-text-only"},Ui={class:"desc-title"},Mi={class:"desc-content"},Li={key:1,class:"desc-two-cols"},ji={class:"desc-cols-text text-start"},Bi={class:"desc-title"},Fi={class:"desc-content"},Ri={class:"desc-cols-img-wrap"},Ni=["src"],Gi={key:2,class:"desc-two-cols"},zi={class:"desc-cols-img-wrap"},_i=["src"],Ki={class:"desc-cols-text text-start"},Hi={class:"desc-title"},Wi={class:"desc-content"},Xi={key:3,class:"desc-two-images"},Yi={class:"desc-cols-img-wrap"},Ji=["src"],Qi={class:"desc-cols-img-wrap"},Zi=["src"],qi={class:"mt-3 text-end"},es=["onClick"],ts=["onClick"];function rs(r,e,i,d,n,s){return b(),y("div",Xo,[e[17]||(e[17]=o("h6",{class:"fw-bold mb-3"},"Опис товару",-1)),o("ul",Yo,[o("li",Jo,[o("button",{class:J(["nav-link",{active:n.lang==="uk"}]),onClick:e[0]||(e[0]=t=>n.lang="uk"),type:"button"},"Українська",2)]),o("li",Qo,[o("button",{class:J(["nav-link",{active:n.lang==="ru"}]),onClick:e[1]||(e[1]=t=>n.lang="ru"),type:"button"},"Російська",2)])]),o("div",Zo,[(b(!0),y(q,null,ve(s.getTabs,t=>(b(),y("button",{key:t.value,onClick:l=>n.activeTab=t.value,class:J(["btn d-flex align-items-center",n.activeTab===t.value?"btn-primary":"btn-outline-primary"]),type:"button"},[pe(P(t.label)+" ",1),o("span",{class:J(["badge ms-2",n.lang==="uk"?"bg-primary":"bg-danger"])},P(n.lang.toUpperCase()),3)],10,qo))),128))]),n.activeTab==="text"?(b(),y("form",{key:0,onSubmit:e[4]||(e[4]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",ei,[o("label",ti,P(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>n.form.title=t)},null,512),[[j,n.form.title]])]),o("div",ri,[o("label",ni,P(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[3]||(e[3]=t=>n.form.text=t)},null,512),[[j,n.form.text]])]),o("button",oi,P(s.getLabel("add")),1)],32)):D("",!0),n.activeTab==="image_right"?(b(),y("form",{key:1,onSubmit:e[8]||(e[8]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",ii,[o("div",si,[o("label",li,P(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>n.form.title=t)},null,512),[[j,n.form.title]]),o("label",ai,P(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[6]||(e[6]=t=>n.form.text=t)},null,512),[[j,n.form.text]])]),o("div",di,[o("label",ui,P(s.getLabel("image_right")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=t=>s.onImageChange(t,"image_right"))},null,32),n.form.imageUrl?(b(),y("div",ci,[o("img",{src:n.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,fi)])):D("",!0)])]),o("button",mi,P(s.getLabel("add")),1)],32)):D("",!0),n.activeTab==="image_left"?(b(),y("form",{key:2,onSubmit:e[12]||(e[12]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",pi,[o("div",vi,[o("label",gi,P(s.getLabel("image_left")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[9]||(e[9]=t=>s.onImageChange(t,"image_left"))},null,32),n.form.imageUrl?(b(),y("div",hi,[o("img",{src:n.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,bi)])):D("",!0)]),o("div",yi,[o("label",xi,P(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=t=>n.form.title=t)},null,512),[[j,n.form.title]]),o("label",Si,P(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[11]||(e[11]=t=>n.form.text=t)},null,512),[[j,n.form.text]])])]),o("button",wi,P(s.getLabel("add")),1)],32)):D("",!0),n.activeTab==="two_images"?(b(),y("form",{key:3,onSubmit:e[15]||(e[15]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",Ei,[o("div",Oi,[o("label",ki,P(s.getLabel("image1")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[13]||(e[13]=t=>s.onImageChange(t,"two_images",1))},null,32),n.form.imageUrl1?(b(),y("div",Ci,[o("img",{src:n.form.imageUrl1,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,Ii)])):D("",!0)]),o("div",Pi,[o("label",Ti,P(s.getLabel("image2")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[14]||(e[14]=t=>s.onImageChange(t,"two_images",2))},null,32),n.form.imageUrl2?(b(),y("div",Ai,[o("img",{src:n.form.imageUrl2,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,$i)])):D("",!0)])]),o("button",Di,P(s.getLabel("add")),1)],32)):D("",!0),Y(Wr,{name:"fade",tag:"div",class:"mt-4",ref:"blockList"},{default:Ke(()=>[(b(!0),y(q,null,ve(s.descriptionBlocks[n.lang],(t,l)=>(b(),y("div",{key:t._key,class:"card p-3 mb-2 description-preview-block",ref_for:!0,ref:l===s.descriptionBlocks[n.lang].length-1?"lastBlock":null},[t.type==="text"?(b(),y("div",Vi,[o("div",Ui,P(t.title),1),o("div",Mi,P(t.text),1)])):D("",!0),t.type==="image_right"?(b(),y("div",Li,[o("div",ji,[o("div",Bi,P(t.title),1),o("div",Fi,P(t.text),1)]),o("div",Ri,[t.imageUrl?(b(),y("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,Ni)):D("",!0)])])):D("",!0),t.type==="image_left"?(b(),y("div",Gi,[o("div",zi,[t.imageUrl?(b(),y("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,_i)):D("",!0)]),o("div",Ki,[o("div",Hi,P(t.title),1),o("div",Wi,P(t.text),1)])])):D("",!0),t.type==="two_images"?(b(),y("div",Xi,[o("div",Yi,[t.imageUrl1?(b(),y("img",{key:0,src:t.imageUrl1,alt:"",class:"desc-cols-img"},null,8,Ji)):D("",!0)]),o("div",Qi,[t.imageUrl2?(b(),y("img",{key:0,src:t.imageUrl2,alt:"",class:"desc-cols-img"},null,8,Zi)):D("",!0)])])):D("",!0),o("div",qi,[o("button",{class:"btn btn-outline-secondary btn-sm me-1",onClick:a=>s.editBlock(l)}," Редагувати ",8,es),o("button",{class:"btn btn-outline-danger btn-sm",onClick:a=>s.deleteBlock(l)},e[16]||(e[16]=[o("i",{class:"bi bi-trash"},null,-1)]),8,ts)])]))),128))]),_:1},512)])}const ns=se(Wo,[["render",rs],["__scopeId","data-v-2bbe8ab4"]]),os={class:"card mb-4 p-4"},is={class:"mb-3"},ss={key:0,class:"invalid-feedback"},ls={class:"mb-3"},as={class:"mb-3"},ds={key:0,class:"invalid-feedback"},us={class:"mb-3"},cs={class:"mb-3"},fs={key:0,class:"invalid-feedback"},ms={class:"form-check form-switch mb-2"},ps={class:"form-check form-switch"},vs={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(r){return(e,i)=>{var d,n,s,t,l,a;return b(),y("div",os,[o("div",is,[i[7]||(i[7]=o("label",{class:"form-label"},"Ціна",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(d=r.errors)==null?void 0:d.price}]),"onUpdate:modelValue":i[0]||(i[0]=u=>r.form.price=u),placeholder:"Ціна"},null,2),[[j,r.form.price]]),(n=r.errors)!=null&&n.price?(b(),y("div",ss,P(r.errors.price),1)):D("",!0)]),o("div",ls,[i[8]||(i[8]=o("label",{class:"form-label"},"Стара ціна",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=u=>r.form.old_price=u)},null,512),[[j,r.form.old_price]])]),o("div",as,[i[9]||(i[9]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(s=r.errors)==null?void 0:s.sku}]),"onUpdate:modelValue":i[2]||(i[2]=u=>r.form.sku=u)},null,2),[[j,r.form.sku]]),(t=r.errors)!=null&&t.sku?(b(),y("div",ds,P(r.errors.sku),1)):D("",!0)]),o("div",us,[i[10]||(i[10]=o("label",{class:"form-label"},"Штрихкод",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=u=>r.form.barcode=u)},null,512),[[j,r.form.barcode]])]),o("div",cs,[i[11]||(i[11]=o("label",{class:"form-label"},"Кількість",-1)),U(o("input",{type:"number",class:J(["form-control",{"is-invalid":(l=r.errors)==null?void 0:l.quantity_in_stock}]),"onUpdate:modelValue":i[4]||(i[4]=u=>r.form.quantity_in_stock=u)},null,2),[[j,r.form.quantity_in_stock]]),(a=r.errors)!=null&&a.quantity_in_stock?(b(),y("div",fs,P(r.errors.quantity_in_stock),1)):D("",!0)]),o("div",ms,[U(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":i[5]||(i[5]=u=>r.form.is_available=u)},null,512),[[tr,r.form.is_available]]),i[12]||(i[12]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))]),o("div",ps,[U(o("input",{class:"form-check-input",type:"checkbox",id:"popularSwitch","onUpdate:modelValue":i[6]||(i[6]=u=>r.form.is_popular=u)},null,512),[[tr,r.form.is_popular]]),i[13]||(i[13]=o("label",{class:"form-check-label",for:"popularSwitch"},"Популярне",-1))])])}}};function Fr(r){return r===0?!1:Array.isArray(r)&&r.length===0?!0:!r}function gs(r){return(...e)=>!r(...e)}function hs(r,e){return r===void 0&&(r="undefined"),r===null&&(r="null"),r===!1&&(r="false"),r.toString().toLowerCase().indexOf(e.trim())!==-1}function bs(r){return r.filter(e=>!e.$isLabel)}function Rr(r,e){return i=>i.reduce((d,n)=>n[r]&&n[r].length?(d.push({$groupLabel:n[e],$isLabel:!0}),d.concat(n[r])):d,[])}const cn=(...r)=>e=>r.reduce((i,d)=>d(i),e);var ys={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(r,e){return Fr(r)?"":e?r[e]:r}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const r=this.search||"",e=r.toLowerCase().trim();let i=this.options.concat();return this.internalSearch?i=this.groupValues?this.filterAndFlat(i,e,this.label):this.filterOptions(i,e,this.label,this.customLabel):i=this.groupValues?Rr(this.groupValues,this.groupLabel)(i):i,i=this.hideSelected?i.filter(gs(this.isSelected)):i,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?i.push({isTag:!0,label:r}):i.unshift({isTag:!0,label:r})),i.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(r=>r[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(r,e,i){return cn(this.filterGroups(e,i,this.groupValues,this.groupLabel,this.customLabel),Rr(this.groupValues,this.groupLabel))(r)},flatAndStrip(r){return cn(Rr(this.groupValues,this.groupLabel),bs)(r)},updateSearch(r){this.search=r},isExistingOption(r){return this.options?this.optionKeys.indexOf(r)>-1:!1},isSelected(r){const e=this.trackBy?r[this.trackBy]:r;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(r){return!!r.$isDisabled},getOptionLabel(r){if(Fr(r))return"";if(r.isTag)return r.label;if(r.$isLabel)return r.$groupLabel;const e=this.customLabel(r,this.label);return Fr(e)?"":e},select(r,e){if(r.$isLabel&&this.groupSelect){this.selectGroup(r);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||r.$isDisabled||r.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(r.isTag)this.$emit("tag",r.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(r)){e!=="Tab"&&this.removeElement(r);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([r])):this.$emit("update:modelValue",r),this.$emit("select",r,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(r){const e=this.options.find(i=>i[this.groupLabel]===r.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const i=this.trackBy?e[this.groupValues].map(n=>n[this.trackBy]):e[this.groupValues],d=this.internalValue.filter(n=>i.indexOf(this.trackBy?n[this.trackBy]:n)===-1);this.$emit("update:modelValue",d)}else{const i=e[this.groupValues].filter(d=>!(this.isOptionDisabled(d)||this.isSelected(d)));this.max&&i.splice(this.max-this.internalValue.length),this.$emit("select",i,this.id),this.$emit("update:modelValue",this.internalValue.concat(i))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(r){return r[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(r){return r[this.groupValues].every(this.isOptionDisabled)},removeElement(r,e=!0){if(this.disabled||r.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const i=typeof r=="object"?this.valueKeys.indexOf(r[this.trackBy]):this.valueKeys.indexOf(r);if(this.multiple){const d=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("update:modelValue",d)}else this.$emit("update:modelValue",null);this.$emit("remove",r,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const r=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>r||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(r-40,this.maxHeight))},filterOptions(r,e,i,d){return e?r.filter(n=>hs(d(n,i),e)).sort((n,s)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(n,s):d(n,i).length-d(s,i).length):r},filterGroups(r,e,i,d,n){return s=>s.map(t=>{if(!t[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const l=this.filterOptions(t[i],r,e,n);return l.length?{[d]:t[d],[i]:l}:[]})}}},xs={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(r,e){return{"multiselect__option--highlight":r===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(r,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const i=this.options.find(d=>d[this.groupLabel]===e.$groupLabel);return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":r===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement({key:r}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],r),this.pointerReset()},pointerForward(){var r;this.pointer<this.filteredOptions.length-1&&(this.pointer++,((r=this.$refs.list)==null?void 0:r.scrollTop)<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){var r;this.pointer>0?(this.pointer--,((r=this.$refs.list)==null?void 0:r.scrollTop)>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(r){this.pointer=r,this.pointerDirty=!0}}},Ut={name:"vue-multiselect",mixins:[ys,xs],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:r=>`and ${r} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1},useTeleport:{type:Boolean,default:!1}},data(){return{dropdownStyles:{},ready:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}},watch:{isOpen(r){r&&(this.useTeleport?(this.ready=!1,this.$nextTick(()=>{const e=this.$el.getBoundingClientRect();this.dropdownStyles={position:"absolute",top:`${e.bottom+window.scrollY}px`,left:`${e.left+window.scrollX}px`,width:`${e.width}px`,zIndex:9999},this.ready=!0})):this.ready=!0)}}};const Ss=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],ws={ref:"tags",class:"multiselect__tags"},Es={class:"multiselect__tags-wrap"},Os=["textContent"],ks=["onKeypress","onMousedown"],Cs=["textContent"],Is={class:"multiselect__spinner"},Ps=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],Ts=["id","aria-multiselectable"],As={key:0},$s={class:"multiselect__option"},Ds=["aria-selected","id","role"],Vs=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Us=["data-select","data-deselect","onMouseenter","onMousedown"],Ms={class:"multiselect__option"},Ls={class:"multiselect__option"};function js(r,e,i,d,n,s){return b(),y("div",{tabindex:r.searchable?-1:i.tabindex,class:J([{"multiselect--active":r.isOpen,"multiselect--disabled":i.disabled,"multiselect--above":s.isAbove,"multiselect--has-options-group":s.hasOptionGroup},"multiselect"]),onFocus:e[14]||(e[14]=t=>r.activate()),onBlur:e[15]||(e[15]=t=>r.searchable?!1:r.deactivate()),onKeydown:[e[16]||(e[16]=_e(oe(t=>r.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=_e(oe(t=>r.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=_e(oe(t=>r.addPointerElement(t),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=_e(t=>r.deactivate(),["esc"])),role:"combobox","aria-expanded":r.isOpen,"aria-owns":"listbox-"+r.id,"aria-activedescendant":r.isOpen&&r.pointer!==null?r.id+"-"+r.pointer:null},[Ge(r.$slots,"caret",{toggle:r.toggle},()=>[o("div",{onMousedown:e[0]||(e[0]=oe(t=>r.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),Ge(r.$slots,"clear",{search:r.search}),o("div",ws,[Ge(r.$slots,"selection",{search:r.search,remove:r.removeElement,values:s.visibleValues,isOpen:r.isOpen},()=>[U(o("div",Es,[(b(!0),y(q,null,ve(s.visibleValues,(t,l)=>Ge(r.$slots,"tag",{option:t,search:r.search,remove:r.removeElement},()=>[(b(),y("span",{class:"multiselect__tag",key:l,onMousedown:e[1]||(e[1]=oe(()=>{},["prevent"]))},[o("span",{textContent:P(r.getOptionLabel(t))},null,8,Os),o("i",{tabindex:"1",onKeypress:_e(oe(a=>r.removeElement(t),["prevent"]),["enter"]),onMousedown:oe(a=>r.removeElement(t),["prevent"]),class:"multiselect__tag-icon"},null,40,ks)],32))])),256))],512),[[sr,s.visibleValues.length>0]]),r.internalValue&&r.internalValue.length>i.limit?Ge(r.$slots,"limit",{key:0},()=>[o("strong",{class:"multiselect__strong",textContent:P(i.limitText(r.internalValue.length-i.limit))},null,8,Cs)]):D("v-if",!0)]),Y(Nr,{name:"multiselect__loading"},{default:Ke(()=>[Ge(r.$slots,"loading",{},()=>[U(o("div",Is,null,512),[[sr,i.loading]])])]),_:3}),r.searchable?(b(),y("input",{key:0,ref:"search",name:i.name,id:r.id,type:"text",autocomplete:"off",spellcheck:i.spellcheck,placeholder:r.placeholder,required:s.isRequired,style:Pr(s.inputStyle),value:r.search,disabled:i.disabled,tabindex:i.tabindex,"aria-label":i.name+"-searchbox",onInput:e[2]||(e[2]=t=>r.updateSearch(t.target.value)),onFocus:e[3]||(e[3]=oe(t=>r.activate(),["prevent"])),onBlur:e[4]||(e[4]=oe(t=>r.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=_e(t=>r.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=_e(oe(t=>r.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=_e(oe(t=>r.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=_e(oe(t=>r.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=_e(oe(t=>r.addPointerElement(t),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+r.id},null,44,Ps)):D("v-if",!0),s.isSingleLabelVisible?(b(),y("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=oe((...t)=>r.toggle&&r.toggle(...t),["prevent"]))},[Ge(r.$slots,"singleLabel",{option:s.singleValue},()=>[pe(P(r.currentOptionLabel),1)])],32)):D("v-if",!0),s.isPlaceholderVisible?(b(),y("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=oe((...t)=>r.toggle&&r.toggle(...t),["prevent"]))},[Ge(r.$slots,"placeholder",{},()=>[pe(P(r.placeholder),1)])],32)):D("v-if",!0)],512),(b(),mn(pn,{to:"body",disabled:!i.useTeleport},[Y(Nr,{name:"multiselect"},{default:Ke(()=>[r.isOpen&&n.ready?(b(),y("div",{key:0,class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...t)=>r.activate&&r.activate(...t)),tabindex:"-1",onMousedown:e[13]||(e[13]=oe(()=>{},["prevent"])),style:Pr([n.dropdownStyles,{maxHeight:r.optimizedHeight+"px"}]),ref:"list"},[o("ul",{class:"multiselect__content",style:Pr(s.contentStyle),role:"listbox",id:"listbox-"+r.id,"aria-multiselectable":r.multiple},[Ge(r.$slots,"beforeList"),r.multiple&&r.max===r.internalValue.length?(b(),y("li",As,[o("span",$s,[Ge(r.$slots,"maxElements",{},()=>[pe("Maximum of "+P(r.max)+" options selected. First remove a selected option to select another.",1)])])])):D("v-if",!0),!r.max||r.internalValue.length<r.max?(b(!0),y(q,{key:1},ve(r.filteredOptions,(t,l)=>(b(),y("li",{class:"multiselect__element",key:l,"aria-selected":r.isSelected(t),id:r.id+"-"+l,role:t&&(t.$isLabel||t.$isDisabled)?null:"option"},[t&&(t.$isLabel||t.$isDisabled)?D("v-if",!0):(b(),y("span",{key:0,class:J([r.optionHighlight(l,t),"multiselect__option"]),onClick:oe(a=>r.select(t),["stop"]),onMouseenter:oe(a=>r.pointerSet(l),["self"]),"data-select":t&&t.isTag?r.tagPlaceholder:s.selectLabelText,"data-selected":s.selectedLabelText,"data-deselect":s.deselectLabelText},[Ge(r.$slots,"option",{option:t,search:r.search,index:l},()=>[o("span",null,P(r.getOptionLabel(t)),1)])],42,Vs)),t&&(t.$isLabel||t.$isDisabled)?(b(),y("span",{key:1,"data-select":r.groupSelect&&s.selectGroupLabelText,"data-deselect":r.groupSelect&&s.deselectGroupLabelText,class:J([r.groupHighlight(l,t),"multiselect__option"]),onMouseenter:oe(a=>r.groupSelect&&r.pointerSet(l),["self"]),onMousedown:oe(a=>r.selectGroup(t),["prevent"])},[Ge(r.$slots,"option",{option:t,search:r.search,index:l},()=>[o("span",null,P(r.getOptionLabel(t)),1)])],42,Us)):D("v-if",!0)],8,Ds))),128)):D("v-if",!0),U(o("li",null,[o("span",Ms,[Ge(r.$slots,"noResult",{search:r.search},()=>[e[20]||(e[20]=pe("No elements found. Consider changing the search query."))])])],512),[[sr,i.showNoResults&&r.filteredOptions.length===0&&r.search&&!i.loading]]),U(o("li",null,[o("span",Ls,[Ge(r.$slots,"noOptions",{},()=>[e[21]||(e[21]=pe("List is empty."))])])],512),[[sr,i.showNoOptions&&(r.options.length===0||s.hasOptionGroup===!0&&r.filteredOptions.length===0)&&!r.search&&!i.loading]]),Ge(r.$slots,"afterList")],12,Ts)],36)):D("v-if",!0)]),_:3})],8,["disabled"]))],42,Ss)}Ut.render=js;const Bs={name:"ProductCategory",components:{Multiselect:Ut},props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{options:[],localSelected:[]}},computed:{hasError(){var r;return!!((r=this.errors)!=null&&r.categories)},errorText(){var r;return((r=this.errors)==null?void 0:r.categories)||""}},watch:{modelValue:{immediate:!0,handler(r){JSON.stringify(r)!==JSON.stringify(this.localSelected)&&(this.localSelected=Array.isArray(r)?[...r]:[])}},localSelected(r){JSON.stringify(r)!==JSON.stringify(this.modelValue)&&this.$emit("update:modelValue",r)}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){try{const r=await he.get("/api/category-select/uk");this.options=r.data}catch(r){console.error("Не вдалося отримати категорії",r)}}}},Fs={class:"card mb-4 p-4"},Rs={key:0,class:"invalid-feedback",style:{display:"block"}},Ns={key:1,class:"mt-2"};function Gs(r,e,i,d,n,s){const t=ae("Multiselect");return b(),y("div",Fs,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Y(t,{modelValue:n.localSelected,"onUpdate:modelValue":e[0]||(e[0]=l=>n.localSelected=l),options:n.options,multiple:!0,placeholder:"Виберіть категорії",label:"name","track-by":"id",class:J(["mb-2",{"is-invalid":s.hasError}])},null,8,["modelValue","options","class"]),s.hasError?(b(),y("div",Rs,P(s.errorText),1)):D("",!0),n.localSelected.length?(b(),y("div",Ns,[(b(!0),y(q,null,ve(n.localSelected,l=>(b(),y("span",{key:l.id,class:"badge bg-primary me-1"},P(l.name),1))),128))])):D("",!0)])}const zs=se(Bs,[["render",Gs],["__scopeId","data-v-cadacbff"]]),_s={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(r=>String(r.id)===String(this.internalSelectedId))},ukTableRows(){const r=this.selectedGuide;return!r||!r.sizes||!r.sizes.uk?[]:Array.isArray(r.sizes.uk)?r.sizes.uk:Object.entries(r.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(r){this.internalSelectedId=r},internalSelectedId(r){this.$emit("update:modelValue",r)}},created(){he.get("/admin/size-guides").then(r=>{this.sizeGuides=r.data}).catch(r=>{console.error("Error fetching size guides:",r)})}},Ks={class:"card mb-4 p-4"},Hs={class:"mb-3"},Ws=["value"],Xs={key:0,class:"invalid-feedback",style:{display:"block"}},Ys={key:0,class:"mt-3"},Js={class:"form-label"},Qs={key:0},Zs={class:"table table-sm mt-2"},qs={key:1};function el(r,e,i,d,n,s){var t,l;return b(),y("div",Ks,[o("div",Hs,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),U(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.internalSelectedId=a),class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(b(!0),y(q,null,ve(n.sizeGuides,a=>(b(),y("option",{value:a.id,key:a.id},P(a.name),9,Ws))),128))],2),[[ht,n.internalSelectedId]]),(l=i.errors)!=null&&l.size_guide_id?(b(),y("div",Xs,P(i.errors.size_guide_id),1)):D("",!0)]),s.selectedGuide?(b(),y("div",Ys,[o("label",Js,"Розмірна сітка: "+P(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(b(),y("div",Qs,[o("table",Zs,[o("thead",null,[o("tr",null,[(b(!0),y(q,null,ve(s.ukTableColumns,a=>(b(),y("th",{key:a},P(a),1))),128))])]),o("tbody",null,[(b(!0),y(q,null,ve(s.ukTableRows,(a,u)=>(b(),y("tr",{key:u},[(b(!0),y(q,null,ve(s.ukTableColumns,m=>(b(),y("td",{key:m},P(a[m]||"-"),1))),128))]))),128))])])])):(b(),y("div",qs,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):D("",!0)])}const tl=se(_s,[["render",el]]),rl={class:"card mb-4 p-4"},nl={class:"fw-bold mb-3 d-flex align-items-center gap-2"},ol={key:0,class:"badge bg-secondary"},il={class:"row g-3 align-items-start"},sl={class:"col-md-5"},ll={class:"variant-form shadow-sm rounded-3 p-3 mb-3 bg-light"},al={class:"mb-2"},dl=["onKeydown"],ul={id:"sizeOptions"},cl=["value"],fl={class:"mb-2"},ml=["onKeydown"],pl={id:"colorOptions"},vl=["value"],gl={class:"mb-2"},hl={class:"input-group"},bl=["onKeydown"],yl={class:"input-group-text"},xl={class:"mb-2"},Sl={class:"input-group"},wl=["onKeydown"],El={class:"input-group-text"},Ol={class:"mb-3"},kl=["onKeydown"],Cl={key:0,class:"small text-danger mb-2"},Il={class:"d-grid gap-2"},Pl=["disabled"],Tl={key:1,class:"d-grid gap-2"},Al=["disabled"],$l={class:"col-md-7"},Dl={class:"variant-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Vl={class:"w-100"},Ul={class:"row gy-2 gx-3 align-items-center"},Ml={class:"col-6 col-lg-4"},Ll={class:"value d-flex align-items-center gap-2"},jl={class:"mb-0"},Bl={class:"col-6 col-lg-4"},Fl={class:"value price"},Rl={class:"mb-0"},Nl={key:0,class:"text-muted ms-2 text-decoration-line-through"},Gl={class:"col-6 col-lg-4"},zl={class:"value d-flex align-items-center gap-2"},_l={class:"mb-0"},Kl={key:0,class:"badge bg-danger"},Hl={key:1,class:"badge bg-warning text-dark"},Wl={class:"col-6 col-lg-4"},Xl={class:"value"},Yl={class:"mb-0"},Jl={class:"variant-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Ql=["onClick"],Zl=["onClick"],ql={key:0,class:"text-muted mt-4 ms-2"},ea={class:"d-flex justify-content-end small text-muted px-1"},ta={class:"ms-1 fw-semibold"},ra={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]},currency:{type:String,default:"грн"},sizePresets:{type:Array,default:()=>["35-36","36-37","37-38","38-39","40-41"]},colorPresets:{type:Array,default:()=>["Чорний","Білий","Бежевий","Сірий","Червоний","Синій"]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ot({size:"",color:"",price_override:null,old_price:null,quantity:null}),s=Ae(i.modelValue.map((O,x)=>({...O,_id:x+1})));let t=s.value.length;const l=Ae(null),a=Ae(""),u=At(()=>i.sizePresets),m=At(()=>i.colorPresets);lt(s,O=>{d("update:modelValue",O.map(({_id:x,...T})=>T))},{deep:!0});const c=At(()=>!!(n.size&&n.price_override!==null&&n.price_override>=0&&n.quantity!==null&&n.quantity>=0)),p=At(()=>s.value.reduce((O,x)=>O+(Number(x.quantity)||0),0));function g(O){const x=Number(O);return Number.isNaN(x)?O:new Intl.NumberFormat("uk-UA").format(x)+" "+i.currency}function f(){n.size="",n.color="",n.price_override=null,n.old_price=null,n.quantity=null,a.value=""}function v(O,x,T=null){const k=(O||"").toLowerCase()+"|"+(x||"").toLowerCase();return s.value.some((L,B)=>(L.size||"").toLowerCase()+"|"+(L.color||"").toLowerCase()===k&&B!==T)}function h(){if(a.value="",!c.value){a.value="Заповніть обовʼязкові поля (розмір, ціна, кількість).";return}if(v(n.size,n.color)){a.value="Такий варіант уже існує (комбінація розмір + колір).";return}s.value.push({_id:++t,size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price!==null&&n.old_price!==""?Number(n.old_price):null,quantity:Number(n.quantity)}),f()}function w(O){l.value=O;const x=s.value[O];n.size=x.size,n.color=x.color,n.price_override=x.price_override,n.old_price=x.old_price,n.quantity=x.quantity,a.value=""}function S(){if(l.value!==null){if(!c.value){a.value="Заповніть обовʼязкові поля.";return}if(v(n.size,n.color,l.value)){a.value="Комбінація розмір + колір уже існує.";return}s.value[l.value]={...s.value[l.value],size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price!==null&&n.old_price!==""?Number(n.old_price):null,quantity:Number(n.quantity)},l.value=null,f()}}function V(){l.value=null,f()}function A(O){confirm("Видалити цей варіант?")&&E(O)}function E(O){s.value.splice(O,1),l.value===O&&(l.value=null,f())}return(O,x)=>(b(),y("div",rl,[o("h5",nl,[x[5]||(x[5]=pe(" Варіанти товару ",-1)),s.value.length?(b(),y("span",ol,P(s.value.length),1)):D("",!0)]),o("div",il,[o("div",sl,[o("div",ll,[o("div",al,[x[6]||(x[6]=o("label",{class:"form-label mb-1"},"Розмір",-1)),U(o("input",{"onUpdate:modelValue":x[0]||(x[0]=T=>n.size=T),onKeydown:_e(oe(h,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"36-37",list:"sizeOptions"},null,40,dl),[[j,n.size,void 0,{trim:!0}]]),o("datalist",ul,[(b(!0),y(q,null,ve(u.value,T=>(b(),y("option",{key:T,value:T},null,8,cl))),128))])]),o("div",fl,[x[7]||(x[7]=o("label",{class:"form-label mb-1"},"Колір",-1)),U(o("input",{"onUpdate:modelValue":x[1]||(x[1]=T=>n.color=T),onKeydown:_e(oe(h,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"Колір (наприклад, Чорний)",list:"colorOptions"},null,40,ml),[[j,n.color,void 0,{trim:!0}]]),o("datalist",pl,[(b(!0),y(q,null,ve(m.value,T=>(b(),y("option",{key:T,value:T},null,8,vl))),128))])]),o("div",gl,[x[8]||(x[8]=o("label",{class:"form-label mb-1"},"Ціна",-1)),o("div",hl,[U(o("input",{"onUpdate:modelValue":x[2]||(x[2]=T=>n.price_override=T),onKeydown:_e(oe(h,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Ціна"},null,40,bl),[[j,n.price_override,void 0,{number:!0}]]),o("span",yl,P(r.currency),1)])]),o("div",xl,[x[9]||(x[9]=o("label",{class:"form-label mb-1"},"Стара ціна (необов’язково)",-1)),o("div",Sl,[U(o("input",{"onUpdate:modelValue":x[3]||(x[3]=T=>n.old_price=T),onKeydown:_e(oe(h,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Стара ціна"},null,40,wl),[[j,n.old_price,void 0,{number:!0}]]),o("span",El,P(r.currency),1)])]),o("div",Ol,[x[10]||(x[10]=o("label",{class:"form-label mb-1"},"Кількість",-1)),U(o("input",{"onUpdate:modelValue":x[4]||(x[4]=T=>n.quantity=T),onKeydown:_e(oe(h,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Кількість"},null,40,kl),[[j,n.quantity,void 0,{number:!0}]])]),a.value?(b(),y("div",Cl,[x[11]||(x[11]=o("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),pe(P(a.value),1)])):D("",!0),o("div",Il,[l.value===null?(b(),y("button",{key:0,class:"btn btn-primary d-flex align-items-center justify-content-center gap-2",disabled:!c.value,onClick:h},x[12]||(x[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати варіант ",-1)]),8,Pl)):(b(),y("div",Tl,[o("button",{class:"btn btn-success d-flex align-items-center justify-content-center gap-2",disabled:!c.value,onClick:S},x[13]||(x[13]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)]),8,Al),o("button",{class:"btn btn-outline-secondary",onClick:V},"Скасувати")]))])])]),o("div",$l,[o("div",Dl,[Y(Wr,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-0"},{default:Ke(()=>[(b(!0),y(q,null,ve(s.value,(T,k)=>(b(),y("div",{key:T._id,class:"variant-card shadow-sm rounded-4 px-3 py-3 bg-white d-flex align-items-center position-relative"},[o("div",Vl,[o("div",Ul,[o("div",Ml,[x[14]||(x[14]=o("div",{class:"label"},"Розмір",-1)),o("div",Ll,[o("h6",jl,P(T.size),1)])]),o("div",Bl,[x[15]||(x[15]=o("div",{class:"label"},"Ціна",-1)),o("div",Fl,[o("h6",Rl,P(g(T.price_override)),1),T.old_price?(b(),y("small",Nl,P(g(T.old_price)),1)):D("",!0)])]),o("div",Gl,[x[16]||(x[16]=o("div",{class:"label"},"Кількість",-1)),o("div",zl,[o("h6",_l,P(T.quantity)+" шт",1),T.quantity===0?(b(),y("span",Kl,"Немає")):T.quantity>0&&T.quantity<5?(b(),y("span",Hl,"Мало")):D("",!0)])]),o("div",Wl,[x[17]||(x[17]=o("div",{class:"label"},"Колір",-1)),o("div",Xl,[o("h6",Yl,P(T.color||"—"),1)])])])]),o("div",Jl,[o("button",{class:"btn-action btn-edit",title:"Редагувати",onClick:L=>w(k)},x[18]||(x[18]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Ql),o("button",{class:"btn-action btn-remove",title:"Видалити",onClick:L=>A(k)},x[19]||(x[19]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Zl)])]))),128))]),_:1}),s.value.length?D("",!0):(b(),y("div",ql,"Ще не додано жодного варіанта"))]),o("div",ea,[x[20]||(x[20]=pe(" Загалом: ",-1)),o("span",ta,P(p.value),1),x[21]||(x[21]=pe(" шт ",-1))])])])]))}},na=se(ra,[["__scopeId","data-v-20369826"]]);function oa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function In(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var i=function d(){return this instanceof d?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(d){var n=Object.getOwnPropertyDescriptor(r,d);Object.defineProperty(i,d,n.get?n:{enumerable:!0,get:function(){return r[d]}})}),i}var br={exports:{}};const ia=In(Tn),sa=In(Bo);var la=br.exports,fn;function aa(){return fn||(fn=1,function(r,e){(function(d,n){r.exports=n(ia,sa)})(typeof self<"u"?self:la,function(i,d){return function(n){var s={};function t(l){if(s[l])return s[l].exports;var a=s[l]={i:l,l:!1,exports:{}};return n[l].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=n,t.c=s,t.d=function(l,a,u){t.o(l,a)||Object.defineProperty(l,a,{enumerable:!0,get:u})},t.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},t.t=function(l,a){if(a&1&&(l=t(l)),a&8||a&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),a&2&&typeof l!="string")for(var m in l)t.d(u,m,(function(c){return l[c]}).bind(null,m));return u},t.n=function(l){var a=l&&l.__esModule?function(){return l.default}:function(){return l};return t.d(a,"a",a),a},t.o=function(l,a){return Object.prototype.hasOwnProperty.call(l,a)},t.p="",t(t.s="fb15")}({"00ee":function(n,s,t){var l=t("b622"),a=l("toStringTag"),u={};u[a]="z",n.exports=String(u)==="[object z]"},"0366":function(n,s,t){var l=t("1c0b");n.exports=function(a,u,m){if(l(a),u===void 0)return a;switch(m){case 0:return function(){return a.call(u)};case 1:return function(c){return a.call(u,c)};case 2:return function(c,p){return a.call(u,c,p)};case 3:return function(c,p,g){return a.call(u,c,p,g)}}return function(){return a.apply(u,arguments)}}},"057f":function(n,s,t){var l=t("fc6a"),a=t("241c").f,u={}.toString,m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(p){try{return a(p)}catch{return m.slice()}};n.exports.f=function(g){return m&&u.call(g)=="[object Window]"?c(g):a(l(g))}},"06cf":function(n,s,t){var l=t("83ab"),a=t("d1e7"),u=t("5c6c"),m=t("fc6a"),c=t("c04e"),p=t("5135"),g=t("0cfb"),f=Object.getOwnPropertyDescriptor;s.f=l?f:function(h,w){if(h=m(h),w=c(w,!0),g)try{return f(h,w)}catch{}if(p(h,w))return u(!a.f.call(h,w),h[w])}},"0cfb":function(n,s,t){var l=t("83ab"),a=t("d039"),u=t("cc12");n.exports=!l&&!a(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(n,s,t){var l=t("23e7"),a=t("d58f").left,u=t("a640"),m=t("ae40"),c=u("reduce"),p=m("reduce",{1:0});l({target:"Array",proto:!0,forced:!c||!p},{reduce:function(f){return a(this,f,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(n,s,t){var l=t("c6b6"),a=t("9263");n.exports=function(u,m){var c=u.exec;if(typeof c=="function"){var p=c.call(u,m);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(l(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(u,m)}},"159b":function(n,s,t){var l=t("da84"),a=t("fdbc"),u=t("17c2"),m=t("9112");for(var c in a){var p=l[c],g=p&&p.prototype;if(g&&g.forEach!==u)try{m(g,"forEach",u)}catch{g.forEach=u}}},"17c2":function(n,s,t){var l=t("b727").forEach,a=t("a640"),u=t("ae40"),m=a("forEach"),c=u("forEach");n.exports=!m||!c?function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(n,s,t){var l=t("d066");n.exports=l("document","documentElement")},"1c0b":function(n,s){n.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(n,s,t){var l=t("b622"),a=l("iterator"),u=!1;try{var m=0,c={next:function(){return{done:!!m++}},return:function(){u=!0}};c[a]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(p,g){if(!g&&!u)return!1;var f=!1;try{var v={};v[a]=function(){return{next:function(){return{done:f=!0}}}},p(v)}catch{}return f}},"1d80":function(n,s){n.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(n,s,t){var l=t("d039"),a=t("b622"),u=t("2d00"),m=a("species");n.exports=function(c){return u>=51||!l(function(){var p=[],g=p.constructor={};return g[m]=function(){return{foo:1}},p[c](Boolean).foo!==1})}},"23cb":function(n,s,t){var l=t("a691"),a=Math.max,u=Math.min;n.exports=function(m,c){var p=l(m);return p<0?a(p+c,0):u(p,c)}},"23e7":function(n,s,t){var l=t("da84"),a=t("06cf").f,u=t("9112"),m=t("6eeb"),c=t("ce4e"),p=t("e893"),g=t("94ca");n.exports=function(f,v){var h=f.target,w=f.global,S=f.stat,V,A,E,O,x,T;if(w?A=l:S?A=l[h]||c(h,{}):A=(l[h]||{}).prototype,A)for(E in v){if(x=v[E],f.noTargetGet?(T=a(A,E),O=T&&T.value):O=A[E],V=g(w?E:h+(S?".":"#")+E,f.forced),!V&&O!==void 0){if(typeof x==typeof O)continue;p(x,O)}(f.sham||O&&O.sham)&&u(x,"sham",!0),m(A,E,x,f)}}},"241c":function(n,s,t){var l=t("ca84"),a=t("7839"),u=a.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return l(c,u)}},"25f0":function(n,s,t){var l=t("6eeb"),a=t("825a"),u=t("d039"),m=t("ad6d"),c="toString",p=RegExp.prototype,g=p[c],f=u(function(){return g.call({source:"a",flags:"b"})!="/a/b"}),v=g.name!=c;(f||v)&&l(RegExp.prototype,c,function(){var w=a(this),S=String(w.source),V=w.flags,A=String(V===void 0&&w instanceof RegExp&&!("flags"in p)?m.call(w):V);return"/"+S+"/"+A},{unsafe:!0})},"2ca0":function(n,s,t){var l=t("23e7"),a=t("06cf").f,u=t("50c4"),m=t("5a34"),c=t("1d80"),p=t("ab13"),g=t("c430"),f="".startsWith,v=Math.min,h=p("startsWith"),w=!g&&!h&&!!function(){var S=a(String.prototype,"startsWith");return S&&!S.writable}();l({target:"String",proto:!0,forced:!w&&!h},{startsWith:function(V){var A=String(c(this));m(V);var E=u(v(arguments.length>1?arguments[1]:void 0,A.length)),O=String(V);return f?f.call(A,O,E):A.slice(E,E+O.length)===O}})},"2d00":function(n,s,t){var l=t("da84"),a=t("342f"),u=l.process,m=u&&u.versions,c=m&&m.v8,p,g;c?(p=c.split("."),g=p[0]+p[1]):a&&(p=a.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=a.match(/Chrome\/(\d+)/),p&&(g=p[1]))),n.exports=g&&+g},"342f":function(n,s,t){var l=t("d066");n.exports=l("navigator","userAgent")||""},"35a1":function(n,s,t){var l=t("f5df"),a=t("3f8c"),u=t("b622"),m=u("iterator");n.exports=function(c){if(c!=null)return c[m]||c["@@iterator"]||a[l(c)]}},"37e8":function(n,s,t){var l=t("83ab"),a=t("9bf2"),u=t("825a"),m=t("df75");n.exports=l?Object.defineProperties:function(p,g){u(p);for(var f=m(g),v=f.length,h=0,w;v>h;)a.f(p,w=f[h++],g[w]);return p}},"3bbe":function(n,s,t){var l=t("861d");n.exports=function(a){if(!l(a)&&a!==null)throw TypeError("Can't set "+String(a)+" as a prototype");return a}},"3ca3":function(n,s,t){var l=t("6547").charAt,a=t("69f3"),u=t("7dd0"),m="String Iterator",c=a.set,p=a.getterFor(m);u(String,"String",function(g){c(this,{type:m,string:String(g),index:0})},function(){var f=p(this),v=f.string,h=f.index,w;return h>=v.length?{value:void 0,done:!0}:(w=l(v,h),f.index+=w.length,{value:w,done:!1})})},"3f8c":function(n,s){n.exports={}},4160:function(n,s,t){var l=t("23e7"),a=t("17c2");l({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"428f":function(n,s,t){var l=t("da84");n.exports=l},"44ad":function(n,s,t){var l=t("d039"),a=t("c6b6"),u="".split;n.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(m){return a(m)=="String"?u.call(m,""):Object(m)}:Object},"44d2":function(n,s,t){var l=t("b622"),a=t("7c73"),u=t("9bf2"),m=l("unscopables"),c=Array.prototype;c[m]==null&&u.f(c,m,{configurable:!0,value:a(null)}),n.exports=function(p){c[m][p]=!0}},"44e7":function(n,s,t){var l=t("861d"),a=t("c6b6"),u=t("b622"),m=u("match");n.exports=function(c){var p;return l(c)&&((p=c[m])!==void 0?!!p:a(c)=="RegExp")}},4930:function(n,s,t){var l=t("d039");n.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(n,s,t){var l=t("fc6a"),a=t("50c4"),u=t("23cb"),m=function(c){return function(p,g,f){var v=l(p),h=a(v.length),w=u(f,h),S;if(c&&g!=g){for(;h>w;)if(S=v[w++],S!=S)return!0}else for(;h>w;w++)if((c||w in v)&&v[w]===g)return c||w||0;return!c&&-1}};n.exports={includes:m(!0),indexOf:m(!1)}},"4de4":function(n,s,t){var l=t("23e7"),a=t("b727").filter,u=t("1dde"),m=t("ae40"),c=u("filter"),p=m("filter");l({target:"Array",proto:!0,forced:!c||!p},{filter:function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(n,s,t){var l=t("0366"),a=t("7b0b"),u=t("9bdd"),m=t("e95a"),c=t("50c4"),p=t("8418"),g=t("35a1");n.exports=function(v){var h=a(v),w=typeof this=="function"?this:Array,S=arguments.length,V=S>1?arguments[1]:void 0,A=V!==void 0,E=g(h),O=0,x,T,k,L,B,te;if(A&&(V=l(V,S>2?arguments[2]:void 0,2)),E!=null&&!(w==Array&&m(E)))for(L=E.call(h),B=L.next,T=new w;!(k=B.call(L)).done;O++)te=A?u(L,V,[k.value,O],!0):k.value,p(T,O,te);else for(x=c(h.length),T=new w(x);x>O;O++)te=A?V(h[O],O):h[O],p(T,O,te);return T.length=O,T}},"4fad":function(n,s,t){var l=t("23e7"),a=t("6f53").entries;l({target:"Object",stat:!0},{entries:function(m){return a(m)}})},"50c4":function(n,s,t){var l=t("a691"),a=Math.min;n.exports=function(u){return u>0?a(l(u),9007199254740991):0}},5135:function(n,s){var t={}.hasOwnProperty;n.exports=function(l,a){return t.call(l,a)}},5319:function(n,s,t){var l=t("d784"),a=t("825a"),u=t("7b0b"),m=t("50c4"),c=t("a691"),p=t("1d80"),g=t("8aa5"),f=t("14c3"),v=Math.max,h=Math.min,w=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,V=/\$([$&'`]|\d\d?)/g,A=function(E){return E===void 0?E:String(E)};l("replace",2,function(E,O,x,T){var k=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,L=T.REPLACE_KEEPS_$0,B=k?"$":"$0";return[function(N,ee){var G=p(this),H=N==null?void 0:N[E];return H!==void 0?H.call(N,G,ee):O.call(String(G),N,ee)},function(F,N){if(!k&&L||typeof N=="string"&&N.indexOf(B)===-1){var ee=x(O,F,this,N);if(ee.done)return ee.value}var G=a(F),H=String(this),fe=typeof N=="function";fe||(N=String(N));var be=G.global;if(be){var Me=G.unicode;G.lastIndex=0}for(var Oe=[];;){var ke=f(G,H);if(ke===null||(Oe.push(ke),!be))break;var Ve=String(ke[0]);Ve===""&&(G.lastIndex=g(H,m(G.lastIndex),Me))}for(var Ue="",$e=0,ye=0;ye<Oe.length;ye++){ke=Oe[ye];for(var we=String(ke[0]),Ye=v(h(c(ke.index),H.length),0),Ne=[],ct=1;ct<ke.length;ct++)Ne.push(A(ke[ct]));var bt=ke.groups;if(fe){var ft=[we].concat(Ne,Ye,H);bt!==void 0&&ft.push(bt);var Le=String(N.apply(void 0,ft))}else Le=te(we,H,Ye,Ne,bt,N);Ye>=$e&&(Ue+=H.slice($e,Ye)+Le,$e=Ye+we.length)}return Ue+H.slice($e)}];function te(F,N,ee,G,H,fe){var be=ee+F.length,Me=G.length,Oe=V;return H!==void 0&&(H=u(H),Oe=S),O.call(fe,Oe,function(ke,Ve){var Ue;switch(Ve.charAt(0)){case"$":return"$";case"&":return F;case"`":return N.slice(0,ee);case"'":return N.slice(be);case"<":Ue=H[Ve.slice(1,-1)];break;default:var $e=+Ve;if($e===0)return ke;if($e>Me){var ye=w($e/10);return ye===0?ke:ye<=Me?G[ye-1]===void 0?Ve.charAt(1):G[ye-1]+Ve.charAt(1):ke}Ue=G[$e-1]}return Ue===void 0?"":Ue})}})},5692:function(n,s,t){var l=t("c430"),a=t("c6cd");(n.exports=function(u,m){return a[u]||(a[u]=m!==void 0?m:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(n,s,t){var l=t("d066"),a=t("241c"),u=t("7418"),m=t("825a");n.exports=l("Reflect","ownKeys")||function(p){var g=a.f(m(p)),f=u.f;return f?g.concat(f(p)):g}},"5a34":function(n,s,t){var l=t("44e7");n.exports=function(a){if(l(a))throw TypeError("The method doesn't accept regular expressions");return a}},"5c6c":function(n,s){n.exports=function(t,l){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:l}}},"5db7":function(n,s,t){var l=t("23e7"),a=t("a2bf"),u=t("7b0b"),m=t("50c4"),c=t("1c0b"),p=t("65f0");l({target:"Array",proto:!0},{flatMap:function(f){var v=u(this),h=m(v.length),w;return c(f),w=p(v,0),w.length=a(w,v,v,h,0,1,f,arguments.length>1?arguments[1]:void 0),w}})},6547:function(n,s,t){var l=t("a691"),a=t("1d80"),u=function(m){return function(c,p){var g=String(a(c)),f=l(p),v=g.length,h,w;return f<0||f>=v?m?"":void 0:(h=g.charCodeAt(f),h<55296||h>56319||f+1===v||(w=g.charCodeAt(f+1))<56320||w>57343?m?g.charAt(f):h:m?g.slice(f,f+2):(h-55296<<10)+(w-56320)+65536)}};n.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(n,s,t){var l=t("861d"),a=t("e8b5"),u=t("b622"),m=u("species");n.exports=function(c,p){var g;return a(c)&&(g=c.constructor,typeof g=="function"&&(g===Array||a(g.prototype))?g=void 0:l(g)&&(g=g[m],g===null&&(g=void 0))),new(g===void 0?Array:g)(p===0?0:p)}},"69f3":function(n,s,t){var l=t("7f9a"),a=t("da84"),u=t("861d"),m=t("9112"),c=t("5135"),p=t("f772"),g=t("d012"),f=a.WeakMap,v,h,w,S=function(k){return w(k)?h(k):v(k,{})},V=function(k){return function(L){var B;if(!u(L)||(B=h(L)).type!==k)throw TypeError("Incompatible receiver, "+k+" required");return B}};if(l){var A=new f,E=A.get,O=A.has,x=A.set;v=function(k,L){return x.call(A,k,L),L},h=function(k){return E.call(A,k)||{}},w=function(k){return O.call(A,k)}}else{var T=p("state");g[T]=!0,v=function(k,L){return m(k,T,L),L},h=function(k){return c(k,T)?k[T]:{}},w=function(k){return c(k,T)}}n.exports={set:v,get:h,has:w,enforce:S,getterFor:V}},"6eeb":function(n,s,t){var l=t("da84"),a=t("9112"),u=t("5135"),m=t("ce4e"),c=t("8925"),p=t("69f3"),g=p.get,f=p.enforce,v=String(String).split("String");(n.exports=function(h,w,S,V){var A=V?!!V.unsafe:!1,E=V?!!V.enumerable:!1,O=V?!!V.noTargetGet:!1;if(typeof S=="function"&&(typeof w=="string"&&!u(S,"name")&&a(S,"name",w),f(S).source=v.join(typeof w=="string"?w:"")),h===l){E?h[w]=S:m(w,S);return}else A?!O&&h[w]&&(E=!0):delete h[w];E?h[w]=S:a(h,w,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&g(this).source||c(this)})},"6f53":function(n,s,t){var l=t("83ab"),a=t("df75"),u=t("fc6a"),m=t("d1e7").f,c=function(p){return function(g){for(var f=u(g),v=a(f),h=v.length,w=0,S=[],V;h>w;)V=v[w++],(!l||m.call(f,V))&&S.push(p?[V,f[V]]:f[V]);return S}};n.exports={entries:c(!0),values:c(!1)}},"73d9":function(n,s,t){var l=t("44d2");l("flatMap")},7418:function(n,s){s.f=Object.getOwnPropertySymbols},"746f":function(n,s,t){var l=t("428f"),a=t("5135"),u=t("e538"),m=t("9bf2").f;n.exports=function(c){var p=l.Symbol||(l.Symbol={});a(p,c)||m(p,c,{value:u.f(c)})}},7839:function(n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(n,s,t){var l=t("1d80");n.exports=function(a){return Object(l(a))}},"7c73":function(n,s,t){var l=t("825a"),a=t("37e8"),u=t("7839"),m=t("d012"),c=t("1be4"),p=t("cc12"),g=t("f772"),f=">",v="<",h="prototype",w="script",S=g("IE_PROTO"),V=function(){},A=function(k){return v+w+f+k+v+"/"+w+f},E=function(k){k.write(A("")),k.close();var L=k.parentWindow.Object;return k=null,L},O=function(){var k=p("iframe"),L="java"+w+":",B;return k.style.display="none",c.appendChild(k),k.src=String(L),B=k.contentWindow.document,B.open(),B.write(A("document.F=Object")),B.close(),B.F},x,T=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}T=x?E(x):O();for(var k=u.length;k--;)delete T[h][u[k]];return T()};m[S]=!0,n.exports=Object.create||function(L,B){var te;return L!==null?(V[h]=l(L),te=new V,V[h]=null,te[S]=L):te=T(),B===void 0?te:a(te,B)}},"7dd0":function(n,s,t){var l=t("23e7"),a=t("9ed3"),u=t("e163"),m=t("d2bb"),c=t("d44e"),p=t("9112"),g=t("6eeb"),f=t("b622"),v=t("c430"),h=t("3f8c"),w=t("ae93"),S=w.IteratorPrototype,V=w.BUGGY_SAFARI_ITERATORS,A=f("iterator"),E="keys",O="values",x="entries",T=function(){return this};n.exports=function(k,L,B,te,F,N,ee){a(B,L,te);var G=function(ye){if(ye===F&&Oe)return Oe;if(!V&&ye in be)return be[ye];switch(ye){case E:return function(){return new B(this,ye)};case O:return function(){return new B(this,ye)};case x:return function(){return new B(this,ye)}}return function(){return new B(this)}},H=L+" Iterator",fe=!1,be=k.prototype,Me=be[A]||be["@@iterator"]||F&&be[F],Oe=!V&&Me||G(F),ke=L=="Array"&&be.entries||Me,Ve,Ue,$e;if(ke&&(Ve=u(ke.call(new k)),S!==Object.prototype&&Ve.next&&(!v&&u(Ve)!==S&&(m?m(Ve,S):typeof Ve[A]!="function"&&p(Ve,A,T)),c(Ve,H,!0,!0),v&&(h[H]=T))),F==O&&Me&&Me.name!==O&&(fe=!0,Oe=function(){return Me.call(this)}),(!v||ee)&&be[A]!==Oe&&p(be,A,Oe),h[L]=Oe,F)if(Ue={values:G(O),keys:N?Oe:G(E),entries:G(x)},ee)for($e in Ue)(V||fe||!($e in be))&&g(be,$e,Ue[$e]);else l({target:L,proto:!0,forced:V||fe},Ue);return Ue}},"7f9a":function(n,s,t){var l=t("da84"),a=t("8925"),u=l.WeakMap;n.exports=typeof u=="function"&&/native code/.test(a(u))},"825a":function(n,s,t){var l=t("861d");n.exports=function(a){if(!l(a))throw TypeError(String(a)+" is not an object");return a}},"83ab":function(n,s,t){var l=t("d039");n.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(n,s,t){var l=t("c04e"),a=t("9bf2"),u=t("5c6c");n.exports=function(m,c,p){var g=l(c);g in m?a.f(m,g,u(0,p)):m[g]=p}},"861d":function(n,s){n.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(n,s,t){var l,a,u;(function(m,c){a=[],l=c,u=typeof l=="function"?l.apply(s,a):l,u!==void 0&&(n.exports=u)})(typeof self<"u"?self:this,function(){function m(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==m&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,g=/@([^@]*):(\d+):(\d+)\s*$/ig,f=p.exec(x.stack)||g.exec(x.stack),v=f&&f[1]||!1,h=f&&f[2]||!1,w=document.location.href.replace(document.location.hash,""),S,V,A,E=document.getElementsByTagName("script");v===w&&(S=document.documentElement.outerHTML,V=new RegExp("(?:[^\\n]+?\\n){0,"+(h-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=S.replace(V,"$1").trim());for(var O=0;O<E.length;O++)if(E[O].readyState==="interactive"||E[O].src===v||v===w&&E[O].innerHTML&&E[O].innerHTML.trim()===A)return E[O];return null}}return m})},8925:function(n,s,t){var l=t("c6cd"),a=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(u){return a.call(u)}),n.exports=l.inspectSource},"8aa5":function(n,s,t){var l=t("6547").charAt;n.exports=function(a,u,m){return u+(m?l(a,u).length:1)}},"8bbf":function(n,s){n.exports=i},"90e3":function(n,s){var t=0,l=Math.random();n.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++t+l).toString(36)}},9112:function(n,s,t){var l=t("83ab"),a=t("9bf2"),u=t("5c6c");n.exports=l?function(m,c,p){return a.f(m,c,u(1,p))}:function(m,c,p){return m[c]=p,m}},9263:function(n,s,t){var l=t("ad6d"),a=t("9f7f"),u=RegExp.prototype.exec,m=String.prototype.replace,c=u,p=function(){var h=/a/,w=/b*/g;return u.call(h,"a"),u.call(w,"a"),h.lastIndex!==0||w.lastIndex!==0}(),g=a.UNSUPPORTED_Y||a.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0,v=p||f||g;v&&(c=function(w){var S=this,V,A,E,O,x=g&&S.sticky,T=l.call(S),k=S.source,L=0,B=w;return x&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),B=String(w).slice(S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&w[S.lastIndex-1]!==`
`)&&(k="(?: "+k+")",B=" "+B,L++),A=new RegExp("^(?:"+k+")",T)),f&&(A=new RegExp("^"+k+"$(?!\\s)",T)),p&&(V=S.lastIndex),E=u.call(x?A:S,B),x?E?(E.input=E.input.slice(L),E[0]=E[0].slice(L),E.index=S.lastIndex,S.lastIndex+=E[0].length):S.lastIndex=0:p&&E&&(S.lastIndex=S.global?E.index+E[0].length:V),f&&E&&E.length>1&&m.call(E[0],A,function(){for(O=1;O<arguments.length-2;O++)arguments[O]===void 0&&(E[O]=void 0)}),E}),n.exports=c},"94ca":function(n,s,t){var l=t("d039"),a=/#|\.prototype\./,u=function(f,v){var h=c[m(f)];return h==g?!0:h==p?!1:typeof v=="function"?l(v):!!v},m=u.normalize=function(f){return String(f).replace(a,".").toLowerCase()},c=u.data={},p=u.NATIVE="N",g=u.POLYFILL="P";n.exports=u},"99af":function(n,s,t){var l=t("23e7"),a=t("d039"),u=t("e8b5"),m=t("861d"),c=t("7b0b"),p=t("50c4"),g=t("8418"),f=t("65f0"),v=t("1dde"),h=t("b622"),w=t("2d00"),S=h("isConcatSpreadable"),V=9007199254740991,A="Maximum allowed index exceeded",E=w>=51||!a(function(){var k=[];return k[S]=!1,k.concat()[0]!==k}),O=v("concat"),x=function(k){if(!m(k))return!1;var L=k[S];return L!==void 0?!!L:u(k)},T=!E||!O;l({target:"Array",proto:!0,forced:T},{concat:function(L){var B=c(this),te=f(B,0),F=0,N,ee,G,H,fe;for(N=-1,G=arguments.length;N<G;N++)if(fe=N===-1?B:arguments[N],x(fe)){if(H=p(fe.length),F+H>V)throw TypeError(A);for(ee=0;ee<H;ee++,F++)ee in fe&&g(te,F,fe[ee])}else{if(F>=V)throw TypeError(A);g(te,F++,fe)}return te.length=F,te}})},"9bdd":function(n,s,t){var l=t("825a");n.exports=function(a,u,m,c){try{return c?u(l(m)[0],m[1]):u(m)}catch(g){var p=a.return;throw p!==void 0&&l(p.call(a)),g}}},"9bf2":function(n,s,t){var l=t("83ab"),a=t("0cfb"),u=t("825a"),m=t("c04e"),c=Object.defineProperty;s.f=l?c:function(g,f,v){if(u(g),f=m(f,!0),u(v),a)try{return c(g,f,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(g[f]=v.value),g}},"9ed3":function(n,s,t){var l=t("ae93").IteratorPrototype,a=t("7c73"),u=t("5c6c"),m=t("d44e"),c=t("3f8c"),p=function(){return this};n.exports=function(g,f,v){var h=f+" Iterator";return g.prototype=a(l,{next:u(1,v)}),m(g,h,!1,!0),c[h]=p,g}},"9f7f":function(n,s,t){var l=t("d039");function a(u,m){return RegExp(u,m)}s.UNSUPPORTED_Y=l(function(){var u=a("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=l(function(){var u=a("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(n,s,t){var l=t("e8b5"),a=t("50c4"),u=t("0366"),m=function(c,p,g,f,v,h,w,S){for(var V=v,A=0,E=w?u(w,S,3):!1,O;A<f;){if(A in g){if(O=E?E(g[A],A,p):g[A],h>0&&l(O))V=m(c,p,O,a(O.length),V,h-1)-1;else{if(V>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[V]=O}V++}A++}return V};n.exports=m},a352:function(n,s){n.exports=d},a434:function(n,s,t){var l=t("23e7"),a=t("23cb"),u=t("a691"),m=t("50c4"),c=t("7b0b"),p=t("65f0"),g=t("8418"),f=t("1dde"),v=t("ae40"),h=f("splice"),w=v("splice",{ACCESSORS:!0,0:0,1:2}),S=Math.max,V=Math.min,A=9007199254740991,E="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!h||!w},{splice:function(x,T){var k=c(this),L=m(k.length),B=a(x,L),te=arguments.length,F,N,ee,G,H,fe;if(te===0?F=N=0:te===1?(F=0,N=L-B):(F=te-2,N=V(S(u(T),0),L-B)),L+F-N>A)throw TypeError(E);for(ee=p(k,N),G=0;G<N;G++)H=B+G,H in k&&g(ee,G,k[H]);if(ee.length=N,F<N){for(G=B;G<L-N;G++)H=G+N,fe=G+F,H in k?k[fe]=k[H]:delete k[fe];for(G=L;G>L-N+F;G--)delete k[G-1]}else if(F>N)for(G=L-N;G>B;G--)H=G+N-1,fe=G+F-1,H in k?k[fe]=k[H]:delete k[fe];for(G=0;G<F;G++)k[G+B]=arguments[G+2];return k.length=L-N+F,ee}})},a4d3:function(n,s,t){var l=t("23e7"),a=t("da84"),u=t("d066"),m=t("c430"),c=t("83ab"),p=t("4930"),g=t("fdbf"),f=t("d039"),v=t("5135"),h=t("e8b5"),w=t("861d"),S=t("825a"),V=t("7b0b"),A=t("fc6a"),E=t("c04e"),O=t("5c6c"),x=t("7c73"),T=t("df75"),k=t("241c"),L=t("057f"),B=t("7418"),te=t("06cf"),F=t("9bf2"),N=t("d1e7"),ee=t("9112"),G=t("6eeb"),H=t("5692"),fe=t("f772"),be=t("d012"),Me=t("90e3"),Oe=t("b622"),ke=t("e538"),Ve=t("746f"),Ue=t("d44e"),$e=t("69f3"),ye=t("b727").forEach,we=fe("hidden"),Ye="Symbol",Ne="prototype",ct=Oe("toPrimitive"),bt=$e.set,ft=$e.getterFor(Ye),Le=Object[Ne],je=a.Symbol,yt=u("JSON","stringify"),ot=te.f,it=F.f,or=L.f,Cr=N.f,et=H("symbols"),mt=H("op-symbols"),kt=H("string-to-symbol-registry"),Lt=H("symbol-to-string-registry"),jt=H("wks"),Bt=a.QObject,Ft=!Bt||!Bt[Ne]||!Bt[Ne].findChild,Rt=c&&f(function(){return x(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!=7})?function(Z,K,X){var ue=ot(Le,K);ue&&delete Le[K],it(Z,K,X),ue&&Z!==Le&&it(Le,K,ue)}:it,Nt=function(Z,K){var X=et[Z]=x(je[Ne]);return bt(X,{type:Ye,tag:Z,description:K}),c||(X.description=K),X},I=g?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof je},C=function(K,X,ue){K===Le&&C(mt,X,ue),S(K);var ce=E(X,!0);return S(ue),v(et,ce)?(ue.enumerable?(v(K,we)&&K[we][ce]&&(K[we][ce]=!1),ue=x(ue,{enumerable:O(0,!1)})):(v(K,we)||it(K,we,O(1,{})),K[we][ce]=!0),Rt(K,ce,ue)):it(K,ce,ue)},$=function(K,X){S(K);var ue=A(X),ce=T(ue).concat(me(ue));return ye(ce,function(He){(!c||z.call(ue,He))&&C(K,He,ue[He])}),K},M=function(K,X){return X===void 0?x(K):$(x(K),X)},z=function(K){var X=E(K,!0),ue=Cr.call(this,X);return this===Le&&v(et,X)&&!v(mt,X)?!1:ue||!v(this,X)||!v(et,X)||v(this,we)&&this[we][X]?ue:!0},Q=function(K,X){var ue=A(K),ce=E(X,!0);if(!(ue===Le&&v(et,ce)&&!v(mt,ce))){var He=ot(ue,ce);return He&&v(et,ce)&&!(v(ue,we)&&ue[we][ce])&&(He.enumerable=!0),He}},ie=function(K){var X=or(A(K)),ue=[];return ye(X,function(ce){!v(et,ce)&&!v(be,ce)&&ue.push(ce)}),ue},me=function(K){var X=K===Le,ue=or(X?mt:A(K)),ce=[];return ye(ue,function(He){v(et,He)&&(!X||v(Le,He))&&ce.push(et[He])}),ce};if(p||(je=function(){if(this instanceof je)throw TypeError("Symbol is not a constructor");var K=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),X=Me(K),ue=function(ce){this===Le&&ue.call(mt,ce),v(this,we)&&v(this[we],X)&&(this[we][X]=!1),Rt(this,X,O(1,ce))};return c&&Ft&&Rt(Le,X,{configurable:!0,set:ue}),Nt(X,K)},G(je[Ne],"toString",function(){return ft(this).tag}),G(je,"withoutSetter",function(Z){return Nt(Me(Z),Z)}),N.f=z,F.f=C,te.f=Q,k.f=L.f=ie,B.f=me,ke.f=function(Z){return Nt(Oe(Z),Z)},c&&(it(je[Ne],"description",{configurable:!0,get:function(){return ft(this).description}}),m||G(Le,"propertyIsEnumerable",z,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:je}),ye(T(jt),function(Z){Ve(Z)}),l({target:Ye,stat:!0,forced:!p},{for:function(Z){var K=String(Z);if(v(kt,K))return kt[K];var X=je(K);return kt[K]=X,Lt[X]=K,X},keyFor:function(K){if(!I(K))throw TypeError(K+" is not a symbol");if(v(Lt,K))return Lt[K]},useSetter:function(){Ft=!0},useSimple:function(){Ft=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!c},{create:M,defineProperty:C,defineProperties:$,getOwnPropertyDescriptor:Q}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:ie,getOwnPropertySymbols:me}),l({target:"Object",stat:!0,forced:f(function(){B.f(1)})},{getOwnPropertySymbols:function(K){return B.f(V(K))}}),yt){var Te=!p||f(function(){var Z=je();return yt([Z])!="[null]"||yt({a:Z})!="{}"||yt(Object(Z))!="{}"});l({target:"JSON",stat:!0,forced:Te},{stringify:function(K,X,ue){for(var ce=[K],He=1,Ir;arguments.length>He;)ce.push(arguments[He++]);if(Ir=X,!(!w(X)&&K===void 0||I(K)))return h(X)||(X=function(Pn,ir){if(typeof Ir=="function"&&(ir=Ir.call(this,Pn,ir)),!I(ir))return ir}),ce[1]=X,yt.apply(null,ce)}})}je[Ne][ct]||ee(je[Ne],ct,je[Ne].valueOf),Ue(je,Ye),be[we]=!0},a630:function(n,s,t){var l=t("23e7"),a=t("4df4"),u=t("1c7e"),m=!u(function(c){Array.from(c)});l({target:"Array",stat:!0,forced:m},{from:a})},a640:function(n,s,t){var l=t("d039");n.exports=function(a,u){var m=[][a];return!!m&&l(function(){m.call(null,u||function(){throw 1},1)})}},a691:function(n,s){var t=Math.ceil,l=Math.floor;n.exports=function(a){return isNaN(a=+a)?0:(a>0?l:t)(a)}},ab13:function(n,s,t){var l=t("b622"),a=l("match");n.exports=function(u){var m=/./;try{"/./"[u](m)}catch{try{return m[a]=!1,"/./"[u](m)}catch{}}return!1}},ac1f:function(n,s,t){var l=t("23e7"),a=t("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(n,s,t){var l=t("825a");n.exports=function(){var a=l(this),u="";return a.global&&(u+="g"),a.ignoreCase&&(u+="i"),a.multiline&&(u+="m"),a.dotAll&&(u+="s"),a.unicode&&(u+="u"),a.sticky&&(u+="y"),u}},ae40:function(n,s,t){var l=t("83ab"),a=t("d039"),u=t("5135"),m=Object.defineProperty,c={},p=function(g){throw g};n.exports=function(g,f){if(u(c,g))return c[g];f||(f={});var v=[][g],h=u(f,"ACCESSORS")?f.ACCESSORS:!1,w=u(f,0)?f[0]:p,S=u(f,1)?f[1]:void 0;return c[g]=!!v&&!a(function(){if(h&&!l)return!0;var V={length:-1};h?m(V,1,{enumerable:!0,get:p}):V[1]=1,v.call(V,w,S)})}},ae93:function(n,s,t){var l=t("e163"),a=t("9112"),u=t("5135"),m=t("b622"),c=t("c430"),p=m("iterator"),g=!1,f=function(){return this},v,h,w;[].keys&&(w=[].keys(),"next"in w?(h=l(l(w)),h!==Object.prototype&&(v=h)):g=!0),v==null&&(v={}),!c&&!u(v,p)&&a(v,p,f),n.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:g}},b041:function(n,s,t){var l=t("00ee"),a=t("f5df");n.exports=l?{}.toString:function(){return"[object "+a(this)+"]"}},b0c0:function(n,s,t){var l=t("83ab"),a=t("9bf2").f,u=Function.prototype,m=u.toString,c=/^\s*function ([^ (]*)/,p="name";l&&!(p in u)&&a(u,p,{configurable:!0,get:function(){try{return m.call(this).match(c)[1]}catch{return""}}})},b622:function(n,s,t){var l=t("da84"),a=t("5692"),u=t("5135"),m=t("90e3"),c=t("4930"),p=t("fdbf"),g=a("wks"),f=l.Symbol,v=p?f:f&&f.withoutSetter||m;n.exports=function(h){return u(g,h)||(c&&u(f,h)?g[h]=f[h]:g[h]=v("Symbol."+h)),g[h]}},b64b:function(n,s,t){var l=t("23e7"),a=t("7b0b"),u=t("df75"),m=t("d039"),c=m(function(){u(1)});l({target:"Object",stat:!0,forced:c},{keys:function(g){return u(a(g))}})},b727:function(n,s,t){var l=t("0366"),a=t("44ad"),u=t("7b0b"),m=t("50c4"),c=t("65f0"),p=[].push,g=function(f){var v=f==1,h=f==2,w=f==3,S=f==4,V=f==6,A=f==5||V;return function(E,O,x,T){for(var k=u(E),L=a(k),B=l(O,x,3),te=m(L.length),F=0,N=T||c,ee=v?N(E,te):h?N(E,0):void 0,G,H;te>F;F++)if((A||F in L)&&(G=L[F],H=B(G,F,k),f)){if(v)ee[F]=H;else if(H)switch(f){case 3:return!0;case 5:return G;case 6:return F;case 2:p.call(ee,G)}else if(S)return!1}return V?-1:w||S?S:ee}};n.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6)}},c04e:function(n,s,t){var l=t("861d");n.exports=function(a,u){if(!l(a))return a;var m,c;if(u&&typeof(m=a.toString)=="function"&&!l(c=m.call(a))||typeof(m=a.valueOf)=="function"&&!l(c=m.call(a))||!u&&typeof(m=a.toString)=="function"&&!l(c=m.call(a)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(n,s){n.exports=!1},c6b6:function(n,s){var t={}.toString;n.exports=function(l){return t.call(l).slice(8,-1)}},c6cd:function(n,s,t){var l=t("da84"),a=t("ce4e"),u="__core-js_shared__",m=l[u]||a(u,{});n.exports=m},c740:function(n,s,t){var l=t("23e7"),a=t("b727").findIndex,u=t("44d2"),m=t("ae40"),c="findIndex",p=!0,g=m(c);c in[]&&Array(1)[c](function(){p=!1}),l({target:"Array",proto:!0,forced:p||!g},{findIndex:function(v){return a(this,v,arguments.length>1?arguments[1]:void 0)}}),u(c)},c8ba:function(n,s){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},c975:function(n,s,t){var l=t("23e7"),a=t("4d64").indexOf,u=t("a640"),m=t("ae40"),c=[].indexOf,p=!!c&&1/[1].indexOf(1,-0)<0,g=u("indexOf"),f=m("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:p||!g||!f},{indexOf:function(h){return p?c.apply(this,arguments)||0:a(this,h,arguments.length>1?arguments[1]:void 0)}})},ca84:function(n,s,t){var l=t("5135"),a=t("fc6a"),u=t("4d64").indexOf,m=t("d012");n.exports=function(c,p){var g=a(c),f=0,v=[],h;for(h in g)!l(m,h)&&l(g,h)&&v.push(h);for(;p.length>f;)l(g,h=p[f++])&&(~u(v,h)||v.push(h));return v}},caad:function(n,s,t){var l=t("23e7"),a=t("4d64").includes,u=t("44d2"),m=t("ae40"),c=m("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!c},{includes:function(g){return a(this,g,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(n,s,t){var l=t("da84"),a=t("861d"),u=l.document,m=a(u)&&a(u.createElement);n.exports=function(c){return m?u.createElement(c):{}}},ce4e:function(n,s,t){var l=t("da84"),a=t("9112");n.exports=function(u,m){try{a(l,u,m)}catch{l[u]=m}return m}},d012:function(n,s){n.exports={}},d039:function(n,s){n.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(n,s,t){var l=t("428f"),a=t("da84"),u=function(m){return typeof m=="function"?m:void 0};n.exports=function(m,c){return arguments.length<2?u(l[m])||u(a[m]):l[m]&&l[m][c]||a[m]&&a[m][c]}},d1e7:function(n,s,t){var l={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,u=a&&!l.call({1:2},1);s.f=u?function(c){var p=a(this,c);return!!p&&p.enumerable}:l},d28b:function(n,s,t){var l=t("746f");l("iterator")},d2bb:function(n,s,t){var l=t("825a"),a=t("3bbe");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,m={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(m,[]),u=m instanceof Array}catch{}return function(g,f){return l(g),a(f),u?c.call(g,f):g.__proto__=f,g}}():void 0)},d3b7:function(n,s,t){var l=t("00ee"),a=t("6eeb"),u=t("b041");l||a(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(n,s,t){var l=t("9bf2").f,a=t("5135"),u=t("b622"),m=u("toStringTag");n.exports=function(c,p,g){c&&!a(c=g?c:c.prototype,m)&&l(c,m,{configurable:!0,value:p})}},d58f:function(n,s,t){var l=t("1c0b"),a=t("7b0b"),u=t("44ad"),m=t("50c4"),c=function(p){return function(g,f,v,h){l(f);var w=a(g),S=u(w),V=m(w.length),A=p?V-1:0,E=p?-1:1;if(v<2)for(;;){if(A in S){h=S[A],A+=E;break}if(A+=E,p?A<0:V<=A)throw TypeError("Reduce of empty array with no initial value")}for(;p?A>=0:V>A;A+=E)A in S&&(h=f(h,S[A],A,w));return h}};n.exports={left:c(!1),right:c(!0)}},d784:function(n,s,t){t("ac1f");var l=t("6eeb"),a=t("d039"),u=t("b622"),m=t("9263"),c=t("9112"),p=u("species"),g=!a(function(){var S=/./;return S.exec=function(){var V=[];return V.groups={a:"7"},V},"".replace(S,"$<a>")!=="7"}),f=function(){return"a".replace(/./,"$0")==="$0"}(),v=u("replace"),h=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),w=!a(function(){var S=/(?:)/,V=S.exec;S.exec=function(){return V.apply(this,arguments)};var A="ab".split(S);return A.length!==2||A[0]!=="a"||A[1]!=="b"});n.exports=function(S,V,A,E){var O=u(S),x=!a(function(){var F={};return F[O]=function(){return 7},""[S](F)!=7}),T=x&&!a(function(){var F=!1,N=/a/;return S==="split"&&(N={},N.constructor={},N.constructor[p]=function(){return N},N.flags="",N[O]=/./[O]),N.exec=function(){return F=!0,null},N[O](""),!F});if(!x||!T||S==="replace"&&!(g&&f&&!h)||S==="split"&&!w){var k=/./[O],L=A(O,""[S],function(F,N,ee,G,H){return N.exec===m?x&&!H?{done:!0,value:k.call(N,ee,G)}:{done:!0,value:F.call(ee,N,G)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),B=L[0],te=L[1];l(String.prototype,S,B),l(RegExp.prototype,O,V==2?function(F,N){return te.call(F,this,N)}:function(F){return te.call(F,this)})}E&&c(RegExp.prototype[O],"sham",!0)}},d81d:function(n,s,t){var l=t("23e7"),a=t("b727").map,u=t("1dde"),m=t("ae40"),c=u("map"),p=m("map");l({target:"Array",proto:!0,forced:!c||!p},{map:function(f){return a(this,f,arguments.length>1?arguments[1]:void 0)}})},da84:function(n,s,t){(function(l){var a=function(u){return u&&u.Math==Math&&u};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof l=="object"&&l)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(n,s,t){var l=t("23e7"),a=t("83ab"),u=t("56ef"),m=t("fc6a"),c=t("06cf"),p=t("8418");l({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(f){for(var v=m(f),h=c.f,w=u(v),S={},V=0,A,E;w.length>V;)E=h(v,A=w[V++]),E!==void 0&&p(S,A,E);return S}})},dbf1:function(n,s,t){(function(l){t.d(s,"a",function(){return u});function a(){return typeof window<"u"?window.console:l.console}var u=a()}).call(this,t("c8ba"))},ddb0:function(n,s,t){var l=t("da84"),a=t("fdbc"),u=t("e260"),m=t("9112"),c=t("b622"),p=c("iterator"),g=c("toStringTag"),f=u.values;for(var v in a){var h=l[v],w=h&&h.prototype;if(w){if(w[p]!==f)try{m(w,p,f)}catch{w[p]=f}if(w[g]||m(w,g,v),a[v]){for(var S in u)if(w[S]!==u[S])try{m(w,S,u[S])}catch{w[S]=u[S]}}}}},df75:function(n,s,t){var l=t("ca84"),a=t("7839");n.exports=Object.keys||function(m){return l(m,a)}},e01a:function(n,s,t){var l=t("23e7"),a=t("83ab"),u=t("da84"),m=t("5135"),c=t("861d"),p=t("9bf2").f,g=t("e893"),f=u.Symbol;if(a&&typeof f=="function"&&(!("description"in f.prototype)||f().description!==void 0)){var v={},h=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof h?new f(O):O===void 0?f():f(O);return O===""&&(v[x]=!0),x};g(h,f);var w=h.prototype=f.prototype;w.constructor=h;var S=w.toString,V=String(f("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;p(w,"description",{configurable:!0,get:function(){var O=c(this)?this.valueOf():this,x=S.call(O);if(m(v,O))return"";var T=V?x.slice(7,-1):x.replace(A,"$1");return T===""?void 0:T}}),l({global:!0,forced:!0},{Symbol:h})}},e163:function(n,s,t){var l=t("5135"),a=t("7b0b"),u=t("f772"),m=t("e177"),c=u("IE_PROTO"),p=Object.prototype;n.exports=m?Object.getPrototypeOf:function(g){return g=a(g),l(g,c)?g[c]:typeof g.constructor=="function"&&g instanceof g.constructor?g.constructor.prototype:g instanceof Object?p:null}},e177:function(n,s,t){var l=t("d039");n.exports=!l(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},e260:function(n,s,t){var l=t("fc6a"),a=t("44d2"),u=t("3f8c"),m=t("69f3"),c=t("7dd0"),p="Array Iterator",g=m.set,f=m.getterFor(p);n.exports=c(Array,"Array",function(v,h){g(this,{type:p,target:l(v),index:0,kind:h})},function(){var v=f(this),h=v.target,w=v.kind,S=v.index++;return!h||S>=h.length?(v.target=void 0,{value:void 0,done:!0}):w=="keys"?{value:S,done:!1}:w=="values"?{value:h[S],done:!1}:{value:[S,h[S]],done:!1}},"values"),u.Arguments=u.Array,a("keys"),a("values"),a("entries")},e439:function(n,s,t){var l=t("23e7"),a=t("d039"),u=t("fc6a"),m=t("06cf").f,c=t("83ab"),p=a(function(){m(1)}),g=!c||p;l({target:"Object",stat:!0,forced:g,sham:!c},{getOwnPropertyDescriptor:function(v,h){return m(u(v),h)}})},e538:function(n,s,t){var l=t("b622");s.f=l},e893:function(n,s,t){var l=t("5135"),a=t("56ef"),u=t("06cf"),m=t("9bf2");n.exports=function(c,p){for(var g=a(p),f=m.f,v=u.f,h=0;h<g.length;h++){var w=g[h];l(c,w)||f(c,w,v(p,w))}}},e8b5:function(n,s,t){var l=t("c6b6");n.exports=Array.isArray||function(u){return l(u)=="Array"}},e95a:function(n,s,t){var l=t("b622"),a=t("3f8c"),u=l("iterator"),m=Array.prototype;n.exports=function(c){return c!==void 0&&(a.Array===c||m[u]===c)}},f5df:function(n,s,t){var l=t("00ee"),a=t("c6b6"),u=t("b622"),m=u("toStringTag"),c=a(function(){return arguments}())=="Arguments",p=function(g,f){try{return g[f]}catch{}};n.exports=l?a:function(g){var f,v,h;return g===void 0?"Undefined":g===null?"Null":typeof(v=p(f=Object(g),m))=="string"?v:c?a(f):(h=a(f))=="Object"&&typeof f.callee=="function"?"Arguments":h}},f772:function(n,s,t){var l=t("5692"),a=t("90e3"),u=l("keys");n.exports=function(m){return u[m]||(u[m]=a(m))}},fb15:function(n,s,t){if(t.r(s),typeof window<"u"){var l=window.document.currentScript;{var a=t("8875");l=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a})}var u=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(t.p=u[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function m(I,C,$){return C in I?Object.defineProperty(I,C,{value:$,enumerable:!0,configurable:!0,writable:!0}):I[C]=$,I}function c(I,C){var $=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);C&&(M=M.filter(function(z){return Object.getOwnPropertyDescriptor(I,z).enumerable})),$.push.apply($,M)}return $}function p(I){for(var C=1;C<arguments.length;C++){var $=arguments[C]!=null?arguments[C]:{};C%2?c(Object($),!0).forEach(function(M){m(I,M,$[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors($)):c(Object($)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor($,M))})}return I}function g(I){if(Array.isArray(I))return I}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function f(I,C){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var $=[],M=!0,z=!1,Q=void 0;try{for(var ie=I[Symbol.iterator](),me;!(M=(me=ie.next()).done)&&($.push(me.value),!(C&&$.length===C));M=!0);}catch(Te){z=!0,Q=Te}finally{try{!M&&ie.return!=null&&ie.return()}finally{if(z)throw Q}}return $}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function v(I,C){(C==null||C>I.length)&&(C=I.length);for(var $=0,M=new Array(C);$<C;$++)M[$]=I[$];return M}function h(I,C){if(I){if(typeof I=="string")return v(I,C);var $=Object.prototype.toString.call(I).slice(8,-1);if($==="Object"&&I.constructor&&($=I.constructor.name),$==="Map"||$==="Set")return Array.from(I);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return v(I,C)}}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(I,C){return g(I)||f(I,C)||h(I,C)||w()}function V(I){if(Array.isArray(I))return v(I)}function A(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(I){return V(I)||A(I)||h(I)||E()}var x=t("a352"),T=t.n(x);function k(I){I.parentElement!==null&&I.parentElement.removeChild(I)}function L(I,C,$){var M=$===0?I.children[0]:I.children[$-1].nextSibling;I.insertBefore(C,M)}var B=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function te(I){var C=Object.create(null);return function(M){var z=C[M];return z||(C[M]=I(M))}}var F=/-(\w)/g,N=te(function(I){return I.replace(F,function(C,$){return $.toUpperCase()})});t("5db7"),t("73d9");var ee=["Start","Add","Remove","Update","End"],G=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],fe=[H,ee,G].flatMap(function(I){return I}).map(function(I){return"on".concat(I)}),be={manage:H,manageAndEmit:ee,emit:G};function Me(I){return fe.indexOf(I)!==-1}t("caad"),t("2ca0");var Oe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ke(I){return Oe.includes(I)}function Ve(I){return["transition-group","TransitionGroup"].includes(I)}function Ue(I){return["id","class","role","style"].includes(I)||I.startsWith("data-")||I.startsWith("aria-")||I.startsWith("on")}function $e(I){return I.reduce(function(C,$){var M=S($,2),z=M[0],Q=M[1];return C[z]=Q,C},{})}function ye(I){var C=I.$attrs,$=I.componentData,M=$===void 0?{}:$,z=$e(Object.entries(C).filter(function(Q){var ie=S(Q,2),me=ie[0];return ie[1],Ue(me)}));return p(p({},z),M)}function we(I){var C=I.$attrs,$=I.callBackBuilder,M=$e(Ye(C));Object.entries($).forEach(function(Q){var ie=S(Q,2),me=ie[0],Te=ie[1];be[me].forEach(function(Z){M["on".concat(Z)]=Te(Z)})});var z="[data-draggable]".concat(M.draggable||"");return p(p({},M),{},{draggable:z})}function Ye(I){return Object.entries(I).filter(function(C){var $=S(C,2),M=$[0];return $[1],!Ue(M)}).map(function(C){var $=S(C,2),M=$[0],z=$[1];return[N(M),z]}).filter(function(C){var $=S(C,2),M=$[0];return $[1],!Me(M)})}t("c740");function Ne(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function ct(I,C){for(var $=0;$<C.length;$++){var M=C[$];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}function bt(I,C,$){return C&&ct(I.prototype,C),I}var ft=function(C){var $=C.el;return $},Le=function(C,$){return C.__draggable_context=$},je=function(C){return C.__draggable_context},yt=function(){function I(C){var $=C.nodes,M=$.header,z=$.default,Q=$.footer,ie=C.root,me=C.realList;Ne(this,I),this.defaultNodes=z,this.children=[].concat(O(M),O(z),O(Q)),this.externalComponent=ie.externalComponent,this.rootTransition=ie.transition,this.tag=ie.tag,this.realList=me}return bt(I,[{key:"render",value:function($,M){var z=this.tag,Q=this.children,ie=this._isRootComponent,me=ie?{default:function(){return Q}}:Q;return $(z,M,me)}},{key:"updated",value:function(){var $=this.defaultNodes,M=this.realList;$.forEach(function(z,Q){Le(ft(z),{element:M[Q],index:Q})})}},{key:"getUnderlyingVm",value:function($){return je($)}},{key:"getVmIndexFromDomIndex",value:function($,M){var z=this.defaultNodes,Q=z.length,ie=M.children,me=ie.item($);if(me===null)return Q;var Te=je(me);if(Te)return Te.index;if(Q===0)return 0;var Z=ft(z[0]),K=O(ie).findIndex(function(X){return X===Z});return $<K?0:Q}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),I}(),ot=t("8bbf");function it(I,C){var $=I[C];return $?$():[]}function or(I){var C=I.$slots,$=I.realList,M=I.getKey,z=$||[],Q=["header","footer"].map(function(X){return it(C,X)}),ie=S(Q,2),me=ie[0],Te=ie[1],Z=C.item;if(!Z)throw new Error("draggable element must have an item slot");var K=z.flatMap(function(X,ue){return Z({element:X,index:ue}).map(function(ce){return ce.key=M(X),ce.props=p(p({},ce.props||{}),{},{"data-draggable":!0}),ce})});if(K.length!==z.length)throw new Error("Item slot must have only one child");return{header:me,footer:Te,default:K}}function Cr(I){var C=Ve(I),$=!ke(I)&&!C;return{transition:C,externalComponent:$,tag:$?Object(ot.resolveComponent)(I):C?ot.TransitionGroup:I}}function et(I){var C=I.$slots,$=I.tag,M=I.realList,z=I.getKey,Q=or({$slots:C,realList:M,getKey:z}),ie=Cr($);return new yt({nodes:Q,root:ie,realList:M})}function mt(I,C){var $=this;Object(ot.nextTick)(function(){return $.$emit(I.toLowerCase(),C)})}function kt(I){var C=this;return function($,M){if(C.realList!==null)return C["onDrag".concat(I)]($,M)}}function Lt(I){var C=this,$=kt.call(this,I);return function(M,z){$.call(C,M,z),mt.call(C,I,M)}}var jt=null,Bt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(C){return C}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Ft=["update:modelValue","change"].concat(O([].concat(O(be.manageAndEmit),O(be.emit)).map(function(I){return I.toLowerCase()}))),Rt=Object(ot.defineComponent)({name:"draggable",inheritAttrs:!1,props:Bt,emits:Ft,data:function(){return{error:!1}},render:function(){try{this.error=!1;var C=this.$slots,$=this.$attrs,M=this.tag,z=this.componentData,Q=this.realList,ie=this.getKey,me=et({$slots:C,tag:M,realList:Q,getKey:ie});this.componentStructure=me;var Te=ye({$attrs:$,componentData:z});return me.render(ot.h,Te)}catch(Z){return this.error=!0,Object(ot.h)("pre",{style:{color:"red"}},Z.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&B.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var C=this;if(!this.error){var $=this.$attrs,M=this.$el,z=this.componentStructure;z.updated();var Q=we({$attrs:$,callBackBuilder:{manageAndEmit:function(Te){return Lt.call(C,Te)},emit:function(Te){return mt.bind(C,Te)},manage:function(Te){return kt.call(C,Te)}}}),ie=M.nodeType===1?M:M.parentElement;this._sortable=new T.a(ie,Q),this.targetDomElement=ie,ie.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var C=this.list;return C||this.modelValue},getKey:function(){var C=this.itemKey;return typeof C=="function"?C:function($){return $[C]}}},watch:{$attrs:{handler:function(C){var $=this._sortable;$&&Ye(C).forEach(function(M){var z=S(M,2),Q=z[0],ie=z[1];$.option(Q,ie)})},deep:!0}},methods:{getUnderlyingVm:function(C){return this.componentStructure.getUnderlyingVm(C)||null},getUnderlyingPotencialDraggableComponent:function(C){return C.__draggable_component__},emitChanges:function(C){var $=this;Object(ot.nextTick)(function(){return $.$emit("change",C)})},alterList:function(C){if(this.list){C(this.list);return}var $=O(this.modelValue);C($),this.$emit("update:modelValue",$)},spliceList:function(){var C=arguments,$=function(z){return z.splice.apply(z,O(C))};this.alterList($)},updatePosition:function(C,$){var M=function(Q){return Q.splice($,0,Q.splice(C,1)[0])};this.alterList(M)},getRelatedContextFromMoveEvent:function(C){var $=C.to,M=C.related,z=this.getUnderlyingPotencialDraggableComponent($);if(!z)return{component:z};var Q=z.realList,ie={list:Q,component:z};if($!==M&&Q){var me=z.getUnderlyingVm(M)||{};return p(p({},me),ie)}return ie},getVmIndexFromDomIndex:function(C){return this.componentStructure.getVmIndexFromDomIndex(C,this.targetDomElement)},onDragStart:function(C){this.context=this.getUnderlyingVm(C.item),C.item._underlying_vm_=this.clone(this.context.element),jt=C.item},onDragAdd:function(C){var $=C.item._underlying_vm_;if($!==void 0){k(C.item);var M=this.getVmIndexFromDomIndex(C.newIndex);this.spliceList(M,0,$);var z={element:$,newIndex:M};this.emitChanges({added:z})}},onDragRemove:function(C){if(L(this.$el,C.item,C.oldIndex),C.pullMode==="clone"){k(C.clone);return}var $=this.context,M=$.index,z=$.element;this.spliceList(M,1);var Q={element:z,oldIndex:M};this.emitChanges({removed:Q})},onDragUpdate:function(C){k(C.item),L(C.from,C.item,C.oldIndex);var $=this.context.index,M=this.getVmIndexFromDomIndex(C.newIndex);this.updatePosition($,M);var z={element:this.context.element,oldIndex:$,newIndex:M};this.emitChanges({moved:z})},computeFutureIndex:function(C,$){if(!C.element)return 0;var M=O($.to.children).filter(function(me){return me.style.display!=="none"}),z=M.indexOf($.related),Q=C.component.getVmIndexFromDomIndex(z),ie=M.indexOf(jt)!==-1;return ie||!$.willInsertAfter?Q:Q+1},onDragMove:function(C,$){var M=this.move,z=this.realList;if(!M||!z)return!0;var Q=this.getRelatedContextFromMoveEvent(C),ie=this.computeFutureIndex(Q,C),me=p(p({},this.context),{},{futureIndex:ie}),Te=p(p({},C),{},{relatedContext:Q,draggedContext:me});return M(Te,$)},onDragEnd:function(){jt=null}}}),Nt=Rt;s.default=Nt},fb6a:function(n,s,t){var l=t("23e7"),a=t("861d"),u=t("e8b5"),m=t("23cb"),c=t("50c4"),p=t("fc6a"),g=t("8418"),f=t("b622"),v=t("1dde"),h=t("ae40"),w=v("slice"),S=h("slice",{ACCESSORS:!0,0:0,1:2}),V=f("species"),A=[].slice,E=Math.max;l({target:"Array",proto:!0,forced:!w||!S},{slice:function(x,T){var k=p(this),L=c(k.length),B=m(x,L),te=m(T===void 0?L:T,L),F,N,ee;if(u(k)&&(F=k.constructor,typeof F=="function"&&(F===Array||u(F.prototype))?F=void 0:a(F)&&(F=F[V],F===null&&(F=void 0)),F===Array||F===void 0))return A.call(k,B,te);for(N=new(F===void 0?Array:F)(E(te-B,0)),ee=0;B<te;B++,ee++)B in k&&g(N,ee,k[B]);return N.length=ee,N}})},fc6a:function(n,s,t){var l=t("44ad"),a=t("1d80");n.exports=function(u){return l(a(u))}},fdbc:function(n,s){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(n,s,t){var l=t("4930");n.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(br)),br.exports}var da=aa();const Zr=oa(da),ua={class:"card mb-4 p-4"},ca={class:"nav nav-tabs mb-3"},fa={class:"nav-item"},ma={class:"nav-item"},pa={class:"row g-3 align-items-start"},va={class:"col-md-5"},ga={class:"attr-form shadow-sm rounded-3 p-3 mb-3 bg-light"},ha=["placeholder"],ba=["placeholder"],ya={class:"col-md-7"},xa={class:"attr-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Sa={class:"attr-card shadow-sm rounded-4 px-3 py-2 bg-white d-flex align-items-center position-relative"},wa={class:"w-100 d-flex flex-row flex-wrap align-items-center"},Ea={class:"attr-label fw-bold"},Oa={class:"attr-value flex-fill"},ka={class:"attr-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Ca=["onClick"],Ia=["onClick"],Pa={key:0,class:"text-muted mt-4 ms-2"},Ta={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae("uk"),s=Ot({uk:i.modelValue.uk?JSON.parse(JSON.stringify(i.modelValue.uk)):[],ru:i.modelValue.ru?JSON.parse(JSON.stringify(i.modelValue.ru)):[]}),t=Ot({name:"",value:""}),l=Ae(null);let a=Math.max(...s.uk.map(f=>f._id||0),...s.ru.map(f=>f._id||0),0);lt(s,f=>{d("update:modelValue",{uk:f.uk.map(({_id:v,...h})=>h.name||h.value?{...h}:null).filter(Boolean),ru:f.ru.map(({_id:v,...h})=>h.name||h.value?{...h}:null).filter(Boolean)})},{deep:!0});function u(){if(!t.name||!t.value){alert("Заповніть обидва поля!");return}s[n.value].push({_id:++a,name:t.name,value:t.value}),g()}function m(f){l.value=f;const v=s[n.value][f];t.name=v.name,t.value=v.value}function c(){l.value!==null&&(s[n.value][l.value]={...s[n.value][l.value],name:t.name,value:t.value},l.value=null,g())}function p(f){s[n.value].splice(f,1),l.value===f&&(l.value=null,g())}function g(){t.name="",t.value=""}return(f,v)=>(b(),y("div",ua,[v[11]||(v[11]=o("h5",{class:"fw-bold mb-3"},"Характеристики товару",-1)),o("ul",ca,[o("li",fa,[o("button",{class:J(["nav-link",{active:n.value==="uk"}]),onClick:v[0]||(v[0]=h=>n.value="uk")},"Українська",2)]),o("li",ma,[o("button",{class:J(["nav-link",{active:n.value==="ru"}]),onClick:v[1]||(v[1]=h=>n.value="ru")},"Російська",2)])]),o("div",pa,[o("div",va,[o("div",ga,[U(o("input",{"onUpdate:modelValue":v[2]||(v[2]=h=>t.name=h),type:"text",class:"form-control mb-2",placeholder:n.value==="uk"?"Характеристика":"Характеристика (рус)"},null,8,ha),[[j,t.name]]),U(o("input",{"onUpdate:modelValue":v[3]||(v[3]=h=>t.value=h),type:"text",class:"form-control mb-3",placeholder:n.value==="uk"?"Значення":"Значение"},null,8,ba),[[j,t.value]]),l.value===null?(b(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:u},v[5]||(v[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати характеристику ",-1)]))):(b(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:c},v[6]||(v[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",ya,[o("div",xa,[Y(Dt(Zr),{modelValue:s[n.value],"onUpdate:modelValue":v[4]||(v[4]=h=>s[n.value]=h),"item-key":"_id",handle:".drag-handle",animation:180,class:"d-flex flex-column gap-2 mb-0"},{item:Ke(({element:h,index:w})=>[o("div",Sa,[v[10]||(v[10]=o("span",{class:"drag-handle me-3",title:"Перетягнути",style:{cursor:"grab"}},[o("svg",{width:"18",height:"18",fill:"#b0b0b0",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",wa,[o("div",Ea,P(h.name),1),v[7]||(v[7]=o("div",{class:"attr-sep mx-2"},":",-1)),o("div",Oa,P(h.value),1)]),o("div",ka,[o("button",{class:"btn-action btn-edit",onClick:S=>m(w)},v[8]||(v[8]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Ca),o("button",{class:"btn-action btn-remove",onClick:S=>p(w)},v[9]||(v[9]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Ia)])])]),_:1},8,["modelValue"]),s[n.value].length?D("",!0):(b(),y("div",Pa,"Ще не додано жодної характеристики"))])])])]))}},Aa=se(Ta,[["__scopeId","data-v-d2193fe7"]]),$a={class:"card mb-4 p-4"},Da={class:"color-form shadow-sm rounded-3 p-3 mb-4 bg-light"},Va={class:"row g-3"},Ua={class:"col-12 col-md-6"},Ma={class:"col-12"},La={class:"d-flex align-items-center gap-3 w-100 py-1"},ja=["src"],Ba={class:"d-flex flex-column flex-grow-1 min-w-0"},Fa={class:"fw-semibold text-truncate"},Ra={key:0,class:"text-muted"},Na={class:"d-flex align-items-center gap-2 min-w-0"},Ga=["src"],za={class:"text-truncate"},_a={class:"col-12 col-md-6"},Ka=["src"],Ha={class:"mt-3 d-flex gap-2"},Wa={class:"color-list"},Xa={class:"color-card shadow rounded-4 px-4 py-3 bg-white d-flex align-items-center position-relative gap-3",style:{"min-height":"100px"}},Ya=["src"],Ja={class:"flex-grow-1 d-flex flex-column justify-content-center"},Qa={class:"fw-bold fs-5 lh-sm mb-1"},Za={class:"text-secondary fw-semibold"},qa={class:"color-actions d-flex flex-column align-items-center justify-content-center gap-2 position-absolute end-0 top-0 mt-2 me-2"},ed=["onClick"],td=["onClick"],rd={key:0,class:"text-muted mt-4 ms-2"},nd={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productList:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae([]);er(async()=>{try{const E=await he.get("/admin/products/list");n.value=E.data}catch(E){console.error("Не вдалося завантажити продукти:",E),n.value=[]}});function s(E){var O,x,T,k;return(E==null?void 0:E.name)||(E==null?void 0:E.title)||(E==null?void 0:E.product_name)||(((x=(O=E==null?void 0:E.translations)==null?void 0:O[0])==null?void 0:x.title)??((k=(T=E==null?void 0:E.translations)==null?void 0:T[0])==null?void 0:k.name))||""}function t(E){return(E==null?void 0:E.sku)??(E==null?void 0:E.article)??(E==null?void 0:E.code)??""}function l(E){var O,x;return(E==null?void 0:E.image)||(E==null?void 0:E.image_url)||(E==null?void 0:E.image_path)||(E==null?void 0:E.thumbnail)||(E==null?void 0:E.preview)||(Array.isArray(E==null?void 0:E.images)?((O=E.images[0])==null?void 0:O.url)||((x=E.images[0])==null?void 0:x.path):"")}function a(E){return E?/^data:/i.test(E)||E.startsWith("http")||E.startsWith("/storage/")||E.startsWith("/")?E:E.startsWith("//")?`${window.location.protocol}${E}`:"/storage/"+E.replace(/^\/+/,""):""}function u(E,O){if(!O)return!0;const x=(s(E)||"").toLowerCase(),T=(t(E)||"").toLowerCase(),k=O.toLowerCase();return x.includes(k)||T.includes(k)}function m(E){if(!E)return"";const O=s(E),x=t(E);return x?`${O} (SKU: ${x})`:O}const c=Ot({color:"",product:null,image:null}),p=Ae([...i.modelValue]);let g=0;const f=Ae(null);lt(p,E=>{d("update:modelValue",E)},{deep:!0}),lt(()=>i.modelValue,E=>{E!==p.value&&(p.value=[...E])});function v(){if(!c.color||!c.product||!c.image){alert("Заповніть всі поля та виберіть зображення!");return}p.value.push({_id:++g,color:c.color,linked_product_id:c.product.id,product:c.product,image:c.image}),A()}function h(E){f.value=E;const O=p.value[E];c.color=O.color,c.product=O.product,c.image=O.image}function w(){f.value!==null&&(p.value[f.value]={...p.value[f.value],color:c.color,linked_product_id:c.product.id,product:c.product,image:c.image},f.value=null,A())}function S(E){p.value.splice(E,1),f.value===E&&(f.value=null,A())}function V(E){const O=E.target.files[0];if(!O)return;const x=new FileReader;x.onload=T=>{c.image=T.target.result},x.readAsDataURL(O)}function A(){c.color="",c.product=null,c.image=""}return(E,O)=>(b(),y("div",$a,[O[8]||(O[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",Da,[o("div",Va,[o("div",Ua,[U(o("input",{"onUpdate:modelValue":O[0]||(O[0]=x=>c.color=x),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[j,c.color]])]),o("div",Ma,[Y(Dt(Ut),{modelValue:c.product,"onUpdate:modelValue":O[1]||(O[1]=x=>c.product=x),options:n.value,searchable:!0,"custom-label":m,filter:u,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Ke(({option:x})=>[o("div",La,[l(x)?(b(),y("img",{key:0,src:a(l(x)),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,ja)):D("",!0),o("div",Ba,[o("span",Fa,P(s(x)),1),t(x)?(b(),y("small",Ra,"SKU: "+P(t(x)),1)):D("",!0)])])]),singleLabel:Ke(({option:x})=>[o("div",Na,[l(x)?(b(),y("img",{key:0,src:a(l(x)),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,Ga)):D("",!0),o("span",za,[pe(P(s(x)),1),t(x)?(b(),y(q,{key:0},[pe(" (SKU: "+P(t(x))+")",1)],64)):D("",!0)])])]),_:1},8,["modelValue","options"])]),o("div",_a,[o("input",{type:"file",class:"form-control mb-3",onChange:V},null,32),c.image?(b(),y("img",{key:0,src:c.image,alt:"",class:"color-img-preview mb-2"},null,8,Ka)):D("",!0)])]),o("div",Ha,[f.value===null?(b(),y("button",{key:0,class:"btn btn-primary flex-fill d-flex align-items-center justify-content-center gap-2",onClick:v},O[3]||(O[3]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати колір ",-1)]))):(b(),y("button",{key:1,class:"btn btn-success flex-fill d-flex align-items-center justify-content-center gap-2",onClick:w},O[4]||(O[4]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",Wa,[Y(Dt(Zr),{modelValue:p.value,"onUpdate:modelValue":O[2]||(O[2]=x=>p.value=x),"item-key":"_id",class:"d-flex flex-column gap-3 mb-0",animation:200,handle:".drag-handle"},{item:Ke(({element:x,index:T})=>[o("div",Xa,[O[7]||(O[7]=o("span",{class:"drag-handle me-2",title:"Перемістити",style:{cursor:"grab","flex-shrink":"0"}},[o("svg",{width:"22",height:"22",fill:"none",stroke:"#b4b4b4","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"1.5"}),o("circle",{cx:"7",cy:"12",r:"1.5"}),o("circle",{cx:"7",cy:"17",r:"1.5"}),o("circle",{cx:"12",cy:"7",r:"1.5"}),o("circle",{cx:"12",cy:"12",r:"1.5"}),o("circle",{cx:"12",cy:"17",r:"1.5"}),o("circle",{cx:"17",cy:"7",r:"1.5"}),o("circle",{cx:"17",cy:"12",r:"1.5"}),o("circle",{cx:"17",cy:"17",r:"1.5"})])],-1)),x.image?(b(),y("img",{key:0,src:x.image,style:{width:"64px",height:"64px","border-radius":"12px",border:"2px solid #f2f4f8",background:"#fff","object-fit":"cover","flex-shrink":"0"}},null,8,Ya)):D("",!0),o("div",Ja,[o("div",Qa,P(x.color),1),o("div",Za,P(x.product?m(x.product):""),1)]),o("div",qa,[o("button",{class:"btn-action btn-edit",onClick:k=>h(T),title:"Редагувати"},O[5]||(O[5]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5л12.232-12.268z"})],-1)]),8,ed),o("button",{class:"btn-action btn-remove",onClick:k=>S(T),title:"Видалити"},O[6]||(O[6]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#dc2626","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,td)])])]),_:1},8,["modelValue"]),p.value.length?D("",!0):(b(),y("div",rd," Ще не додано жодного кольору "))])]))}},od=se(nd,[["__scopeId","data-v-5d076b82"]]),id={name:"ProductForm",components:{ProductHeader:Fn,ProductTitles:Wn,ProductSeo:to,ProductImages:Ho,ProductDescription:ns,ProductPrice:vs,ProductCategory:zs,ProductSizeGuide:tl,ProductVariants:na,ProductAttributes:Aa,ProductColors:od,GlobalLoadingOverlay:vn},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",is_available:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},saving:!1,categoryOptions:[{id:1,name:"Домашні тапочки"},{id:2,name:"Тапочки з хутром"},{id:3,name:"Модні тапочки"},{id:4,name:"Спортивні тапочки"}],productOptions:[{id:1,name:"Товар 1"},{id:2,name:"Товар 2"},{id:3,name:"Товар 3"},{id:4,name:"Товар 4"}]}},methods:{async submitForm(){if(this.saving)return;this.errors={};const r=new FormData;r.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(e=>{e.file&&r.append("images[]",e.file)}),r.append("images_meta",JSON.stringify((this.form.images||[]).map(e=>({position:e.position,is_main:e.is_main}))));try{this.saving=!0,await he.post("/admin/products",r,{headers:{"Content-Type":"multipart/form-data"}}),alert("Товар успішно додано!"),window.location.href="/admin/products"}catch(e){e.response&&e.response.status===422?this.errors=Object.fromEntries(Object.entries(e.response.data.errors).map(([i,d])=>[i,d[0]])):alert("Сталася помилка при збереженні!")}finally{this.saving=!1}}}},sd={class:"p-4"},ld={class:"row"},ad={class:"col-md-8"},dd={class:"col-md-4"};function ud(r,e,i,d,n,s){const t=ae("ProductHeader"),l=ae("ProductTitles"),a=ae("ProductSeo"),u=ae("ProductImages"),m=ae("ProductPrice"),c=ae("ProductCategory"),p=ae("ProductSizeGuide"),g=ae("ProductDescription"),f=ae("ProductVariants"),v=ae("ProductAttributes"),h=ae("ProductColors"),w=ae("GlobalLoadingOverlay");return b(),y(q,null,[o("div",sd,[Y(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",ld,[o("div",ad,[Y(l,{form:n.form,errors:n.errors},null,8,["form","errors"]),Y(a,{form:n.form,errors:n.errors},null,8,["form","errors"]),Y(u,{modelValue:n.form.images,"onUpdate:modelValue":e[0]||(e[0]=S=>n.form.images=S)},null,8,["modelValue"])]),o("div",dd,[Y(m,{form:n.form,errors:n.errors},null,8,["form","errors"]),Y(c,{modelValue:n.form.categories,"onUpdate:modelValue":e[1]||(e[1]=S=>n.form.categories=S),categories:n.categoryOptions,errors:n.errors},null,8,["modelValue","categories","errors"]),Y(p,{modelValue:n.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=S=>n.form.size_guide_id=S),errors:n.errors},null,8,["modelValue","errors"])])]),Y(g,{modelValue:n.form.description,"onUpdate:modelValue":e[3]||(e[3]=S=>n.form.description=S),errors:n.errors},null,8,["modelValue","errors"]),Y(f,{modelValue:n.form.variants,"onUpdate:modelValue":e[4]||(e[4]=S=>n.form.variants=S),errors:n.errors},null,8,["modelValue","errors"]),Y(v,{modelValue:n.form.attributes,"onUpdate:modelValue":e[5]||(e[5]=S=>n.form.attributes=S),errors:n.errors},null,8,["modelValue","errors"]),Y(h,{modelValue:n.form.colors,"onUpdate:modelValue":e[6]||(e[6]=S=>n.form.colors=S),productList:n.productOptions,errors:n.errors},null,8,["modelValue","productList","errors"])]),Y(w,{active:n.saving,label:"Зберігаємо товар…",hint:"Будь ласка, не закривайте сторінку"},null,8,["active"])],64)}const cd=se(id,[["render",ud],["__scopeId","data-v-6ace5456"]]),fd={name:"ProductFilters",props:{search:String,status:[String,Number],category:[String,Number],categories:{type:Array,required:!0}},methods:{update(r,e){this.$emit(`update:${r}`,e)}}},md={class:"filters mb-4 card p-3",style:{"border-radius":"5px"}},pd={class:"row align-items-end"},vd={class:"col-md-3"},gd=["value"],hd={class:"col-md-3"},bd=["value"],yd={class:"col-md-3"},xd=["value"],Sd=["value"];function wd(r,e,i,d,n,s){return b(),y("div",md,[o("div",pd,[o("div",vd,[o("input",{type:"text",class:"form-control",placeholder:"Пошук товару...",value:i.search,onInput:e[0]||(e[0]=t=>s.update("search",t.target.value))},null,40,gd)]),o("div",hd,[o("select",{class:"form-select",value:i.status,onChange:e[1]||(e[1]=t=>s.update("status",t.target.value))},e[3]||(e[3]=[o("option",{value:""},"Статус",-1),o("option",{value:"1"},"Опубліковано",-1),o("option",{value:"0"},"Неактивний",-1)]),40,bd)]),o("div",yd,[o("select",{class:"form-select",value:i.category,onChange:e[2]||(e[2]=t=>s.update("category",t.target.value))},[e[4]||(e[4]=o("option",{value:""},"Категорія",-1)),(b(!0),y(q,null,ve(i.categories,t=>(b(),y("option",{key:t.id,value:t.id},P(t.name),9,Sd))),128))],40,xd)]),e[5]||(e[5]=Or('<div class="col-md-3 text-end"><a href="/admin/products/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.25);transition:background 0.3s ease;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-box2-heart me-2" viewBox="0 0 16 16"><path d="M4.684 1.447A1.5 1.5 0 0 1 5.934 1h4.132a1.5 1.5 0 0 1 1.25.447l2.25 2.25A1.5 1.5 0 0 1 14.934 4H1.066a1.5 1.5 0 0 1 1.368-.803l2.25-2.25z"></path><path d="M.5 5.5A.5.5 0 0 1 1 5h14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H1a.5.5 0 0 1-.5-.5v-1zm3.92 2.996a2.326 2.326 0 0 1 1.611-.63c.49 0 .98.173 1.352.568.372-.395.862-.568 1.352-.568.588 0 1.165.242 1.61.63C10.784 8.864 11 9.418 11 9.996c0 .578-.216 1.132-.655 1.5l-2.58 2.15a.5.5 0 0 1-.63 0l-2.58-2.15A1.917 1.917 0 0 1 5 9.996c0-.578.216-1.132.655-1.5z"></path></svg> Додати товар </a></div>',1))])])}const Ed=se(fd,[["render",wd]]),Od={name:"ProductTable",props:{products:{type:Array,required:!0}},data(){return{menuOpen:null}},methods:{statusLabel(r){return r==1?"Опубліковано":r==2?"Заплановано":r==0?"Неактивний":""},statusClass(r){return r==1?"status-publish":r==2?"status-scheduled":r==0?"status-inactive":""},async toggleStatus(r){const e=r.status;r.status=e==1?0:1;try{await he.post(`/api/products/${r.id}/toggle-status`,{status:r.status})}catch{r.status=e,alert("Помилка збереження статусу")}},openMenu(r){this.menuOpen===r?this.closeMenu():(this.menuOpen=r,document.addEventListener("click",this.handleOutsideClick))},closeMenu(){this.menuOpen=null,document.removeEventListener("click",this.handleOutsideClick)},handleOutsideClick(r){!r.target.closest(".dropdown-menu")&&!r.target.closest(".dots-menu")&&this.closeMenu()},async deleteProduct(r){if(this.closeMenu(),!!confirm("Підтвердіть видалення товару. Операція незворотна і не може бути скасована."))try{await he.delete(`/api/products/${r.id}`),alert("Товар успішно видалено"),window.location.reload()}catch{alert("Помилка видалення товару")}},download(r){this.closeMenu(),alert(`Download product #${r.id}`)},duplicate(r){this.closeMenu(),this.$emit("duplicate",r)}}},kd={class:"card border-0 shadow-sm rounded-3"},Cd={class:"card-body p-0"},Id={class:"table-responsive"},Pd={class:"table table-hover align-middle mb-0"},Td={class:"d-flex align-items-center"},Ad=["src"],$d={class:"min-w-0"},Dd={class:"fw-medium text-truncate"},Vd={class:"text-muted text-truncate"},Ud=["onClick"],Md={class:"text-end"},Ld={class:"dropdown"},jd={class:"dropdown-menu dropdown-menu-end"},Bd=["href"],Fd=["onClick"],Rd=["onClick"];function Nd(r,e,i,d,n,s){return b(),y("div",kd,[o("div",Cd,[o("div",Id,[o("table",Pd,[e[6]||(e[6]=o("thead",{class:"table-light"},[o("tr",null,[o("th",null,[o("input",{type:"checkbox"})]),o("th",null,"Product"),o("th",null,"Category"),o("th",null,"Stock"),o("th",null,"SKU"),o("th",null,"Price"),o("th",null,"Qty"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(b(!0),y(q,null,ve(i.products,(t,l)=>(b(),y("tr",{key:t.id},[e[5]||(e[5]=o("td",null,[o("input",{type:"checkbox"})],-1)),o("td",null,[o("div",Td,[o("img",{src:t.image,class:"avatar me-3"},null,8,Ad),o("div",$d,[o("div",Dd,P(t.name),1),o("small",Vd,P(t.brand),1)])])]),o("td",null,P(t.category_name),1),o("td",null,[o("div",{class:J(["toggle-switch",{active:t.status==1}]),onClick:a=>s.toggleStatus(t),title:"Змінити статус"},null,10,Ud)]),o("td",null,P(t.sku),1),o("td",null,P(t.price),1),o("td",null,P(t.qty),1),o("td",null,[o("span",{class:J(["badge",s.statusClass(t.status)])},P(s.statusLabel(t.status)),3)]),o("td",Md,[o("div",Ld,[e[4]||(e[4]=o("button",{type:"button",class:"btn p-0 dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[o("i",{class:"bi bi-three-dots-vertical"})],-1)),o("div",jd,[o("a",{class:"dropdown-item",href:`/admin/products/${t.id}/edit`},e[0]||(e[0]=[o("i",{class:"bi bi-pencil me-1"},null,-1),pe(" Edit ",-1)]),8,Bd),o("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:oe(a=>s.duplicate(t),["prevent"])},e[1]||(e[1]=[o("i",{class:"bi bi-files me-1"},null,-1),pe(" Duplicate ",-1)]),8,Fd),e[3]||(e[3]=o("hr",{class:"dropdown-divider"},null,-1)),o("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:oe(a=>s.deleteProduct(t),["prevent"])},e[2]||(e[2]=[o("i",{class:"bi bi-trash me-1"},null,-1),pe(" Delete ",-1)]),8,Rd)])])])]))),128))])])])])])}const Gd=se(Od,[["render",Nd],["__scopeId","data-v-9ffc72e8"]]),zd={components:{ProductFilters:Ed,ProductTable:Gd},data(){return{filters:{search:"",status:"",category:"",page:1},categories:[],products:[],pagination:{current_page:1,last_page:1,per_page:10,total:0}}},watch:{filters:{handler:"fetchProducts",deep:!0}},mounted(){this.fetchCategories(),this.fetchProducts()},methods:{changePage(r){r>=1&&r<=this.pagination.last_page&&(this.filters.page=r)},fetchCategories(){he.get("/api/category-select/uk").then(r=>{this.categories=r.data}).catch(()=>{this.categories=[]})},fetchProducts(){he.get("/api/products/list",{params:this.filters}).then(r=>{this.products=r.data.data,this.pagination.current_page=r.data.current_page,this.pagination.last_page=r.data.last_page,this.pagination.per_page=r.data.per_page,this.pagination.total=r.data.total}).catch(()=>{this.products=[]})},handleDeleted(r){this.products=this.products.filter(e=>e.id!==r)}}},_d={class:"pagination-controls"},Kd=["disabled"],Hd=["disabled"];function Wd(r,e,i,d,n,s){const t=ae("ProductFilters"),l=ae("ProductTable");return b(),y("div",null,[Y(t,{search:n.filters.search,status:n.filters.status,category:n.filters.category,categories:n.categories,"onUpdate:search":e[0]||(e[0]=a=>n.filters.search=a),"onUpdate:status":e[1]||(e[1]=a=>n.filters.status=a),"onUpdate:category":e[2]||(e[2]=a=>n.filters.category=a)},null,8,["search","status","category","categories"]),Y(l,{products:n.products,onDeleted:s.handleDeleted},null,8,["products","onDeleted"]),o("div",_d,[o("button",{disabled:n.pagination.current_page===1,onClick:e[3]||(e[3]=a=>s.changePage(n.pagination.current_page-1))}," Назад ",8,Kd),o("span",null,"Сторінка "+P(n.pagination.current_page)+" з "+P(n.pagination.last_page),1),o("button",{disabled:n.pagination.current_page===n.pagination.last_page,onClick:e[4]||(e[4]=a=>s.changePage(n.pagination.current_page+1))}," Вперед ",8,Hd)])])}const Xd=se(zd,[["render",Wd],["__scopeId","data-v-e01c23d9"]]),Yd={name:"ProductHeader"},Jd={class:"d-flex justify-content-between align-items-center mb-4"},Qd={class:"top-actions"};function Zd(r,e,i,d,n,s){return b(),y("div",Jd,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",Qd,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>r.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const qd=se(Yd,[["render",Zd],["__scopeId","data-v-4853d00b"]]),eu={name:"ProductTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},tu={class:"card mb-4 p-3"},ru={class:"mb-3"},nu={key:0,class:"invalid-feedback"},ou={class:"mb-3"},iu={key:0,class:"invalid-feedback"},su={class:"mb-3"},lu={key:0,class:"invalid-feedback"},au={class:"mb-3"},du={key:0,class:"invalid-feedback"};function uu(r,e,i,d,n,s){var t,l,a,u,m,c,p,g;return b(),y("div",tu,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",ru,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=f=>i.form.name_uk=f),onInput:e[1]||(e[1]=f=>s.clearError("name_uk"))},null,34),[[j,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(b(),y("div",nu,P(i.errors.name_uk),1)):D("",!0)]),o("div",ou,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=f=>i.form.slug_uk=f),onInput:e[3]||(e[3]=f=>s.clearError("slug_uk"))},null,34),[[j,i.form.slug_uk]]),(u=i.errors)!=null&&u.slug_uk?(b(),y("div",iu,P(i.errors.slug_uk),1)):D("",!0)]),o("div",su,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=f=>i.form.name_ru=f),onInput:e[5]||(e[5]=f=>s.clearError("name_ru"))},null,34),[[j,i.form.name_ru]]),(c=i.errors)!=null&&c.name_ru?(b(),y("div",lu,P(i.errors.name_ru),1)):D("",!0)]),o("div",au,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=f=>i.form.slug_ru=f),onInput:e[7]||(e[7]=f=>s.clearError("slug_ru"))},null,34),[[j,i.form.slug_ru]]),(g=i.errors)!=null&&g.slug_ru?(b(),y("div",du,P(i.errors.slug_ru),1)):D("",!0)])])}const cu=se(eu,[["render",uu]]),fu={name:"ProductSeo",props:{form:{type:Object,required:!0}}},mu={class:"card mb-4 p-3"},pu={class:"mb-3"},vu={class:"mb-3"},gu={class:"mb-3"},hu={class:"mb-3"};function bu(r,e,i,d,n,s){return b(),y("div",mu,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",pu,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[j,i.form.meta_title_uk]])]),o("div",vu,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[j,i.form.meta_description_uk]])]),o("div",gu,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[j,i.form.meta_title_ru]])]),o("div",hu,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[j,i.form.meta_description_ru]])])])}const yu=se(fu,[["render",bu]]),xu={class:"card mb-4 p-3"},Su={class:"mb-3"},wu={class:"text-muted"},Eu=["src"],Ou=["onClick"],ku={class:"badge-main"},Cu={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]},productId:{type:[Number,String],default:null},imagesFolder:{type:String,default:"products"}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae([...i.modelValue]);lt(()=>i.modelValue,v=>{v!==n.value&&(n.value=[...v])});const s=At(()=>[...n.value].sort((v,h)=>(v.position??0)-(h.position??0))),t=At(()=>{if(i.productId)return Number(i.productId);const v=window.location.pathname.match(/\/products\/(\d+)(?:\/|$)/);return v?Number(v[1]):null});function l(v){return String(v).replace(/^public\//,"")}function a(...v){return"/"+v.map(h=>String(h||"").replace(/^\/+|\/+$/g,"")).filter(Boolean).join("/")}function u(v){let h=(v==null?void 0:v.url)||(v==null?void 0:v.full_url)||(v==null?void 0:v.path)||(v==null?void 0:v.storage_path)||(v==null?void 0:v.image)||(v==null?void 0:v.filepath)||(v==null?void 0:v.filename)||(v==null?void 0:v.name);if(!h)return"";if(h=String(h),h.startsWith("blob:")||h.startsWith("data:")||/^https?:\/\//i.test(h)||h.startsWith("/"))return h;if(h.startsWith("storage/"))return a(h);const w=h.indexOf("/storage/");if(w!==-1)return h.slice(w);if(h=l(h),h.includes("/"))return a("storage",h);const S=t.value;return S?a("storage",i.imagesFolder,S,h):(console.warn("[images] filename without productId — додай prop :product-id або збережи шлях із каталогом",h),a("storage",h))}function m(v){v.target.src="/images/placeholder.png"}function c(){n.value.forEach((v,h)=>{v.position=h,v.is_main=h===0}),d("update:modelValue",[...n.value])}function p(v){Array.from(v.target.files).forEach(w=>{n.value.push({id:Date.now()+Math.random(),file:w,url:URL.createObjectURL(w),position:n.value.length,is_main:!1})}),c(),v.target.value=""}function g(v){const h=s.value[v],w=n.value.findIndex(S=>S.id===h.id);if(w!==-1){const S=n.value[w];if(S!=null&&S.url&&String(S.url).startsWith("blob:"))try{URL.revokeObjectURL(S.url)}catch{}n.value.splice(w,1),c()}}const f=Ae(null);return er(()=>{W.create(f.value,{animation:150,onEnd:v=>{const h=[...s.value],[w]=h.splice(v.oldIndex,1);h.splice(v.newIndex,0,w),n.value=h,c()}})}),(v,h)=>(b(),y("div",xu,[h[0]||(h[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",Su,[o("input",{type:"file",class:"form-control",multiple:"",onChange:p},null,32),o("small",wu,"Файлів: "+P(n.value.length),1)]),o("div",{ref_key:"containerRef",ref:f,class:"d-flex gap-2 flex-wrap"},[(b(!0),y(q,null,ve(s.value,(w,S)=>(b(),y("div",{key:w.id,class:"image-item"},[o("img",{src:u(w),alt:"",onError:m},null,40,Eu),o("button",{type:"button",class:"remove-btn",onClick:V=>g(S)},"×",8,Ou),o("span",ku,P(S===0?"Головне":"#"+(S+1)),1)]))),128))],512)]))}},Iu=se(Cu,[["__scopeId","data-v-a9ea6866"]]),Pu={name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},productId:{type:[String,Number],required:!0}},data(){return{lang:"uk",blocks:{uk:[],ru:[]},editIdx:null,editForm:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""},addMode:!1,newBlock:{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},uploading:!1}},watch:{modelValue:{immediate:!0,deep:!0,handler(r){this.blocks={uk:Array.isArray(r.uk)?JSON.parse(JSON.stringify(r.uk)):[],ru:Array.isArray(r.ru)?JSON.parse(JSON.stringify(r.ru)):[]}}}},methods:{switchLang(r){this.lang=r,this.cancelEdit(),this.cancelAddBlock()},editBlock(r){this.editIdx=r,this.editForm={...this.blocks[this.lang][r]}},cancelEdit(){this.editIdx=null,this.editForm={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""}},async saveEditBlock(r){this.editIdx!==null&&(this.blocks[this.lang][this.editIdx]={...this.editForm,_key:this.blocks[this.lang][this.editIdx]._key,type:this.blocks[this.lang][this.editIdx].type},this.cancelEdit(),this.$emit("update:modelValue",this.blocks))},deleteBlock(r){this.blocks[this.lang].splice(r,1),this.$emit("update:modelValue",this.blocks),this.editIdx===r&&this.cancelEdit()},async uploadImage(r){const e=new FormData;e.append("image",r),e.append("product_id",this.productId),this.uploading=!0;try{const i=await he.post("/api/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}});return this.uploading=!1,i.data.url}catch{return this.uploading=!1,alert("Помилка завантаження зображення!"),""}},async onImageChange(r,e,i=null){const d=r.target.files[0];if(!d)return;const n=await this.uploadImage(d);n&&(e==="image_right"||e==="image_left"?this.editForm.imageUrl=n:e==="two_images"&&i===1?this.editForm.imageUrl1=n:e==="two_images"&&i===2&&(this.editForm.imageUrl2=n))},startAddBlock(){this.addMode=!0,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},cancelAddBlock(){this.addMode=!1,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},async saveNewBlock(){if(!this.newBlock.type)return;const r=Date.now()+Math.floor(Math.random()*1e3),e={...this.newBlock,_key:r};this.blocks[this.lang].push(e),this.addMode=!1,this.$emit("update:modelValue",this.blocks),this.cancelAddBlock()},async onAddImage(r,e){const i=r.target.files[0];if(!i)return;const d=await this.uploadImage(i);d&&(e==="single"?this.newBlock.imageUrl=d:e===1?this.newBlock.imageUrl1=d:e===2&&(this.newBlock.imageUrl2=d))}}},Tu={class:"card mb-4 p-4"},Au={class:"nav nav-tabs mb-3"},$u={class:"nav-item"},Du={class:"nav-item"},Vu={key:0},Uu={class:"desc-action-bar"},Mu=["onClick"],Lu=["onClick"],ju={class:"mb-3"},Bu={class:"mb-3"},Fu={key:1,class:"row"},Ru={class:"col-md-6 mb-3"},Nu={class:"col-md-6 mb-3"},Gu={key:0,class:"mt-2"},zu=["src"],_u={key:2,class:"row"},Ku={class:"col-md-6 mb-3"},Hu={key:0,class:"mt-2"},Wu=["src"],Xu={class:"col-md-6 mb-3"},Yu={key:3,class:"row"},Ju={class:"col-md-6 mb-3"},Qu={key:0,class:"mt-2"},Zu=["src"],qu={class:"col-md-6 mb-3"},ec={key:0,class:"mt-2"},tc=["src"],rc={key:0,class:"mb-4"},nc={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},oc={style:{"font-size":"1.05rem"}},ic={key:1,class:"row align-items-center mb-4"},sc={class:"col-md-6 mb-3 mb-md-0"},lc={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},ac={style:{"font-size":"1.05rem"}},dc={class:"col-md-6 d-flex justify-content-center"},uc=["src"],cc={key:2,class:"row align-items-center mb-4"},fc={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},mc=["src"],pc={class:"col-md-6"},vc={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},gc={style:{"font-size":"1.05rem"}},hc={key:3,class:"row align-items-center mb-4"},bc={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},yc=["src"],xc={class:"col-md-6 d-flex justify-content-center"},Sc=["src"],wc={key:1,class:"text-muted"},Ec={class:"mt-4"},Oc={class:"row g-3 align-items-stretch"},kc={class:"col-12"},Cc={class:"col-12"},Ic={class:"col-12"},Pc={class:"col-md-6 col-12"},Tc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Ac={key:0,class:"mt-2 w-100 d-flex justify-content-center"},$c=["src"],Dc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Vc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Uc=["src"],Mc={class:"col-md-6 col-12"},Lc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},jc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Bc=["src"],Fc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Rc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Nc=["src"],Gc={class:"col-12 d-flex gap-2 mt-3"};function zc(r,e,i,d,n,s){return b(),y("div",Tu,[e[44]||(e[44]=o("h6",{class:"fw-bold mb-3"},"Опис товару",-1)),o("ul",Au,[o("li",$u,[o("button",{class:J(["nav-link",{active:n.lang==="uk"}]),onClick:e[0]||(e[0]=t=>s.switchLang("uk")),type:"button"},"Українська",2)]),o("li",Du,[o("button",{class:J(["nav-link",{active:n.lang==="ru"}]),onClick:e[1]||(e[1]=t=>s.switchLang("ru")),type:"button"},"Російська",2)])]),n.blocks[n.lang]&&n.blocks[n.lang].length?(b(),y("div",Vu,[(b(!0),y(q,null,ve(n.blocks[n.lang],(t,l)=>(b(),y("div",{key:t._key,class:"desc-block mb-4 position-relative"},[o("div",Uu,[n.editIdx!==l?(b(),y(q,{key:0},[o("button",{class:"btn btn-outline-secondary btn-sm me-2",onClick:a=>s.editBlock(l)},e[28]||(e[28]=[o("i",{class:"bi bi-pencil"},null,-1),pe(" Редагувати ",-1)]),8,Mu),o("button",{class:"btn btn-outline-danger btn-sm",onClick:a=>s.deleteBlock(l)},e[29]||(e[29]=[o("i",{class:"bi bi-trash"},null,-1)]),8,Lu)],64)):D("",!0)]),n.editIdx===l?(b(),y("form",{key:0,onSubmit:e[13]||(e[13]=oe(a=>s.saveEditBlock(n.editIdx),["prevent"]))},[n.editForm.type==="text"?(b(),y(q,{key:0},[o("div",ju,[e[30]||(e[30]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]])]),o("div",Bu,[e[31]||(e[31]=o("label",{class:"form-label"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[3]||(e[3]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])])],64)):n.editForm.type==="image_right"?(b(),y("div",Fu,[o("div",Ru,[e[32]||(e[32]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]]),e[33]||(e[33]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[5]||(e[5]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])]),o("div",Nu,[e[34]||(e[34]=o("label",{class:"form-label"},"Картинка справа",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=a=>s.onImageChange(a,"image_right"))},null,32),n.editForm.imageUrl?(b(),y("div",Gu,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,zu)])):D("",!0)])])):n.editForm.type==="image_left"?(b(),y("div",_u,[o("div",Ku,[e[35]||(e[35]=o("label",{class:"form-label"},"Картинка зліва",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=a=>s.onImageChange(a,"image_left"))},null,32),n.editForm.imageUrl?(b(),y("div",Hu,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,Wu)])):D("",!0)]),o("div",Xu,[e[36]||(e[36]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]]),e[37]||(e[37]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[9]||(e[9]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])])])):n.editForm.type==="two_images"?(b(),y("div",Yu,[o("div",Ju,[e[38]||(e[38]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[10]||(e[10]=a=>s.onImageChange(a,"two_images",1))},null,32),n.editForm.imageUrl1?(b(),y("div",Qu,[o("img",{src:n.editForm.imageUrl1,style:{width:"100%","max-width":"300px"}},null,8,Zu)])):D("",!0)]),o("div",qu,[e[39]||(e[39]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[11]||(e[11]=a=>s.onImageChange(a,"two_images",2))},null,32),n.editForm.imageUrl2?(b(),y("div",ec,[o("img",{src:n.editForm.imageUrl2,style:{width:"100%","max-width":"300px"}},null,8,tc)])):D("",!0)])])):D("",!0),e[40]||(e[40]=o("button",{class:"btn btn-success me-2",type:"submit"},"Оновити",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=oe((...a)=>s.cancelEdit&&s.cancelEdit(...a),["prevent"]))},"Відміна")],32)):(b(),y(q,{key:1},[t.type==="text"?(b(),y("div",rc,[o("div",nc,P(t.title),1),o("div",oc,P(t.text),1)])):t.type==="image_right"?(b(),y("div",ic,[o("div",sc,[o("div",lc,P(t.title),1),o("div",ac,P(t.text),1)]),o("div",dc,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,uc)])])):t.type==="image_left"?(b(),y("div",cc,[o("div",fc,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,mc)]),o("div",pc,[o("div",vc,P(t.title),1),o("div",gc,P(t.text),1)])])):t.type==="two_images"?(b(),y("div",hc,[o("div",bc,[o("img",{src:t.imageUrl1,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,yc)]),o("div",xc,[o("img",{src:t.imageUrl2,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Sc)])])):D("",!0)],64))]))),128))])):(b(),y("div",wc," Опис для цієї мови ще не доданий. ")),o("div",Ec,[n.addMode?D("",!0):(b(),y("button",{key:0,class:"btn btn-primary",onClick:e[14]||(e[14]=(...t)=>s.startAddBlock&&s.startAddBlock(...t)),type:"button"}," + Додати блок ")),n.addMode?(b(),y("form",{key:1,onSubmit:e[27]||(e[27]=oe((...t)=>s.saveNewBlock&&s.saveNewBlock(...t),["prevent"])),class:"card p-3 mt-2"},[o("div",Oc,[o("div",kc,[e[42]||(e[42]=o("label",{class:"form-label"},"Тип блоку",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>n.newBlock.type=t),required:""},e[41]||(e[41]=[Or('<option value="" disabled data-v-926299d8>Оберіть тип</option><option value="text" data-v-926299d8>Текст</option><option value="image_right" data-v-926299d8>Картинка справа</option><option value="image_left" data-v-926299d8>Картинка зліва</option><option value="two_images" data-v-926299d8>Дві картинки</option>',5)]),512),[[ht,n.newBlock.type]])]),n.newBlock.type==="text"?(b(),y(q,{key:0},[o("div",Cc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[16]||(e[16]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]])]),o("div",Ic,[U(o("textarea",{class:"form-control","onUpdate:modelValue":e[17]||(e[17]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"150px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])])],64)):n.newBlock.type==="image_right"?(b(),y(q,{key:1},[o("div",Pc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[18]||(e[18]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[19]||(e[19]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])]),o("div",Tc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[20]||(e[20]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(b(),y("div",Ac,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,$c)])):D("",!0)])],64)):n.newBlock.type==="image_left"?(b(),y(q,{key:2},[o("div",Dc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[21]||(e[21]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(b(),y("div",Vc,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,Uc)])):D("",!0)]),o("div",Mc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[22]||(e[22]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[23]||(e[23]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])])],64)):n.newBlock.type==="two_images"?(b(),y(q,{key:3},[o("div",Lc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[24]||(e[24]=t=>s.onAddImage(t,1))},null,32),n.newBlock.imageUrl1?(b(),y("div",jc,[o("img",{src:n.newBlock.imageUrl1,style:{"max-width":"130px","border-radius":"10px"}},null,8,Bc)])):D("",!0)]),o("div",Fc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[25]||(e[25]=t=>s.onAddImage(t,2))},null,32),n.newBlock.imageUrl2?(b(),y("div",Rc,[o("img",{src:n.newBlock.imageUrl2,style:{"max-width":"130px","border-radius":"10px"}},null,8,Nc)])):D("",!0)])],64)):D("",!0),o("div",Gc,[e[43]||(e[43]=o("button",{class:"btn btn-success",type:"submit"},"Зберегти",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[26]||(e[26]=oe((...t)=>s.cancelAddBlock&&s.cancelAddBlock(...t),["prevent"]))},"Відміна")])])],32)):D("",!0)])])}const _c=se(Pu,[["render",zc],["__scopeId","data-v-926299d8"]]),Kc={class:"card mb-4 p-4"},Hc={class:"mb-3"},Wc={key:0,class:"invalid-feedback"},Xc={class:"mb-3"},Yc={class:"mb-3"},Jc={key:0,class:"invalid-feedback"},Qc={class:"mb-3"},Zc={class:"mb-3"},qc={key:0,class:"invalid-feedback"},ef={class:"form-check form-switch mb-2"},tf={class:"form-check form-switch"},rf={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],setup(r,{emit:e}){return(i,d)=>{var n,s,t,l,a,u;return b(),y("div",Kc,[o("div",Hc,[d[7]||(d[7]=o("label",{class:"form-label"},"Ціна",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(n=r.errors)==null?void 0:n.price}]),"onUpdate:modelValue":d[0]||(d[0]=m=>r.form.price=m),placeholder:"Ціна"},null,2),[[j,r.form.price]]),(s=r.errors)!=null&&s.price?(b(),y("div",Wc,P(r.errors.price),1)):D("",!0)]),o("div",Xc,[d[8]||(d[8]=o("label",{class:"form-label"},"Стара ціна",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":d[1]||(d[1]=m=>r.form.old_price=m)},null,512),[[j,r.form.old_price]])]),o("div",Yc,[d[9]||(d[9]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=r.errors)==null?void 0:t.sku}]),"onUpdate:modelValue":d[2]||(d[2]=m=>r.form.sku=m)},null,2),[[j,r.form.sku]]),(l=r.errors)!=null&&l.sku?(b(),y("div",Jc,P(r.errors.sku),1)):D("",!0)]),o("div",Qc,[d[10]||(d[10]=o("label",{class:"form-label"},"Штрихкод",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":d[3]||(d[3]=m=>r.form.barcode=m)},null,512),[[j,r.form.barcode]])]),o("div",Zc,[d[11]||(d[11]=o("label",{class:"form-label"},"Кількість",-1)),U(o("input",{type:"number",class:J(["form-control",{"is-invalid":(a=r.errors)==null?void 0:a.quantity_in_stock}]),"onUpdate:modelValue":d[4]||(d[4]=m=>r.form.quantity_in_stock=m)},null,2),[[j,r.form.quantity_in_stock]]),(u=r.errors)!=null&&u.quantity_in_stock?(b(),y("div",qc,P(r.errors.quantity_in_stock),1)):D("",!0)]),o("div",ef,[U(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":d[5]||(d[5]=m=>r.form.status=m)},null,512),[[tr,r.form.status]]),d[12]||(d[12]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))]),o("div",tf,[U(o("input",{class:"form-check-input",type:"checkbox",id:"popularSwitch","onUpdate:modelValue":d[6]||(d[6]=m=>r.form.is_popular=m)},null,512),[[tr,r.form.is_popular]]),d[13]||(d[13]=o("label",{class:"form-check-label",for:"popularSwitch"},"Популярне",-1))])])}}},nf={name:"ProductCategory",components:{Multiselect:Ut},props:{modelValue:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{localSelected:[]}},computed:{hasError(){return!!this.errors.categories},errorText(){return this.errors.categories}},watch:{modelValue:{immediate:!0,handler(r){const e=this.localSelected.map(d=>d.id).sort().join(","),i=[...new Set(r)].sort().join(",");e!==i&&this.syncLocalSelected()}},localSelected:{deep:!0,handler(r){const e=[...new Set(r.map(n=>n.id))],i=this.modelValue.slice().sort().join(","),d=e.slice().sort().join(",");i!==d&&this.$emit("update:modelValue",e)}},categories:{immediate:!0,handler(){this.syncLocalSelected()}}},methods:{syncLocalSelected(){if(Array.isArray(this.categories)&&this.categories.length){const r=[...new Set(this.modelValue)];this.localSelected=this.categories.filter(e=>r.includes(e.id))}else this.localSelected=[]}}},of={class:"card mb-4 p-4"},sf={key:0,class:"invalid-feedback",style:{display:"block"}},lf={key:1,class:"mt-2"};function af(r,e,i,d,n,s){const t=ae("Multiselect");return b(),y("div",of,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Y(t,{modelValue:n.localSelected,"onUpdate:modelValue":e[0]||(e[0]=l=>n.localSelected=l),options:i.categories,multiple:!0,label:"name","track-by":"id",placeholder:"Виберіть категорії",class:J({"is-invalid":s.hasError})},null,8,["modelValue","options","class"]),s.hasError?(b(),y("div",sf,P(s.errorText),1)):D("",!0),n.localSelected.length?(b(),y("div",lf,[(b(!0),y(q,null,ve(n.localSelected,l=>(b(),y("span",{key:l.id,class:"badge bg-primary me-1"},P(l.name),1))),128))])):D("",!0)])}const df=se(nf,[["render",af],["__scopeId","data-v-197f5d44"]]),uf={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(r=>String(r.id)===String(this.internalSelectedId))},ukTableRows(){const r=this.selectedGuide;return!r||!r.sizes||!r.sizes.uk?[]:Array.isArray(r.sizes.uk)?r.sizes.uk:Object.entries(r.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(r){this.internalSelectedId=r},internalSelectedId(r){this.$emit("update:modelValue",r)}},created(){he.get("/admin/size-guides").then(r=>{this.sizeGuides=r.data}).catch(r=>{console.error("Error fetching size guides:",r)})}},cf={class:"card mb-4 p-4"},ff={class:"mb-3"},mf=["value"],pf={key:0,class:"invalid-feedback",style:{display:"block"}},vf={key:0,class:"mt-3"},gf={class:"form-label"},hf={key:0},bf={class:"table table-sm mt-2"},yf={key:1};function xf(r,e,i,d,n,s){var t,l;return b(),y("div",cf,[o("div",ff,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),U(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.internalSelectedId=a),class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(b(!0),y(q,null,ve(n.sizeGuides,a=>(b(),y("option",{value:a.id,key:a.id},P(a.name),9,mf))),128))],2),[[ht,n.internalSelectedId]]),(l=i.errors)!=null&&l.size_guide_id?(b(),y("div",pf,P(i.errors.size_guide_id),1)):D("",!0)]),s.selectedGuide?(b(),y("div",vf,[o("label",gf,"Розмірна сітка: "+P(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(b(),y("div",hf,[o("table",bf,[o("thead",null,[o("tr",null,[(b(!0),y(q,null,ve(s.ukTableColumns,a=>(b(),y("th",{key:a},P(a),1))),128))])]),o("tbody",null,[(b(!0),y(q,null,ve(s.ukTableRows,(a,u)=>(b(),y("tr",{key:u},[(b(!0),y(q,null,ve(s.ukTableColumns,m=>(b(),y("td",{key:m},P(a[m]||"-"),1))),128))]))),128))])])])):(b(),y("div",yf,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):D("",!0)])}const Sf=se(uf,[["render",xf]]),wf={class:"card mb-4 p-4"},Ef={class:"row g-3 align-items-start"},Of={class:"col-md-5"},kf={class:"variant-form shadow-sm rounded-3 p-3 mb-3 bg-light"},Cf={class:"col-md-7"},If={class:"variant-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Pf={class:"w-100"},Tf={class:"row gy-2 gx-3"},Af={class:"col-6 col-lg-4"},$f={class:"value"},Df={class:"col-6 col-lg-4"},Vf={class:"value price"},Uf={class:"col-6 col-lg-4"},Mf={key:0,class:"value old-price"},Lf={key:1,class:"value text-muted"},jf={class:"col-6 col-lg-4"},Bf={class:"value"},Ff={class:"col-6 col-lg-4"},Rf={class:"value"},Nf={class:"variant-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Gf=["onClick"],zf=["onClick"],_f={key:0,class:"text-muted mt-4 ms-2"},Kf={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ot({size:"",color:"",price_override:"",old_price:"",quantity:""}),s=Ae([]);lt(()=>i.modelValue,g=>{Array.isArray(g)&&(s.value=g.map((f,v)=>({...f,_id:f.id||Date.now()+v})))},{deep:!0,immediate:!0});const t=Ae(null);function l(){d("update:modelValue",s.value.map(({_id:g,...f})=>f))}function a(){if(!n.size||!n.price_override||!n.quantity){alert("Заповніть обовʼязкові поля!");return}s.value.push({_id:Date.now()+(Math.random()*1e3|0),size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price?Number(n.old_price):null,quantity:Number(n.quantity)}),l(),p()}function u(g){t.value=g;const f=s.value[g];n.size=f.size,n.color=f.color,n.price_override=f.price_override,n.old_price=f.old_price,n.quantity=f.quantity}function m(){t.value!==null&&(s.value[t.value]={...s.value[t.value],size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price?Number(n.old_price):null,quantity:Number(n.quantity)},l(),t.value=null,p())}function c(g){s.value.splice(g,1),l(),t.value===g&&(t.value=null,p())}function p(){n.size="",n.color="",n.price_override="",n.old_price="",n.quantity=""}return(g,f)=>(b(),y("div",wf,[f[14]||(f[14]=o("h5",{class:"fw-bold mb-3"},"Варіанти товару",-1)),o("div",Ef,[o("div",Of,[o("div",kf,[U(o("input",{"onUpdate:modelValue":f[0]||(f[0]=v=>n.size=v),type:"text",class:"form-control mb-2",placeholder:"Розмір (36-37)"},null,512),[[j,n.size]]),U(o("input",{"onUpdate:modelValue":f[1]||(f[1]=v=>n.color=v),type:"text",class:"form-control mb-2",placeholder:"Колір"},null,512),[[j,n.color]]),U(o("input",{"onUpdate:modelValue":f[2]||(f[2]=v=>n.price_override=v),type:"number",class:"form-control mb-2",placeholder:"Ціна"},null,512),[[j,n.price_override]]),U(o("input",{"onUpdate:modelValue":f[3]||(f[3]=v=>n.old_price=v),type:"number",class:"form-control mb-2",placeholder:"Стара ціна"},null,512),[[j,n.old_price]]),U(o("input",{"onUpdate:modelValue":f[4]||(f[4]=v=>n.quantity=v),type:"number",class:"form-control mb-3",placeholder:"Кількість"},null,512),[[j,n.quantity]]),t.value===null?(b(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:a},f[5]||(f[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати варіант ",-1)]))):(b(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:m},f[6]||(f[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",Cf,[o("div",If,[Y(Wr,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-0"},{default:Ke(()=>[(b(!0),y(q,null,ve(s.value,(v,h)=>(b(),y("div",{key:v._id,class:"variant-card shadow-sm rounded-4 px-3 py-3 bg-white d-flex align-items-center position-relative"},[o("div",Pf,[o("div",Tf,[o("div",Af,[f[7]||(f[7]=o("div",{class:"label"},"Розмір",-1)),o("div",$f,[o("h5",null,P(v.size),1)])]),o("div",Df,[f[8]||(f[8]=o("div",{class:"label"},"Ціна",-1)),o("div",Vf,[o("h5",null,P(v.price_override)+" грн",1)])]),o("div",Uf,[f[9]||(f[9]=o("div",{class:"label"},"Стара ціна",-1)),v.old_price?(b(),y("div",Mf,[o("h5",null,P(v.old_price)+" грн",1)])):(b(),y("div",Lf,"—"))]),o("div",jf,[f[10]||(f[10]=o("div",{class:"label"},"Кількість",-1)),o("div",Bf,[o("h5",null,P(v.quantity)+" шт",1)])]),o("div",Ff,[f[11]||(f[11]=o("div",{class:"label"},"Колір",-1)),o("div",Rf,[o("h5",null,P(v.color),1)])])])]),o("div",Nf,[o("button",{class:"btn-action btn-edit",onClick:w=>u(h)},f[12]||(f[12]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Gf),o("button",{class:"btn-action btn-remove",onClick:w=>c(h)},f[13]||(f[13]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,zf)])]))),128))]),_:1}),s.value.length?D("",!0):(b(),y("div",_f,"Ще не додано жодного варіанта"))])])])]))}},Hf=se(Kf,[["__scopeId","data-v-f061a704"]]),Wf={class:"card mb-4 p-4"},Xf={class:"nav nav-tabs mb-3"},Yf={class:"nav-item"},Jf={class:"nav-item"},Qf={class:"row g-3 align-items-start"},Zf={class:"col-md-5"},qf={class:"attr-form shadow-sm rounded-3 p-3 mb-3 bg-light"},em=["placeholder"],tm=["placeholder"],rm={class:"col-md-7"},nm={class:"attr-list shadow-sm rounded-3 p-3 mb-3 bg-light"},om={class:"attr-card shadow-sm rounded-4 px-3 py-2 bg-white d-flex align-items-center position-relative"},im={class:"w-100 d-flex flex-row flex-wrap align-items-center"},sm={class:"attr-label fw-bold"},lm={class:"attr-value flex-fill"},am={class:"attr-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},dm=["onClick"],um=["onClick"],cm={key:0,class:"text-muted mt-4 ms-2"},fm={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae("uk"),s=Ot({uk:[],ru:[]}),t=Ot({name:"",value:""}),l=Ae(null);let a=0;lt(()=>i.modelValue,v=>{Array.isArray(v)?(s.uk=v.map((h,w)=>({...h,_id:h._id||Date.now()+w})),s.ru=[]):v&&typeof v=="object"&&(s.uk=Array.isArray(v.uk)?v.uk.map((h,w)=>({...h,_id:h._id||Date.now()+w})):[],s.ru=Array.isArray(v.ru)?v.ru.map((h,w)=>({...h,_id:h._id||Date.now()+w})):[]),a=Math.max(...s.uk.map(h=>h._id||0),...s.ru.map(h=>h._id||0),0)},{deep:!0,immediate:!0});function u(){d("update:modelValue",{uk:s.uk.map(({_id:v,...h})=>h),ru:s.ru.map(({_id:v,...h})=>h)})}function m(){if(!t.name||!t.value){alert("Заповніть обидва поля!");return}s[n.value].push({_id:++a,name:t.name,value:t.value}),u(),f()}function c(v){l.value=v;const h=s[n.value][v];t.name=h.name,t.value=h.value}function p(){l.value!==null&&(s[n.value][l.value]={...s[n.value][l.value],name:t.name,value:t.value},u(),l.value=null,f())}function g(v){s[n.value].splice(v,1),u(),l.value===v&&(l.value=null,f())}function f(){t.name="",t.value=""}return(v,h)=>(b(),y("div",Wf,[h[11]||(h[11]=o("h5",{class:"fw-bold mb-3"},"Характеристики товару",-1)),o("ul",Xf,[o("li",Yf,[o("button",{class:J(["nav-link",{active:n.value==="uk"}]),onClick:h[0]||(h[0]=w=>n.value="uk")},"Українська",2)]),o("li",Jf,[o("button",{class:J(["nav-link",{active:n.value==="ru"}]),onClick:h[1]||(h[1]=w=>n.value="ru")},"Російська",2)])]),o("div",Qf,[o("div",Zf,[o("div",qf,[U(o("input",{"onUpdate:modelValue":h[2]||(h[2]=w=>t.name=w),type:"text",class:"form-control mb-2",placeholder:n.value==="uk"?"Характеристика":"Характеристика (рус)"},null,8,em),[[j,t.name]]),U(o("input",{"onUpdate:modelValue":h[3]||(h[3]=w=>t.value=w),type:"text",class:"form-control mb-3",placeholder:n.value==="uk"?"Значення":"Значение"},null,8,tm),[[j,t.value]]),l.value===null?(b(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:m},h[5]||(h[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати характеристику ",-1)]))):(b(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:p},h[6]||(h[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",rm,[o("div",nm,[Y(Dt(Zr),{modelValue:s[n.value],"onUpdate:modelValue":h[4]||(h[4]=w=>s[n.value]=w),"item-key":"_id",handle:".drag-handle",animation:180,class:"d-flex flex-column gap-2 mb-0"},{item:Ke(({element:w,index:S})=>[o("div",om,[h[10]||(h[10]=o("span",{class:"drag-handle me-3",title:"Перетягнути",style:{cursor:"grab"}},[o("svg",{width:"18",height:"18",fill:"#b0b0b0",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",im,[o("div",sm,P(w.name),1),h[7]||(h[7]=o("div",{class:"attr-sep mx-2"},":",-1)),o("div",lm,P(w.value),1)]),o("div",am,[o("button",{class:"btn-action btn-edit",onClick:V=>c(S)},h[8]||(h[8]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,dm),o("button",{class:"btn-action btn-remove",onClick:V=>g(S)},h[9]||(h[9]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,um)])])]),_:1},8,["modelValue"]),s[n.value].length?D("",!0):(b(),y("div",cm,"Ще не додано жодної характеристики"))])])])]))}},mm=se(fm,[["__scopeId","data-v-a7eef0a6"]]),pm={class:"card mb-4 p-4"},vm={class:"color-list d-flex flex-column gap-3"},gm={class:"desc-action-bar"},hm={class:"position-absolute top-0 end-0 m-3 d-flex gap-2"},bm=["onClick"],ym=["onClick"],xm=["onClick"],Sm={key:0,class:"row g-3 align-items-center"},wm={class:"col-12 col-md-6"},Em={class:"col-12"},Om={class:"d-flex align-items-center gap-3"},km=["src"],Cm={class:"fw-bold fs-5"},Im={class:"d-flex align-items-center gap-2"},Pm=["src"],Tm={class:"col-12 col-md-6"},Am=["src"],$m={key:1,class:"d-flex align-items-center"},Dm=["src"],Vm={class:"fw-bold fs-5 lh-sm mb-1"},Um={key:0,class:"fw-semibold"},Mm=["href"],Lm={class:"ms-2 text-muted"},jm={key:1,class:"text-secondary fw-semibold"},Bm={key:0,class:"position-relative bg-light rounded-4 border p-4 mb-3 shadow-sm"},Fm={class:"row g-3 align-items-center"},Rm={class:"col-12 col-md-6"},Nm={class:"col-12"},Gm={class:"d-flex align-items-center gap-3"},zm=["src"],_m={class:"fw-bold fs-5"},Km={class:"d-flex align-items-center gap-2"},Hm=["src"],Wm={class:"col-12 col-md-6"},Xm=["src"],Ym={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productId:{type:[Number,String],required:!0}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,d=e,n=Ae([...i.modelValue]);lt(()=>i.modelValue,x=>{n.value=[...x]});const s=Ae({});function t(x){return x?x.startsWith("http")||x.startsWith("/storage/")||x.startsWith("/")?x:"/storage/"+x.replace(/^\/+/,""):""}function l(x){return x?x.startsWith("http")||x.startsWith("/")?x:"/"+x.replace(/^\/+/,""):""}function a(x){return x?`/uk/product/${x}`:"#"}async function u(){const x=[...new Set(n.value.map(T=>T.linked_product_id).filter(Boolean))];if(!x.length){s.value={};return}try{const{data:T}=await he.post("/api/products/get-linked-info",{ids:x});s.value=T||{}}catch{s.value={}}}er(u),lt(()=>n.value.map(x=>x.linked_product_id).join(","),u);const m=Ae([]);er(async()=>{try{const x=await he.get("/admin/products/list");m.value=Array.isArray(x.data)?x.data:x.data.data??[]}catch{m.value=[]}});function c(x){return x?x.sku?`${x.name} (SKU: ${x.sku})`:x.name:""}function p(x,T){if(!T)return!0;const k=(x.name||"").toLowerCase(),L=(x.sku||"").toLowerCase(),B=T.toLowerCase();return k.includes(B)||L.includes(B)}const g=Ae(null),f=Ae({name:"",linked_product_id:"",icon_path:"",product:null,image:""});function v(x){g.value=x;const T=n.value[x],k=m.value.find(L=>L.id===T.linked_product_id)||null;f.value={name:T.name||"",linked_product_id:T.linked_product_id||"",icon_path:T.icon_path||"",image:T.icon_path||"",product:k}}function h(){g.value="add",f.value={name:"",linked_product_id:"",icon_path:"",image:"",product:null}}function w(x){if(g.value!==null){if(!f.value.name||!f.value.product){alert("Будь ласка, заповніть усі поля перед збереженням кольору.");return}n.value[x]={...n.value[x],name:f.value.name,linked_product_id:f.value.product.id,icon_path:f.value.image||""},d("update:modelValue",[...n.value]),V()}}function S(){if(!f.value.name||!f.value.product){alert("Будь ласка, заповніть усі поля перед додаванням кольору.");return}n.value.push({name:f.value.name,linked_product_id:f.value.product.id,icon_path:f.value.image||"",product_id:i.productId}),d("update:modelValue",[...n.value]),V()}function V(){g.value=null,f.value={name:"",linked_product_id:"",icon_path:"",product:null,image:""}}function A(x){n.value.splice(x,1),d("update:modelValue",[...n.value])}async function E(x){if(!x)return"";if(!i.productId)return alert("ID продукту не знайдено. Збережіть товар перед додаванням фото!"),"";const T=new FormData;T.append("image",x),T.append("product_id",i.productId);try{const k=await he.post("/api/upload-image-color",T,{headers:{"Content-Type":"multipart/form-data"}});return console.log("uploadImage response:",k.data),k.data.url||""}catch(k){return console.error("uploadImage error:",k),alert("Помилка завантаження зображення!"),""}}async function O(x){const T=x.target.files[0];if(!T)return;const k=await E(T);k&&(f.value.image=k)}return(x,T)=>(b(),y("div",pm,[T[8]||(T[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",vm,[(b(!0),y(q,null,ve(n.value,(k,L)=>(b(),y("div",{key:k.id||L,class:"position-relative bg-white rounded-4 border p-4 mb-3 shadow-sm"},[o("div",gm,[o("div",hm,[g.value!==L?(b(),y("button",{key:0,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>v(L)},T[4]||(T[4]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#222","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1),o("span",{class:"d-none d-md-inline"},"Редагувати",-1)]),8,bm)):D("",!0),g.value!==L?(b(),y("button",{key:1,class:"btn btn-outline-danger btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>A(L)},T[5]||(T[5]=[o("i",{class:"bi bi-trash"},null,-1)]),8,ym)):D("",!0),g.value===L?(b(),y("button",{key:2,class:"btn btn-success btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>w(L)},T[6]||(T[6]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#fff","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7"})],-1),o("span",{class:"d-none d-md-inline"},"Зберегти",-1)]),8,xm)):D("",!0),g.value===L?(b(),y("button",{key:3,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:V},T[7]||(T[7]=[o("span",null,"Скасувати",-1)]))):D("",!0)])]),g.value===L?(b(),y("div",Sm,[o("div",wm,[U(o("input",{"onUpdate:modelValue":T[0]||(T[0]=B=>f.value.name=B),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[j,f.value.name]])]),o("div",Em,[Y(Dt(Ut),{modelValue:f.value.product,"onUpdate:modelValue":T[1]||(T[1]=B=>f.value.product=B),options:m.value,searchable:!0,"custom-label":c,filter:p,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Ke(({option:B})=>[o("div",Om,[B.image?(b(),y("img",{key:0,src:t(B.image),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,km)):D("",!0),o("span",Cm,P(c(B)),1)])]),singleLabel:Ke(({option:B})=>[o("div",Im,[B.image?(b(),y("img",{key:0,src:t(B.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,Pm)):D("",!0),o("span",null,P(c(B)),1)])]),_:1},8,["modelValue","options"])]),o("div",Tm,[o("input",{type:"file",class:"form-control mb-3",onChange:O},null,32),f.value.image?(b(),y("img",{key:0,src:t(f.value.image),alt:"",class:"color-img-preview mb-2"},null,8,Am)):D("",!0)])])):(b(),y("div",$m,[k.icon_path?(b(),y("img",{key:0,src:l(k.icon_path),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,Dm)):D("",!0),o("div",null,[o("div",Vm,P(k.name),1),s.value[k.linked_product_id]?(b(),y("div",Um,[o("a",{href:a(s.value[k.linked_product_id].slug),target:"_blank",class:"text-primary fw-bold"},P(s.value[k.linked_product_id].name),9,Mm),o("span",Lm,"SKU: "+P(s.value[k.linked_product_id].sku),1)])):k.linked_product_id?(b(),y("div",jm," ID товару: "+P(k.linked_product_id)+" (товар не знайдено) ",1)):D("",!0)])]))]))),128)),g.value==="add"?(b(),y("div",Bm,[o("div",Fm,[o("div",Rm,[U(o("input",{"onUpdate:modelValue":T[2]||(T[2]=k=>f.value.name=k),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[j,f.value.name]])]),o("div",Nm,[Y(Dt(Ut),{modelValue:f.value.product,"onUpdate:modelValue":T[3]||(T[3]=k=>f.value.product=k),options:m.value,searchable:!0,"custom-label":c,filter:p,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Ke(({option:k})=>[o("div",Gm,[k.image?(b(),y("img",{key:0,src:t(k.image),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,zm)):D("",!0),o("span",_m,P(c(k)),1)])]),singleLabel:Ke(({option:k})=>[o("div",Km,[k.image?(b(),y("img",{key:0,src:t(k.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,Hm)):D("",!0),o("span",null,P(c(k)),1)])]),_:1},8,["modelValue","options"])]),o("div",Wm,[o("input",{type:"file",class:"form-control mb-3",onChange:O},null,32),f.value.image?(b(),y("img",{key:0,src:t(f.value.image),alt:"",class:"color-img-preview mb-2"},null,8,Xm)):D("",!0)]),o("div",{class:"col-12 d-flex gap-2"},[o("button",{type:"button",class:"btn btn-success flex-fill",onClick:S}," Додати "),o("button",{type:"button",class:"btn btn-outline-secondary flex-fill",onClick:V}," Скасувати ")])])])):D("",!0)]),o("div",{class:"mt-3"},[o("button",{class:"btn btn-primary w-100",onClick:h}," + Додати колір ")])]))}},Jm=se(Ym,[["__scopeId","data-v-3a3fee54"]]),Qm={name:"ProductEdit",components:{ProductHeader:qd,ProductTitles:cu,ProductSeo:yu,ProductImages:Iu,ProductDescription:_c,ProductPrice:rf,ProductCategory:df,ProductSizeGuide:Sf,ProductVariants:Hf,ProductAttributes:mm,ProductColors:Jm,GlobalLoadingOverlay:vn},props:{productId:{type:[Number,String],required:!0}},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",status:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},categoryOptions:[],productOptions:[],loading:!0,saving:!1}},async created(){await this.fetchCategories(),await this.fetchProduct(),await this.fetchProductOptions(),this.loading=!1},methods:{updateForm(r){r.categories&&(r.categories=[...new Set(r.categories)]),this.form={...this.form,...r}},async fetchProduct(){try{const{data:r}=await he.get(`/admin/products/${this.productId}/edit`),e=r.product,i=r.attributes||{uk:[],ru:[]},d=e.translations.find(s=>s.locale==="uk")||{},n=e.translations.find(s=>s.locale==="ru")||{};Object.assign(this.form,{id:e.id,name_uk:d.name||"",slug_uk:d.slug||"",meta_title_uk:d.meta_title||"",meta_description_uk:d.meta_description||"",name_ru:n.name||"",slug_ru:n.slug||"",meta_title_ru:n.meta_title||"",meta_description_ru:n.meta_description||"",old_price:e.old_price,price:e.price,sku:e.sku,barcode:e.barcode,quantity_in_stock:e.quantity_in_stock,status:!!e.status,is_popular:!!e.is_popular,categories:e.categories?e.categories.map(s=>s.id):[],size_guide_id:e.size_guide_id,images:e.images||[],variants:e.variants||[],attributes:i,colors:e.colors||[],description:{uk:d.description?JSON.parse(d.description):[],ru:n.description?JSON.parse(n.description):[]}})}catch{alert("Помилка завантаження продукту")}},async fetchCategories(){try{const{data:r}=await he.get("/api/category-select/uk");this.categoryOptions=r}catch{this.categoryOptions=[]}},async fetchProductOptions(){try{const e=(await he.get("/admin/products/list")).data;this.productOptions=Array.isArray(e)?e:e.products||[]}catch{this.productOptions=[]}},async submitForm(){if(this.saving)return;this.errors={},this.form.categories=[...new Set(this.form.categories)];const r=new FormData;r.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(i=>{i.file&&r.append("images[]",i.file)});const e=(this.form.images||[]).map(i=>({position:i.position,is_main:i.is_main,url:i.url||null}));r.append("images_meta",JSON.stringify(e));try{this.saving=!0,await he.post(`/admin/products/${this.productId}?_method=PUT`,r,{headers:{"Content-Type":"multipart/form-data"}}),alert("Товар успішно оновлено!"),window.location.href="/admin/products"}catch(i){i.response&&i.response.status===422?this.errors=Object.fromEntries(Object.entries(i.response.data.errors).map(([d,n])=>[d,n[0]])):alert("Сталася помилка при збереженні!")}finally{this.saving=!1}}}},Zm={class:"p-4"},qm={class:"row"},ep={class:"col-md-8"},tp={class:"col-md-4"};function rp(r,e,i,d,n,s){const t=ae("ProductHeader"),l=ae("ProductTitles"),a=ae("ProductSeo"),u=ae("ProductImages"),m=ae("ProductPrice"),c=ae("ProductCategory"),p=ae("ProductSizeGuide"),g=ae("ProductDescription"),f=ae("ProductVariants"),v=ae("ProductAttributes"),h=ae("ProductColors"),w=ae("GlobalLoadingOverlay");return b(),y(q,null,[o("div",Zm,[Y(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",qm,[o("div",ep,[Y(l,{form:n.form,errors:n.errors},null,8,["form","errors"]),Y(a,{form:n.form,errors:n.errors},null,8,["form","errors"]),Y(u,{modelValue:n.form.images,"onUpdate:modelValue":e[0]||(e[0]=S=>n.form.images=S)},null,8,["modelValue"])]),o("div",tp,[Y(m,{form:n.form,errors:n.errors,"onUpdate:form":s.updateForm},null,8,["form","errors","onUpdate:form"]),Y(c,{modelValue:n.form.categories,"onUpdate:modelValue":e[1]||(e[1]=S=>n.form.categories=S),categories:n.categoryOptions,errors:n.errors},null,8,["modelValue","categories","errors"]),Y(p,{modelValue:n.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=S=>n.form.size_guide_id=S),errors:n.errors},null,8,["modelValue","errors"])])]),Y(g,{modelValue:n.form.description,"onUpdate:modelValue":e[3]||(e[3]=S=>n.form.description=S),"product-id":n.form.id||""},null,8,["modelValue","product-id"]),Y(f,{modelValue:n.form.variants,"onUpdate:modelValue":e[4]||(e[4]=S=>n.form.variants=S),errors:n.errors},null,8,["modelValue","errors"]),Y(v,{modelValue:n.form.attributes,"onUpdate:modelValue":e[5]||(e[5]=S=>n.form.attributes=S),errors:n.errors},null,8,["modelValue","errors"]),Y(h,{modelValue:n.form.colors,"onUpdate:modelValue":e[6]||(e[6]=S=>n.form.colors=S),"product-id":n.form.id||"",errors:n.errors},null,8,["modelValue","product-id","errors"])]),Y(w,{active:n.loading||n.saving,label:n.loading?"Завантажуємо форму…":"Публікуємо товар…",hint:n.saving?"Будь ласка, не закривайте сторінку":""},null,8,["active","label","hint"])],64)}const np=se(Qm,[["render",rp]]),op={name:"CategoryTable",props:{categories:{type:Array,required:!0}},data(){return{menuOpen:null}},methods:{getAllDescendantIds(r){const e=[],i=[r];for(;i.length;){const d=i.pop(),n=this.categories.filter(s=>s.parent_id===d);for(const s of n)e.push(s.id),i.push(s.id)}return e},availableParents(r){const e=[r.id,...this.getAllDescendantIds(r.id)];return this.categories.filter(i=>!e.includes(i.id))},getTranslation(r,e="name",i="uk"){var n;const d=(n=r.translations)==null?void 0:n.find(s=>s.locale===i);return d?d[e]:""},confirmChangeParent(r){r._pendingParent!=r.parent_id&&(confirm("Ви дійсно хочете змінити батьківську категорію?")?this.saveParent(r):r._pendingParent=r.parent_id)},async saveParent(r){r._savingParent=!0;try{await he.post(`/api/categories/${r.id}/update-parent`,{parent_id:r._pendingParent}),r.parent_id=r._pendingParent,r._savingParent=!1,this.$emit("reload")}catch{r._pendingParent=r.parent_id,r._savingParent=!1,alert("Помилка при зміні батьківської категорії")}},async toggleStatus(r){if(r._savingStatus)return;const e=r.status;r.status=e==1||e===!0?0:1,r._savingStatus=!0;try{await he.post(`/api/categories/${r.id}/toggle-status`,{status:r.status}),r._savingStatus=!1,this.$emit("reload")}catch{r.status=e,r._savingStatus=!1,alert("Помилка збереження статусу")}},statusLabel(r){return r==1||r===!0?"Опубліковано":r==0||r===!1?"Неактивний":""},statusClass(r){return r==1||r===!0?"status-publish":r==0||r===!1?"status-inactive":""},openMenu(r){this.menuOpen===r?this.closeMenu():(this.menuOpen=r,document.addEventListener("click",this.handleOutsideClick))},closeMenu(){this.menuOpen=null,document.removeEventListener("click",this.handleOutsideClick)},handleOutsideClick(r){!r.target.closest(".dropdown-menu")&&!r.target.closest(".dots-menu")&&this.closeMenu()},async deleteCategory(r){if(this.closeMenu(),!!confirm("Підтвердіть видалення категорії. Операція незворотна і не може бути скасована."))try{await he.delete(`/admin/categories/${r.id}`),alert("Категорія успішно видалена"),this.$emit("reload")}catch{alert("Помилка при видаленні категорії")}},download(r){this.closeMenu(),alert(`Download category #${r.id}`)},duplicate(r){this.closeMenu(),this.$emit("duplicate",r)},initPendingParentFields(){this.categories.forEach(r=>{typeof r._pendingParent>"u"&&(r._pendingParent=r.parent_id),r._savingParent=!1,r._savingStatus=!1})}},mounted(){this.initPendingParentFields()},watch:{categories:{handler(){this.initPendingParentFields()},deep:!0,immediate:!0}}},ip={class:"filters mb-4 card",style:{"border-radius":"5px"}},sp={class:"table align-middle category-table-modern"},lp={class:"d-flex align-items-center cat-modern-cell"},ap={class:"product-name"},dp={class:"text-muted"},up=["onUpdate:modelValue","onChange","disabled"],cp=["value"],fp={key:0,class:"spinner-border spinner-border-sm ms-1"},mp={class:"d-flex align-items-center gap-2"},pp=["onClick"],vp={key:0,class:"spinner-border spinner-border-sm ms-1"},gp={class:"actions-cell"},hp=["href"],bp=["onClick"],yp=["onClick"],xp=["onClick"],Sp=["onClick"];function wp(r,e,i,d,n,s){return b(),y("div",ip,[o("table",sp,[e[7]||(e[7]=o("thead",null,[o("tr",null,[o("th",null,"Category"),o("th",null,"Description"),o("th",null,"Parent"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(b(!0),y(q,null,ve(i.categories,t=>(b(),y("tr",{key:t.id},[o("td",null,[o("div",lp,[o("div",null,[o("div",ap,P(s.getTranslation(t,"name","uk")),1)])])]),o("td",null,[o("span",dp,P(s.getTranslation(t,"meta_title","uk")),1)]),o("td",null,[U(o("select",{"onUpdate:modelValue":l=>t._pendingParent=l,onChange:l=>s.confirmChangeParent(t),class:"form-select",style:{"min-width":"140px"},disabled:t._savingParent},[e[1]||(e[1]=o("option",{value:null},"— Коренева категорія —",-1)),(b(!0),y(q,null,ve(s.availableParents(t),l=>(b(),y("option",{key:l.id,value:l.id},P(s.getTranslation(l,"name","uk")),9,cp))),128))],40,up),[[ht,t._pendingParent]]),t._savingParent?(b(),y("span",fp)):D("",!0)]),o("td",null,[o("div",mp,[o("div",{class:J(["toggle-switch",{active:t.status==1||t.status===!0}]),onClick:l=>s.toggleStatus(t),style:{cursor:"pointer"},title:"Змінити статус"},null,10,pp),o("span",{class:J(["status-badge",s.statusClass(t.status)])},P(s.statusLabel(t.status)),3),t._savingStatus?(b(),y("span",vp)):D("",!0)])]),o("td",gp,[o("a",{href:`/admin/categories/${t.id}/edit`,class:"edit-btn text-dark",title:"Редагувати"},e[2]||(e[2]=[o("i",{class:"bi bi-pencil-square"},null,-1)]),8,hp),o("button",{class:"dots-menu",onClick:l=>s.openMenu(t.id),type:"button",title:"Ще дії"},e[3]||(e[3]=[o("i",{class:"bi bi-three-dots-vertical"},null,-1)]),8,bp),n.menuOpen===t.id?(b(),y("div",{key:0,class:"dropdown-menu show",onMouseleave:e[0]||(e[0]=(...l)=>s.closeMenu&&s.closeMenu(...l))},[o("a",{class:"dropdown-item",onClick:oe(l=>s.download(t),["prevent"])},e[4]||(e[4]=[o("i",{class:"bi bi-download me-2"},null,-1),pe(" Download ",-1)]),8,yp),o("a",{class:"dropdown-item text-danger",onClick:oe(l=>s.deleteCategory(t),["prevent"])},e[5]||(e[5]=[o("i",{class:"bi bi-trash me-2"},null,-1),pe(" Delete ",-1)]),8,xp),o("a",{class:"dropdown-item",onClick:oe(l=>s.duplicate(t),["prevent"])},e[6]||(e[6]=[o("i",{class:"bi bi-files me-2"},null,-1),pe(" Duplicate ",-1)]),8,Sp)],32)):D("",!0)])]))),128))])])])}const Ep=se(op,[["render",wp],["__scopeId","data-v-6ca6fac6"]]),Op={components:{CategoryTable:Ep},data(){return{categories:[]}},methods:{async loadCategories(){const r=await he.get("/api/categories/list-admin");this.categories=r.data}},mounted(){this.loadCategories()}};function kp(r,e,i,d,n,s){const t=ae("CategoryTable");return b(),y("div",null,[e[0]||(e[0]=Or('<div class="d-flex justify-content-between align-items-center mb-3" data-v-2a25ee4e><h4 class="mb-0 fw-bold" data-v-2a25ee4e>Категорії</h4><a href="/admin/categories/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.15);transition:background 0.3s;" data-v-2a25ee4e><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-folder-plus me-2" viewBox="0 0 16 16" data-v-2a25ee4e><path d="M9.828 4a.5.5 0 0 0-.354.146l-.646.647-2-2A1 1 0 0 0 5.586 2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H9.828zM2 3h3.586a1 1 0 0 1 .707.293l2 2H14a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm7 7a.5.5 0 0 1 .5-.5h1v-1a.5.5 0 0 1 1 0v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1-.5-.5z" data-v-2a25ee4e></path></svg> Додати категорію </a></div>',1)),Y(t,{categories:n.categories,onReload:s.loadCategories},null,8,["categories","onReload"])])}const Cp=se(Op,[["render",kp],["__scopeId","data-v-2a25ee4e"]]),Ip={name:"CategoryHeader",props:{title:{type:String,default:"Додати/Редагувати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},Pp={class:"d-flex justify-content-between align-items-center mb-4"},Tp={class:"fw-bold mb-0"},Ap={class:"top-actions"};function $p(r,e,i,d,n,s){return b(),y("div",Pp,[o("div",null,[o("h5",Tp,P(i.title),1)]),o("div",Ap,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>r.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>r.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>r.$emit("submit"))},P(i.publishLabel),1)])])}const Dp=se(Ip,[["render",$p],["__scopeId","data-v-449badfd"]]),Vp={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Up={class:"card mb-4 p-3"},Mp={class:"mb-3"},Lp={key:0,class:"invalid-feedback"},jp={class:"mb-3"},Bp={key:0,class:"invalid-feedback"},Fp={class:"mb-3"},Rp={key:0,class:"invalid-feedback"},Np={class:"mb-3"},Gp={key:0,class:"invalid-feedback"};function zp(r,e,i,d,n,s){var t,l,a,u,m,c,p,g;return b(),y("div",Up,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",Mp,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=f=>i.form.name_uk=f),onInput:e[1]||(e[1]=f=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[j,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(b(),y("div",Lp,P(i.errors.name_uk),1)):D("",!0)]),o("div",jp,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=f=>i.form.slug_uk=f),onInput:e[3]||(e[3]=f=>s.clearError("slug_uk")),autocomplete:"off"},null,34),[[j,i.form.slug_uk]]),(u=i.errors)!=null&&u.slug_uk?(b(),y("div",Bp,P(i.errors.slug_uk),1)):D("",!0)]),o("div",Fp,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=f=>i.form.name_ru=f),onInput:e[5]||(e[5]=f=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[j,i.form.name_ru]]),(c=i.errors)!=null&&c.name_ru?(b(),y("div",Rp,P(i.errors.name_ru),1)):D("",!0)]),o("div",Np,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=f=>i.form.slug_ru=f),onInput:e[7]||(e[7]=f=>s.clearError("slug_ru")),autocomplete:"off"},null,34),[[j,i.form.slug_ru]]),(g=i.errors)!=null&&g.slug_ru?(b(),y("div",Gp,P(i.errors.slug_ru),1)):D("",!0)])])}const _p=se(Vp,[["render",zp]]),Kp={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Hp={class:"card mb-4 p-3"},Wp={class:"mb-3"},Xp={key:0,class:"invalid-feedback"},Yp={class:"mb-3"},Jp={key:0,class:"invalid-feedback"},Qp={class:"mb-3"},Zp={key:0,class:"invalid-feedback"},qp={class:"mb-3"},ev={key:0,class:"invalid-feedback"};function tv(r,e,i,d,n,s){var t,l,a,u,m,c,p,g;return b(),y("div",Hp,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",Wp,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=f=>i.form.meta_title_uk=f),onInput:e[1]||(e[1]=f=>s.clearError("meta_title_uk"))},null,34),[[j,i.form.meta_title_uk]]),(l=i.errors)!=null&&l.meta_title_uk?(b(),y("div",Xp,P(i.errors.meta_title_uk),1)):D("",!0)]),o("div",Yp,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),U(o("textarea",{class:J(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=f=>i.form.meta_description_uk=f),onInput:e[3]||(e[3]=f=>s.clearError("meta_description_uk"))},null,34),[[j,i.form.meta_description_uk]]),(u=i.errors)!=null&&u.meta_description_uk?(b(),y("div",Jp,P(i.errors.meta_description_uk),1)):D("",!0)]),o("div",Qp,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=f=>i.form.meta_title_ru=f),onInput:e[5]||(e[5]=f=>s.clearError("meta_title_ru"))},null,34),[[j,i.form.meta_title_ru]]),(c=i.errors)!=null&&c.meta_title_ru?(b(),y("div",Zp,P(i.errors.meta_title_ru),1)):D("",!0)]),o("div",qp,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),U(o("textarea",{class:J(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=f=>i.form.meta_description_ru=f),onInput:e[7]||(e[7]=f=>s.clearError("meta_description_ru"))},null,34),[[j,i.form.meta_description_ru]]),(g=i.errors)!=null&&g.meta_description_ru?(b(),y("div",ev,P(i.errors.meta_description_ru),1)):D("",!0)])])}const rv=se(Kp,[["render",tv]]),nv={name:"CategoryDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},categoryId:{type:[String,Number],required:!0}},data(){return{lang:"uk",blocks:{uk:[],ru:[]},editIdx:null,editForm:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""},addMode:!1,newBlock:{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},uploading:!1}},watch:{modelValue:{immediate:!0,deep:!0,handler(r){this.blocks={uk:Array.isArray(r.uk)?JSON.parse(JSON.stringify(r.uk)):[],ru:Array.isArray(r.ru)?JSON.parse(JSON.stringify(r.ru)):[]}}}},methods:{switchLang(r){this.lang=r,this.cancelEdit(),this.cancelAddBlock()},editBlock(r){this.editIdx=r,this.editForm={...this.blocks[this.lang][r]}},cancelEdit(){this.editIdx=null,this.editForm={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""}},async saveEditBlock(r){this.editIdx!==null&&(this.blocks[this.lang][this.editIdx]={...this.editForm,_key:this.blocks[this.lang][this.editIdx]._key,type:this.blocks[this.lang][this.editIdx].type},this.cancelEdit(),this.$emit("update:modelValue",this.blocks))},deleteBlock(r){this.blocks[this.lang].splice(r,1),this.$emit("update:modelValue",this.blocks),this.editIdx===r&&this.cancelEdit()},async uploadImage(r){const e=new FormData;e.append("image",r),e.append("category_id",this.categoryId),this.uploading=!0;try{const i=await he.post("/api/upload-image-category",e,{headers:{"Content-Type":"multipart/form-data"}});return this.uploading=!1,i.data.url}catch{return this.uploading=!1,alert("Помилка завантаження зображення!"),""}},async onImageChange(r,e,i=null){const d=r.target.files[0];if(!d)return;const n=await this.uploadImage(d);n&&(e==="image_right"||e==="image_left"?this.editForm.imageUrl=n:e==="two_images"&&i===1?this.editForm.imageUrl1=n:e==="two_images"&&i===2&&(this.editForm.imageUrl2=n))},startAddBlock(){this.addMode=!0,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},cancelAddBlock(){this.addMode=!1,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},async saveNewBlock(){if(!this.newBlock.type)return;const r=Date.now()+Math.floor(Math.random()*1e3),e={...this.newBlock,_key:r};this.blocks[this.lang].push(e),this.addMode=!1,this.$emit("update:modelValue",this.blocks),this.cancelAddBlock()},async onAddImage(r,e){const i=r.target.files[0];if(!i)return;const d=await this.uploadImage(i);d&&(e==="single"?this.newBlock.imageUrl=d:e===1?this.newBlock.imageUrl1=d:e===2&&(this.newBlock.imageUrl2=d))}}},ov={class:"card mb-4 p-4"},iv={class:"nav nav-tabs mb-3"},sv={class:"nav-item"},lv={class:"nav-item"},av={key:0},dv={class:"desc-action-bar"},uv=["onClick"],cv=["onClick"],fv={class:"mb-3"},mv={class:"mb-3"},pv={key:1,class:"row"},vv={class:"col-md-6 mb-3"},gv={class:"col-md-6 mb-3"},hv={key:0,class:"mt-2"},bv=["src"],yv={key:2,class:"row"},xv={class:"col-md-6 mb-3"},Sv={key:0,class:"mt-2"},wv=["src"],Ev={class:"col-md-6 mb-3"},Ov={key:3,class:"row"},kv={class:"col-md-6 mb-3"},Cv={key:0,class:"mt-2"},Iv=["src"],Pv={class:"col-md-6 mb-3"},Tv={key:0,class:"mt-2"},Av=["src"],$v={key:0,class:"mb-4"},Dv={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Vv={style:{"font-size":"1.05rem"}},Uv={key:1,class:"row align-items-center mb-4"},Mv={class:"col-md-6 mb-3 mb-md-0"},Lv={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},jv={style:{"font-size":"1.05rem"}},Bv={class:"col-md-6 d-flex justify-content-center"},Fv=["src"],Rv={key:2,class:"row align-items-center mb-4"},Nv={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Gv=["src"],zv={class:"col-md-6"},_v={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Kv={style:{"font-size":"1.05rem"}},Hv={key:3,class:"row align-items-center mb-4"},Wv={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Xv=["src"],Yv={class:"col-md-6 d-flex justify-content-center"},Jv=["src"],Qv={key:1,class:"text-muted"},Zv={class:"mt-4"},qv={class:"row g-3 align-items-stretch"},eg={class:"col-12"},tg={class:"col-12"},rg={class:"col-12"},ng={class:"col-md-6 col-12"},og={class:"col-md-6 col-12 d-flex flex-column align-items-center"},ig={key:0,class:"mt-2 w-100 d-flex justify-content-center"},sg=["src"],lg={class:"col-md-6 col-12 d-flex flex-column align-items-center"},ag={key:0,class:"mt-2 w-100 d-flex justify-content-center"},dg=["src"],ug={class:"col-md-6 col-12"},cg={class:"col-md-6 col-12 d-flex flex-column align-items-center"},fg={key:0,class:"mt-2 w-100 d-flex justify-content-center"},mg=["src"],pg={class:"col-md-6 col-12 d-flex flex-column align-items-center"},vg={key:0,class:"mt-2 w-100 d-flex justify-content-center"},gg=["src"],hg={class:"col-12 d-flex gap-2 mt-3"};function bg(r,e,i,d,n,s){return b(),y("div",ov,[e[44]||(e[44]=o("h6",{class:"fw-bold mb-3"},"Опис категорії",-1)),o("ul",iv,[o("li",sv,[o("button",{class:J(["nav-link",{active:n.lang==="uk"}]),onClick:e[0]||(e[0]=t=>s.switchLang("uk")),type:"button"},"Українська",2)]),o("li",lv,[o("button",{class:J(["nav-link",{active:n.lang==="ru"}]),onClick:e[1]||(e[1]=t=>s.switchLang("ru")),type:"button"},"Російська",2)])]),n.blocks[n.lang]&&n.blocks[n.lang].length?(b(),y("div",av,[(b(!0),y(q,null,ve(n.blocks[n.lang],(t,l)=>(b(),y("div",{key:t._key,class:"desc-block mb-4 position-relative"},[o("div",dv,[n.editIdx!==l?(b(),y(q,{key:0},[o("button",{class:"btn btn-outline-secondary btn-sm me-2",onClick:a=>s.editBlock(l)},e[28]||(e[28]=[o("i",{class:"bi bi-pencil"},null,-1),pe(" Редагувати ",-1)]),8,uv),o("button",{class:"btn btn-outline-danger btn-sm",onClick:a=>s.deleteBlock(l)},e[29]||(e[29]=[o("i",{class:"bi bi-trash"},null,-1)]),8,cv)],64)):D("",!0)]),n.editIdx===l?(b(),y("form",{key:0,onSubmit:e[13]||(e[13]=oe(a=>s.saveEditBlock(n.editIdx),["prevent"]))},[n.editForm.type==="text"?(b(),y(q,{key:0},[o("div",fv,[e[30]||(e[30]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]])]),o("div",mv,[e[31]||(e[31]=o("label",{class:"form-label"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[3]||(e[3]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])])],64)):n.editForm.type==="image_right"?(b(),y("div",pv,[o("div",vv,[e[32]||(e[32]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]]),e[33]||(e[33]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[5]||(e[5]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])]),o("div",gv,[e[34]||(e[34]=o("label",{class:"form-label"},"Картинка справа",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=a=>s.onImageChange(a,"image_right"))},null,32),n.editForm.imageUrl?(b(),y("div",hv,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,bv)])):D("",!0)])])):n.editForm.type==="image_left"?(b(),y("div",yv,[o("div",xv,[e[35]||(e[35]=o("label",{class:"form-label"},"Картинка зліва",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=a=>s.onImageChange(a,"image_left"))},null,32),n.editForm.imageUrl?(b(),y("div",Sv,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,wv)])):D("",!0)]),o("div",Ev,[e[36]||(e[36]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>n.editForm.title=a)},null,512),[[j,n.editForm.title]]),e[37]||(e[37]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[9]||(e[9]=a=>n.editForm.text=a)},null,512),[[j,n.editForm.text]])])])):n.editForm.type==="two_images"?(b(),y("div",Ov,[o("div",kv,[e[38]||(e[38]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[10]||(e[10]=a=>s.onImageChange(a,"two_images",1))},null,32),n.editForm.imageUrl1?(b(),y("div",Cv,[o("img",{src:n.editForm.imageUrl1,style:{width:"100%","max-width":"300px"}},null,8,Iv)])):D("",!0)]),o("div",Pv,[e[39]||(e[39]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[11]||(e[11]=a=>s.onImageChange(a,"two_images",2))},null,32),n.editForm.imageUrl2?(b(),y("div",Tv,[o("img",{src:n.editForm.imageUrl2,style:{width:"100%","max-width":"300px"}},null,8,Av)])):D("",!0)])])):D("",!0),e[40]||(e[40]=o("button",{class:"btn btn-success me-2",type:"submit"},"Оновити",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=oe((...a)=>s.cancelEdit&&s.cancelEdit(...a),["prevent"]))},"Відміна")],32)):(b(),y(q,{key:1},[t.type==="text"?(b(),y("div",$v,[o("div",Dv,P(t.title),1),o("div",Vv,P(t.text),1)])):t.type==="image_right"?(b(),y("div",Uv,[o("div",Mv,[o("div",Lv,P(t.title),1),o("div",jv,P(t.text),1)]),o("div",Bv,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Fv)])])):t.type==="image_left"?(b(),y("div",Rv,[o("div",Nv,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Gv)]),o("div",zv,[o("div",_v,P(t.title),1),o("div",Kv,P(t.text),1)])])):t.type==="two_images"?(b(),y("div",Hv,[o("div",Wv,[o("img",{src:t.imageUrl1,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Xv)]),o("div",Yv,[o("img",{src:t.imageUrl2,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Jv)])])):D("",!0)],64))]))),128))])):(b(),y("div",Qv," Опис для цієї мови ще не доданий. ")),o("div",Zv,[n.addMode?D("",!0):(b(),y("button",{key:0,class:"btn btn-primary",onClick:e[14]||(e[14]=(...t)=>s.startAddBlock&&s.startAddBlock(...t)),type:"button"}," + Додати блок ")),n.addMode?(b(),y("form",{key:1,onSubmit:e[27]||(e[27]=oe((...t)=>s.saveNewBlock&&s.saveNewBlock(...t),["prevent"])),class:"card p-3 mt-2"},[o("div",qv,[o("div",eg,[e[42]||(e[42]=o("label",{class:"form-label"},"Тип блоку",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>n.newBlock.type=t),required:""},e[41]||(e[41]=[Or('<option value="" disabled data-v-288100ff>Оберіть тип</option><option value="text" data-v-288100ff>Текст</option><option value="image_right" data-v-288100ff>Картинка справа</option><option value="image_left" data-v-288100ff>Картинка зліва</option><option value="two_images" data-v-288100ff>Дві картинки</option>',5)]),512),[[ht,n.newBlock.type]])]),n.newBlock.type==="text"?(b(),y(q,{key:0},[o("div",tg,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[16]||(e[16]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]])]),o("div",rg,[U(o("textarea",{class:"form-control","onUpdate:modelValue":e[17]||(e[17]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"150px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])])],64)):n.newBlock.type==="image_right"?(b(),y(q,{key:1},[o("div",ng,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[18]||(e[18]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[19]||(e[19]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])]),o("div",og,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[20]||(e[20]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(b(),y("div",ig,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,sg)])):D("",!0)])],64)):n.newBlock.type==="image_left"?(b(),y(q,{key:2},[o("div",lg,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[21]||(e[21]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(b(),y("div",ag,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,dg)])):D("",!0)]),o("div",ug,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[22]||(e[22]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[j,n.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[23]||(e[23]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[j,n.newBlock.text]])])],64)):n.newBlock.type==="two_images"?(b(),y(q,{key:3},[o("div",cg,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[24]||(e[24]=t=>s.onAddImage(t,1))},null,32),n.newBlock.imageUrl1?(b(),y("div",fg,[o("img",{src:n.newBlock.imageUrl1,style:{"max-width":"130px","border-radius":"10px"}},null,8,mg)])):D("",!0)]),o("div",pg,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[25]||(e[25]=t=>s.onAddImage(t,2))},null,32),n.newBlock.imageUrl2?(b(),y("div",vg,[o("img",{src:n.newBlock.imageUrl2,style:{"max-width":"130px","border-radius":"10px"}},null,8,gg)])):D("",!0)])],64)):D("",!0),o("div",hg,[e[43]||(e[43]=o("button",{class:"btn btn-success",type:"submit"},"Зберегти",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[26]||(e[26]=oe((...t)=>s.cancelAddBlock&&s.cancelAddBlock(...t),["prevent"]))},"Відміна")])])],32)):D("",!0)])])}const yg=se(nv,[["render",bg],["__scopeId","data-v-288100ff"]]),xg={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0},currentId:{type:[Number,String],default:null}},computed:{parent_id:{get(){return this.form.parent_id??null},set(r){this.$emit("update:form",{...this.form,parent_id:r})}},status:{get(){return typeof this.form.status<"u"?this.form.status:1},set(r){this.$emit("update:form",{...this.form,status:r})}}},methods:{getCategoryName(r){var e;if((e=r.translations)!=null&&e.length){const i=r.translations.find(d=>d.locale==="uk");return(i==null?void 0:i.name)||r.slug||`#${r.id}`}return r.name||r.slug||`#${r.id}`}}},Sg={class:"card mb-4 p-4"},wg={class:"mb-3"},Eg=["value"];function Og(r,e,i,d,n,s){return b(),y("div",Sg,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",wg,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>s.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(b(!0),y(q,null,ve(i.categories.filter(t=>!i.currentId||t.id!==i.currentId),t=>(b(),y("option",{key:t.id,value:t.id},P(s.getCategoryName(t)),9,Eg))),128))],512),[[ht,s.parent_id]])]),o("div",null,[e[5]||(e[5]=o("label",{class:"form-label"},"Статус",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>s.status=t)},e[4]||(e[4]=[o("option",{value:1},"Опубліковано",-1),o("option",{value:0},"Неактивний",-1)]),512),[[ht,s.status]])])])}const kg=se(xg,[["render",Og]]),Cg={name:"CategoryEdit",components:{CategoryHeader:Dp,CategoryTitles:_p,CategorySEO:rv,CategoryDescription:yg,CategoryParent:kg},props:{category:{type:Object,default:null},categories:{type:Array,default:()=>[]}},data(){var i,d,n,s,t,l;const r=((d=(i=this.category)==null?void 0:i.translations)==null?void 0:d.find(a=>a.locale==="uk"))||{},e=((s=(n=this.category)==null?void 0:n.translations)==null?void 0:s.find(a=>a.locale==="ru"))||{};return{form:{name_uk:r.name||"",slug_uk:r.slug||"",meta_title_uk:r.meta_title||"",meta_description_uk:r.meta_description||"",name_ru:e.name||"",slug_ru:e.slug||"",meta_title_ru:e.meta_title||"",meta_description_ru:e.meta_description||"",parent_id:((t=this.category)==null?void 0:t.parent_id)||null,status:typeof((l=this.category)==null?void 0:l.status)<"u"?Number(this.category.status):1,description:{uk:r.description?JSON.parse(r.description):[],ru:e.description?JSON.parse(e.description):[]}},errors:{}}},computed:{isEdit(){return!!this.category},headerTitle(){return this.isEdit?"Редагувати категорію":"Додати категорію"}},methods:{clearError(r){this.errors[r]=null},async saveCategory(){try{await he.put(`/admin/categories/${this.category.id}`,this.form),alert("Категорію успішно оновлено!"),this.errors={}}catch(r){console.error("Помилка збереження категорії:",r),r.response&&r.response.data.errors?this.errors=r.response.data.errors:alert("Невідома помилка при збереженні!")}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function Ig(r,e,i,d,n,s){var c,p;const t=ae("CategoryHeader"),l=ae("CategoryTitles"),a=ae("CategorySEO"),u=ae("CategoryParent"),m=ae("CategoryDescription");return b(),y("div",null,[Y(t,{title:s.headerTitle,"publish-label":s.isEdit?"Оновити категорію":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["title","publish-label","onSubmit","onCancel","onDraft"]),Y(l,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Y(a,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Y(u,{form:n.form,categories:i.categories,"current-id":((c=i.category)==null?void 0:c.id)||null,"onUpdate:form":e[0]||(e[0]=g=>{n.form.parent_id=g.parent_id,n.form.status=g.status})},null,8,["form","categories","current-id"]),Y(m,{modelValue:n.form.description,"onUpdate:modelValue":e[1]||(e[1]=g=>n.form.description=g),"category-id":((p=i.category)==null?void 0:p.id)||null},null,8,["modelValue","category-id"])])}const Pg=se(Cg,[["render",Ig]]),Tg={name:"CategoryHeader",props:{title:{type:String,default:"Додати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},Ag={class:"d-flex justify-content-between align-items-center mb-4"},$g={class:"fw-bold mb-0"},Dg={class:"top-actions"};function Vg(r,e,i,d,n,s){return b(),y("div",Ag,[o("div",null,[o("h5",$g,P(i.title),1)]),o("div",Dg,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>r.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>r.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>r.$emit("submit"))},P(i.publishLabel),1)])])}const Ug=se(Tg,[["render",Vg],["__scopeId","data-v-34db45cf"]]),Mg={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Lg={class:"card mb-4 p-3"},jg={class:"mb-3"},Bg={key:0,class:"invalid-feedback"},Fg={class:"mb-3"},Rg={key:0,class:"invalid-feedback"};function Ng(r,e,i,d,n,s){var t,l,a,u;return b(),y("div",Lg,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",jg,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),"onUpdate:modelValue":e[0]||(e[0]=m=>i.form.name_uk=m),onInput:e[1]||(e[1]=m=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[j,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(b(),y("div",Bg,P(i.errors.name_uk),1)):D("",!0)]),o("div",Fg,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.name_ru}]),"onUpdate:modelValue":e[2]||(e[2]=m=>i.form.name_ru=m),onInput:e[3]||(e[3]=m=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[j,i.form.name_ru]]),(u=i.errors)!=null&&u.name_ru?(b(),y("div",Rg,P(i.errors.name_ru),1)):D("",!0)])])}const Gg=se(Mg,[["render",Ng]]),zg={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},_g={class:"card mb-4 p-3"},Kg={class:"mb-3"},Hg={key:0,class:"invalid-feedback"},Wg={class:"mb-3"},Xg={key:0,class:"invalid-feedback"},Yg={class:"mb-3"},Jg={key:0,class:"invalid-feedback"},Qg={class:"mb-3"},Zg={key:0,class:"invalid-feedback"};function qg(r,e,i,d,n,s){var t,l,a,u,m,c,p,g;return b(),y("div",_g,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",Kg,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=f=>i.form.meta_title_uk=f),onInput:e[1]||(e[1]=f=>s.clearError("meta_title_uk"))},null,34),[[j,i.form.meta_title_uk]]),(l=i.errors)!=null&&l.meta_title_uk?(b(),y("div",Hg,P(i.errors.meta_title_uk),1)):D("",!0)]),o("div",Wg,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),U(o("textarea",{class:J(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=f=>i.form.meta_description_uk=f),onInput:e[3]||(e[3]=f=>s.clearError("meta_description_uk"))},null,34),[[j,i.form.meta_description_uk]]),(u=i.errors)!=null&&u.meta_description_uk?(b(),y("div",Xg,P(i.errors.meta_description_uk),1)):D("",!0)]),o("div",Yg,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),U(o("input",{type:"text",class:J(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=f=>i.form.meta_title_ru=f),onInput:e[5]||(e[5]=f=>s.clearError("meta_title_ru"))},null,34),[[j,i.form.meta_title_ru]]),(c=i.errors)!=null&&c.meta_title_ru?(b(),y("div",Jg,P(i.errors.meta_title_ru),1)):D("",!0)]),o("div",Qg,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),U(o("textarea",{class:J(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=f=>i.form.meta_description_ru=f),onInput:e[7]||(e[7]=f=>s.clearError("meta_description_ru"))},null,34),[[j,i.form.meta_description_ru]]),(g=i.errors)!=null&&g.meta_description_ru?(b(),y("div",Zg,P(i.errors.meta_description_ru),1)):D("",!0)])])}const eh=se(zg,[["render",qg]]),th={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0}},methods:{getCategoryName(r){var e;if((e=r.translations)!=null&&e.length){const i=r.translations.find(d=>d.locale==="uk");return(i==null?void 0:i.name)||r.slug||`#${r.id}`}return r.name||r.slug||`#${r.id}`}}},rh={class:"card mb-4 p-4"},nh={class:"mb-3"},oh=["value"],ih={class:"d-flex align-items-center gap-3 mt-3"},sh={class:"status-switch"},lh={class:"switch mb-0"};function ah(r,e,i,d,n,s){return b(),y("div",rh,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",nh,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(b(!0),y(q,null,ve(i.categories,t=>(b(),y("option",{key:t.id,value:t.id},P(s.getCategoryName(t)),9,oh))),128))],512),[[ht,i.form.parent_id]])]),o("div",ih,[e[5]||(e[5]=o("label",{class:"form-label mb-0"},"Статус",-1)),o("div",sh,[o("label",lh,[U(o("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.status=t),"true-value":1,"false-value":0},null,512),[[tr,i.form.status]]),e[4]||(e[4]=o("span",{class:"slider"},null,-1))]),o("span",{class:J(["status-label",{published:i.form.status==1,unpublished:i.form.status==0}])},P(i.form.status==1?"Опубліковано":"Неактивний"),3)])])])}const dh=se(th,[["render",ah],["__scopeId","data-v-a67f50b8"]]),uh={name:"CategoryAdd",components:{CategoryHeader:Ug,CategoryTitles:Gg,CategorySEO:eh,CategoryParent:dh},props:{categories:{type:Array,default:()=>[]}},data(){return{form:{name_uk:"",slug_uk:"",meta_title_uk:"",meta_description_uk:"",name_ru:"",slug_ru:"",meta_title_ru:"",meta_description_ru:"",parent_id:null,status:1,description:{uk:[],ru:[]}},errors:{},loading:!1}},methods:{clearError(r){this.errors[r]=null},async saveCategory(){var r,e,i,d;if(!((r=this.form.name_uk)!=null&&r.trim())||!((e=this.form.name_ru)!=null&&e.trim())){alert("Заповніть всі обов’язкові поля (назва укр/рос)");return}console.log("Дані форми перед відправкою:",this.form),this.loading=!0;try{const n=await he.post("/admin/categories",this.form);alert("Категорію успішно створено!"),this.errors={}}catch(n){(d=(i=n.response)==null?void 0:i.data)!=null&&d.errors?this.errors=n.response.data.errors:alert("Невідома помилка при збереженні!")}finally{this.loading=!1}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function ch(r,e,i,d,n,s){const t=ae("CategoryHeader"),l=ae("CategoryTitles"),a=ae("CategorySEO"),u=ae("CategoryParent");return b(),y("div",null,[Y(t,{title:"Додати категорію","publish-label":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["onSubmit","onCancel","onDraft"]),Y(l,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Y(a,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Y(u,{form:n.form,categories:i.categories,"onUpdate:form":e[0]||(e[0]=m=>{n.form.parent_id=m.parent_id,n.form.status=m.status})},null,8,["form","categories"])])}const fh=se(uh,[["render",ch]]);he.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.getElementById("app")){const r=Mt({});r.component("product-form",cd),r.mount("#app")}if(document.getElementById("product-index-app")){const r=Mt({});r.component("product-index",Xd),r.mount("#product-index-app")}if(document.getElementById("product-edit-app")){const r=Mt({});r.component("product-edit",np),r.mount("#product-edit-app")}if(document.getElementById("category-index-app")){const r=Mt({});r.component("category-index",Cp),r.mount("#category-index-app")}if(document.getElementById("category-edit-app")){const r=Mt({});r.component("category-edit",Pg),r.mount("#category-edit-app")}if(document.getElementById("category-add-app")){const r=Mt({});r.component("category-add",fh),r.mount("#category-add-app")}
