import{_ as se,R as mn,y as g,v as Q,M as Be,x as h,H as V,z as o,E as I,N as _r,S as pn,K as R,L as B,C as W,r as he,w as st,p as er,F as ee,I as ve,D as ae,B as ie,U as Xr,V as yr,W as ze,X as ir,A as He,G as fr,P as be,Y as ce,Z as yt,a as et,d as Ze,$ as Pn,J as Ct,a0 as kr,Q as Lt}from"./index-DrHwqw0t.js";/* empty css              */const Tn=["aria-label"],An={class:"glo-box",role:"status","aria-live":"polite"},Dn={class:"mt-3 fw-semibold"},Un={key:0,class:"text-white-50 small mt-1"},Vn={__name:"GlobalLoadingOverlay",props:{active:Boolean,label:{type:String,default:"Завантаження…"},hint:{type:String,default:""}},setup(r){return(e,i)=>(g(),mn(pn,{to:"body"},[Q(_r,{name:"glo-fade"},{default:Be(()=>[r.active?(g(),h("div",{key:0,class:"glo-mask",role:"dialog","aria-modal":"true","aria-label":r.label},[o("div",An,[i[0]||(i[0]=o("div",{class:"spinner-border text-light","aria-hidden":"true"},null,-1)),o("div",Dn,I(r.label),1),r.hint?(g(),h("div",Un,I(r.hint),1)):V("",!0)])],8,Tn)):V("",!0)]),_:1})]))}},vn=se(Vn,[["__scopeId","data-v-70395404"]]),Ln={name:"ProductHeader"},Mn={class:"d-flex justify-content-between align-items-center mb-4"},jn={class:"top-actions"};function Nn(r,e,i,u,n,s){return g(),h("div",Mn,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",jn,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>r.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const Rn=se(Ln,[["render",Nn],["__scopeId","data-v-e2ab9659"]]),Fn={name:"ProductTitles",props:{form:Object,errors:{type:Object,default:()=>({})}},methods:{clearError(r){this.form[r]&&(this.$emit("update:errors",{...this.errors,[r]:null}),this.errors[r]=null)}}},Bn={class:"card mb-4 p-3"},_n={class:"mb-3"},zn={key:0,class:"invalid-feedback"},Gn={class:"mb-3"},Hn={key:0,class:"invalid-feedback"};function Kn(r,e,i,u,n,s){return g(),h("div",Bn,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",_n,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":i.errors.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.name_uk=t),onInput:e[1]||(e[1]=t=>s.clearError("name_uk"))},null,34),[[B,i.form.name_uk]]),i.errors.name_uk?(g(),h("div",zn,I(i.errors.name_uk),1)):V("",!0)]),o("div",Gn,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":i.errors.name_ru}]),name:"name_ru","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.name_ru=t),onInput:e[3]||(e[3]=t=>s.clearError("name_ru"))},null,34),[[B,i.form.name_ru]]),i.errors.name_ru?(g(),h("div",Hn,I(i.errors.name_ru),1)):V("",!0)])])}const Wn=se(Fn,[["render",Kn]]),Xn={name:"ProductSeo",props:{form:{type:Object,required:!0}}},Yn={class:"card mb-4 p-3"},Jn={class:"mb-3"},Qn={class:"mb-3"},Zn={class:"mb-3"},qn={class:"mb-3"};function eo(r,e,i,u,n,s){return g(),h("div",Yn,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",Jn,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[B,i.form.meta_title_uk]])]),o("div",Qn,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),R(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[B,i.form.meta_description_uk]])]),o("div",Zn,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[B,i.form.meta_title_ru]])]),o("div",qn,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),R(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[B,i.form.meta_description_ru]])])])}const to=se(Xn,[["render",eo]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qr(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);e&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),i.push.apply(i,u)}return i}function dt(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(i),!0).forEach(function(u){ro(r,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):qr(Object(i)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(i,u))})}return r}function mr(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mr=function(e){return typeof e}:mr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(r)}function ro(r,e,i){return e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function tt(){return tt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])}return r},tt.apply(this,arguments)}function no(r,e){if(r==null)return{};var i={},u=Object.keys(r),n,s;for(s=0;s<u.length;s++)n=u[s],!(e.indexOf(n)>=0)&&(i[n]=r[n]);return i}function oo(r,e){if(r==null)return{};var i=no(r,e),u,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)u=s[n],!(e.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(r,u)&&(i[u]=r[u])}return i}function io(r){return so(r)||lo(r)||ao(r)||uo()}function so(r){if(Array.isArray(r))return zr(r)}function lo(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ao(r,e){if(r){if(typeof r=="string")return zr(r,e);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zr(r,e)}}function zr(r,e){(e==null||e>r.length)&&(e=r.length);for(var i=0,u=new Array(e);i<e;i++)u[i]=r[i];return u}function uo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var co="1.14.0";function ct(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var ft=ct(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tr=ct(/Edge/i),en=ct(/firefox/i),Yt=ct(/safari/i)&&!ct(/chrome/i)&&!ct(/android/i),gn=ct(/iP(ad|od|hone)/i),fo=ct(/chrome/i)&&ct(/android/i),hn={capture:!1,passive:!1};function ue(r,e,i){r.addEventListener(e,i,!ft&&hn)}function le(r,e,i){r.removeEventListener(e,i,!ft&&hn)}function xr(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function mo(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function it(r,e,i,u){if(r){i=i||document;do{if(e!=null&&(e[0]===">"?r.parentNode===i&&xr(r,e):xr(r,e))||u&&r===i)return r;if(r===i)break}while(r=mo(r))}return null}var tn=/\s+/g;function Oe(r,e,i){if(r&&e)if(r.classList)r.classList[i?"add":"remove"](e);else{var u=(" "+r.className+" ").replace(tn," ").replace(" "+e+" "," ");r.className=(u+(i?" "+e:"")).replace(tn," ")}}function H(r,e,i){var u=r&&r.style;if(u){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(i=r.currentStyle),e===void 0?i:i[e];!(e in u)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),u[e]=i+(typeof i=="string"?"":"px")}}function kt(r,e){var i="";if(typeof r=="string")i=r;else do{var u=H(r,"transform");u&&u!=="none"&&(i=u+" "+i)}while(!e&&(r=r.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function bn(r,e,i){if(r){var u=r.getElementsByTagName(e),n=0,s=u.length;if(i)for(;n<s;n++)i(u[n],n);return u}return[]}function ut(){var r=document.scrollingElement;return r||document.documentElement}function we(r,e,i,u,n){if(!(!r.getBoundingClientRect&&r!==window)){var s,t,l,a,d,f,c;if(r!==window&&r.parentNode&&r!==ut()?(s=r.getBoundingClientRect(),t=s.top,l=s.left,a=s.bottom,d=s.right,f=s.height,c=s.width):(t=0,l=0,a=window.innerHeight,d=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||i)&&r!==window&&(n=n||r.parentNode,!ft))do if(n&&n.getBoundingClientRect&&(H(n,"transform")!=="none"||i&&H(n,"position")!=="static")){var m=n.getBoundingClientRect();t-=m.top+parseInt(H(n,"border-top-width")),l-=m.left+parseInt(H(n,"border-left-width")),a=t+s.height,d=l+s.width;break}while(n=n.parentNode);if(u&&r!==window){var p=kt(n||r),v=p&&p.a,b=p&&p.d;p&&(t/=b,l/=v,c/=v,f/=b,a=t+f,d=l+c)}return{top:t,left:l,bottom:a,right:d,width:c,height:f}}}function rn(r,e,i){for(var u=bt(r,!0),n=we(r)[e];u;){var s=we(u)[i],t=void 0;if(t=n>=s,!t)return u;if(u===ut())break;u=bt(u,!1)}return!1}function Ut(r,e,i,u){for(var n=0,s=0,t=r.children;s<t.length;){if(t[s].style.display!=="none"&&t[s]!==Y.ghost&&(u||t[s]!==Y.dragged)&&it(t[s],i.draggable,r,!1)){if(n===e)return t[s];n++}s++}return null}function Yr(r,e){for(var i=r.lastElementChild;i&&(i===Y.ghost||H(i,"display")==="none"||e&&!xr(i,e));)i=i.previousElementSibling;return i||null}function Pe(r,e){var i=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==Y.clone&&(!e||xr(r,e))&&i++;return i}function nn(r){var e=0,i=0,u=ut();if(r)do{var n=kt(r),s=n.a,t=n.d;e+=r.scrollLeft*s,i+=r.scrollTop*t}while(r!==u&&(r=r.parentNode));return[e,i]}function po(r,e){for(var i in r)if(r.hasOwnProperty(i)){for(var u in e)if(e.hasOwnProperty(u)&&e[u]===r[i][u])return Number(i)}return-1}function bt(r,e){if(!r||!r.getBoundingClientRect)return ut();var i=r,u=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=H(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return ut();if(u||e)return i;u=!0}}while(i=i.parentNode);return ut()}function vo(r,e){if(r&&e)for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r}function Tr(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Jt;function yn(r,e){return function(){if(!Jt){var i=arguments,u=this;i.length===1?r.call(u,i[0]):r.apply(u,i),Jt=setTimeout(function(){Jt=void 0},e)}}}function go(){clearTimeout(Jt),Jt=void 0}function xn(r,e,i){r.scrollLeft+=e,r.scrollTop+=i}function Jr(r){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):i?i(r).clone(!0)[0]:r.cloneNode(!0)}function on(r,e){H(r,"position","absolute"),H(r,"top",e.top),H(r,"left",e.left),H(r,"width",e.width),H(r,"height",e.height)}function Ar(r){H(r,"position",""),H(r,"top",""),H(r,"left",""),H(r,"width",""),H(r,"height","")}var Fe="Sortable"+new Date().getTime();function ho(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var u=[].slice.call(this.el.children);u.forEach(function(n){if(!(H(n,"display")==="none"||n===Y.ghost)){r.push({target:n,rect:we(n)});var s=dt({},r[r.length-1].rect);if(n.thisAnimationDuration){var t=kt(n,!0);t&&(s.top-=t.f,s.left-=t.e)}n.fromRect=s}})}},addAnimationState:function(u){r.push(u)},removeAnimationState:function(u){r.splice(po(r,{target:u}),1)},animateAll:function(u){var n=this;if(!this.options.animation){clearTimeout(e),typeof u=="function"&&u();return}var s=!1,t=0;r.forEach(function(l){var a=0,d=l.target,f=d.fromRect,c=we(d),m=d.prevFromRect,p=d.prevToRect,v=l.rect,b=kt(d,!0);b&&(c.top-=b.f,c.left-=b.e),d.toRect=c,d.thisAnimationDuration&&Tr(m,c)&&!Tr(f,c)&&(v.top-c.top)/(v.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(a=yo(v,m,p,n.options)),Tr(c,f)||(d.prevFromRect=f,d.prevToRect=c,a||(a=n.options.animation),n.animate(d,v,c,a)),a&&(s=!0,t=Math.max(t,a),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},a),d.thisAnimationDuration=a)}),clearTimeout(e),s?e=setTimeout(function(){typeof u=="function"&&u()},t):typeof u=="function"&&u(),r=[]},animate:function(u,n,s,t){if(t){H(u,"transition",""),H(u,"transform","");var l=kt(this.el),a=l&&l.a,d=l&&l.d,f=(n.left-s.left)/(a||1),c=(n.top-s.top)/(d||1);u.animatingX=!!f,u.animatingY=!!c,H(u,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=bo(u),H(u,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),H(u,"transform","translate3d(0,0,0)"),typeof u.animated=="number"&&clearTimeout(u.animated),u.animated=setTimeout(function(){H(u,"transition",""),H(u,"transform",""),u.animated=!1,u.animatingX=!1,u.animatingY=!1},t)}}}}function bo(r){return r.offsetWidth}function yo(r,e,i,u){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*u.animation}var It=[],Dr={initializeByDefault:!0},rr={mount:function(e){for(var i in Dr)Dr.hasOwnProperty(i)&&!(i in e)&&(e[i]=Dr[i]);It.forEach(function(u){if(u.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),It.push(e)},pluginEvent:function(e,i,u){var n=this;this.eventCanceled=!1,u.cancel=function(){n.eventCanceled=!0};var s=e+"Global";It.forEach(function(t){i[t.pluginName]&&(i[t.pluginName][s]&&i[t.pluginName][s](dt({sortable:i},u)),i.options[t.pluginName]&&i[t.pluginName][e]&&i[t.pluginName][e](dt({sortable:i},u)))})},initializePlugins:function(e,i,u,n){It.forEach(function(l){var a=l.pluginName;if(!(!e.options[a]&&!l.initializeByDefault)){var d=new l(e,i,e.options);d.sortable=e,d.options=e.options,e[a]=d,tt(u,d.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var t=this.modifyOption(e,s,e.options[s]);typeof t<"u"&&(e.options[s]=t)}},getEventProperties:function(e,i){var u={};return It.forEach(function(n){typeof n.eventProperties=="function"&&tt(u,n.eventProperties.call(i[n.pluginName],e))}),u},modifyOption:function(e,i,u){var n;return It.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[i]=="function"&&(n=s.optionListeners[i].call(e[s.pluginName],u))}),n}};function Ht(r){var e=r.sortable,i=r.rootEl,u=r.name,n=r.targetEl,s=r.cloneEl,t=r.toEl,l=r.fromEl,a=r.oldIndex,d=r.newIndex,f=r.oldDraggableIndex,c=r.newDraggableIndex,m=r.originalEvent,p=r.putSortable,v=r.extraEventProperties;if(e=e||i&&i[Fe],!!e){var b,E=e.options,C="on"+u.charAt(0).toUpperCase()+u.substr(1);window.CustomEvent&&!ft&&!tr?b=new CustomEvent(u,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(u,!0,!0)),b.to=t||i,b.from=l||i,b.item=n||i,b.clone=s,b.oldIndex=a,b.newIndex=d,b.oldDraggableIndex=f,b.newDraggableIndex=c,b.originalEvent=m,b.pullMode=p?p.lastPutMode:void 0;var O=dt(dt({},v),rr.getEventProperties(u,e));for(var M in O)b[M]=O[M];i&&i.dispatchEvent(b),E[C]&&E[C].call(e,b)}}var xo=["evt"],We=function(e,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=u.evt,s=oo(u,xo);rr.pluginEvent.bind(Y)(e,i,dt({dragEl:_,parentEl:$e,ghostEl:ne,rootEl:Se,nextEl:Ot,lastDownEl:pr,cloneEl:Ie,cloneHidden:ht,dragStarted:Kt,putSortable:Ne,activeSortable:Y.active,originalEvent:n,oldIndex:Dt,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:gt,hideGhostForTarget:On,unhideGhostForTarget:kn,cloneNowHidden:function(){ht=!0},cloneNowShown:function(){ht=!1},dispatchSortableEvent:function(l){Ge({sortable:i,name:l,originalEvent:n})}},s))};function Ge(r){Ht(dt({putSortable:Ne,cloneEl:Ie,targetEl:_,rootEl:Se,oldIndex:Dt,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:gt},r))}var _,$e,ne,Se,Ot,pr,Ie,ht,Dt,Qe,Qt,gt,sr,Ne,At=!1,Sr=!1,wr=[],wt,nt,Ur,Vr,sn,ln,Kt,Pt,Zt,qt=!1,lr=!1,vr,Re,Lr=[],Gr=!1,Er=[],Cr=typeof document<"u",ar=gn,an=tr||ft?"cssFloat":"float",So=Cr&&!fo&&!gn&&"draggable"in document.createElement("div"),Sn=function(){if(Cr){if(ft)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),wn=function(e,i){var u=H(e),n=parseInt(u.width)-parseInt(u.paddingLeft)-parseInt(u.paddingRight)-parseInt(u.borderLeftWidth)-parseInt(u.borderRightWidth),s=Ut(e,0,i),t=Ut(e,1,i),l=s&&H(s),a=t&&H(t),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+we(s).width,f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+we(t).width;if(u.display==="flex")return u.flexDirection==="column"||u.flexDirection==="column-reverse"?"vertical":"horizontal";if(u.display==="grid")return u.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return t&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=n&&u[an]==="none"||t&&u[an]==="none"&&d+f>n)?"vertical":"horizontal"},wo=function(e,i,u){var n=u?e.left:e.top,s=u?e.right:e.bottom,t=u?e.width:e.height,l=u?i.left:i.top,a=u?i.right:i.bottom,d=u?i.width:i.height;return n===l||s===a||n+t/2===l+d/2},Eo=function(e,i){var u;return wr.some(function(n){var s=n[Fe].options.emptyInsertThreshold;if(!(!s||Yr(n))){var t=we(n),l=e>=t.left-s&&e<=t.right+s,a=i>=t.top-s&&i<=t.bottom+s;if(l&&a)return u=n}}),u},En=function(e){function i(s,t){return function(l,a,d,f){var c=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(s==null&&(t||c))return!0;if(s==null||s===!1)return!1;if(t&&s==="clone")return s;if(typeof s=="function")return i(s(l,a,d,f),t)(l,a,d,f);var m=(t?l:a).options.group.name;return s===!0||typeof s=="string"&&s===m||s.join&&s.indexOf(m)>-1}}var u={},n=e.group;(!n||mr(n)!="object")&&(n={name:n}),u.name=n.name,u.checkPull=i(n.pull,!0),u.checkPut=i(n.put),u.revertClone=n.revertClone,e.group=u},On=function(){!Sn&&ne&&H(ne,"display","none")},kn=function(){!Sn&&ne&&H(ne,"display","")};Cr&&document.addEventListener("click",function(r){if(Sr)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),Sr=!1,!1},!0);var Et=function(e){if(_){e=e.touches?e.touches[0]:e;var i=Eo(e.clientX,e.clientY);if(i){var u={};for(var n in e)e.hasOwnProperty(n)&&(u[n]=e[n]);u.target=u.rootEl=i,u.preventDefault=void 0,u.stopPropagation=void 0,i[Fe]._onDragOver(u)}}},Oo=function(e){_&&_.parentNode[Fe]._isOutsideThisEl(e.target)};function Y(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=tt({},e),r[Fe]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return wn(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,l){t.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Y.supportPointer!==!1&&"PointerEvent"in window&&!Yt,emptyInsertThreshold:5};rr.initializePlugins(this,r,i);for(var u in i)!(u in e)&&(e[u]=i[u]);En(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:So,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ue(r,"pointerdown",this._onTapStart):(ue(r,"mousedown",this._onTapStart),ue(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(ue(r,"dragover",this),ue(r,"dragenter",this)),wr.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),tt(this,ho())}Y.prototype={constructor:Y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Pt=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,_):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,u=this.el,n=this.options,s=n.preventOnFilter,t=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,f=n.filter;if(Do(u),!_&&!(/mousedown|pointerdown/.test(t)&&e.button!==0||n.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Yt&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=it(a,n.draggable,u,!1),!(a&&a.animated)&&pr!==a)){if(Dt=Pe(a),Qt=Pe(a,n.draggable),typeof f=="function"){if(f.call(this,e,a,this)){Ge({sortable:i,rootEl:d,name:"filter",targetEl:a,toEl:u,fromEl:u}),We("filter",i,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=it(d,c.trim(),u,!1),c)return Ge({sortable:i,rootEl:c,name:"filter",targetEl:a,fromEl:u,toEl:u}),We("filter",i,{evt:e}),!0}),f)){s&&e.cancelable&&e.preventDefault();return}n.handle&&!it(d,n.handle,u,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,i,u){var n=this,s=n.el,t=n.options,l=s.ownerDocument,a;if(u&&!_&&u.parentNode===s){var d=we(u);if(Se=s,_=u,$e=_.parentNode,Ot=_.nextSibling,pr=u,sr=t.group,Y.dragged=_,wt={target:_,clientX:(i||e).clientX,clientY:(i||e).clientY},sn=wt.clientX-d.left,ln=wt.clientY-d.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,_.style["will-change"]="all",a=function(){if(We("delayEnded",n,{evt:e}),Y.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!en&&n.nativeDraggable&&(_.draggable=!0),n._triggerDragStart(e,i),Ge({sortable:n,name:"choose",originalEvent:e}),Oe(_,t.chosenClass,!0)},t.ignore.split(",").forEach(function(f){bn(_,f.trim(),Mr)}),ue(l,"dragover",Et),ue(l,"mousemove",Et),ue(l,"touchmove",Et),ue(l,"mouseup",n._onDrop),ue(l,"touchend",n._onDrop),ue(l,"touchcancel",n._onDrop),en&&this.nativeDraggable&&(this.options.touchStartThreshold=4,_.draggable=!0),We("delayStart",this,{evt:e}),t.delay&&(!t.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(tr||ft))){if(Y.eventCanceled){this._onDrop();return}ue(l,"mouseup",n._disableDelayedDrag),ue(l,"touchend",n._disableDelayedDrag),ue(l,"touchcancel",n._disableDelayedDrag),ue(l,"mousemove",n._delayedDragTouchMoveHandler),ue(l,"touchmove",n._delayedDragTouchMoveHandler),t.supportPointer&&ue(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(a,t.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){_&&Mr(_),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._disableDelayedDrag),le(e,"touchend",this._disableDelayedDrag),le(e,"touchcancel",this._disableDelayedDrag),le(e,"mousemove",this._delayedDragTouchMoveHandler),le(e,"touchmove",this._delayedDragTouchMoveHandler),le(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?ue(document,"pointermove",this._onTouchMove):i?ue(document,"touchmove",this._onTouchMove):ue(document,"mousemove",this._onTouchMove):(ue(_,"dragend",this),ue(Se,"dragstart",this._onDragStart));try{document.selection?gr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(At=!1,Se&&_){We("dragStarted",this,{evt:i}),this.nativeDraggable&&ue(document,"dragover",Oo);var u=this.options;!e&&Oe(_,u.dragClass,!1),Oe(_,u.ghostClass,!0),Y.active=this,e&&this._appendGhost(),Ge({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(nt){this._lastX=nt.clientX,this._lastY=nt.clientY,On();for(var e=document.elementFromPoint(nt.clientX,nt.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(nt.clientX,nt.clientY),e!==i);)i=e;if(_.parentNode[Fe]._isOutsideThisEl(e),i)do{if(i[Fe]){var u=void 0;if(u=i[Fe]._onDragOver({clientX:nt.clientX,clientY:nt.clientY,target:e,rootEl:i}),u&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);kn()}},_onTouchMove:function(e){if(wt){var i=this.options,u=i.fallbackTolerance,n=i.fallbackOffset,s=e.touches?e.touches[0]:e,t=ne&&kt(ne,!0),l=ne&&t&&t.a,a=ne&&t&&t.d,d=ar&&Re&&nn(Re),f=(s.clientX-wt.clientX+n.x)/(l||1)+(d?d[0]-Lr[0]:0)/(l||1),c=(s.clientY-wt.clientY+n.y)/(a||1)+(d?d[1]-Lr[1]:0)/(a||1);if(!Y.active&&!At){if(u&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<u)return;this._onDragStart(e,!0)}if(ne){t?(t.e+=f-(Ur||0),t.f+=c-(Vr||0)):t={a:1,b:0,c:0,d:1,e:f,f:c};var m="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");H(ne,"webkitTransform",m),H(ne,"mozTransform",m),H(ne,"msTransform",m),H(ne,"transform",m),Ur=f,Vr=c,nt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:Se,i=we(_,!0,ar,!0,e),u=this.options;if(ar){for(Re=e;H(Re,"position")==="static"&&H(Re,"transform")==="none"&&Re!==document;)Re=Re.parentNode;Re!==document.body&&Re!==document.documentElement?(Re===document&&(Re=ut()),i.top+=Re.scrollTop,i.left+=Re.scrollLeft):Re=ut(),Lr=nn(Re)}ne=_.cloneNode(!0),Oe(ne,u.ghostClass,!1),Oe(ne,u.fallbackClass,!0),Oe(ne,u.dragClass,!0),H(ne,"transition",""),H(ne,"transform",""),H(ne,"box-sizing","border-box"),H(ne,"margin",0),H(ne,"top",i.top),H(ne,"left",i.left),H(ne,"width",i.width),H(ne,"height",i.height),H(ne,"opacity","0.8"),H(ne,"position",ar?"absolute":"fixed"),H(ne,"zIndex","100000"),H(ne,"pointerEvents","none"),Y.ghost=ne,e.appendChild(ne),H(ne,"transform-origin",sn/parseInt(ne.style.width)*100+"% "+ln/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,i){var u=this,n=e.dataTransfer,s=u.options;if(We("dragStart",this,{evt:e}),Y.eventCanceled){this._onDrop();return}We("setupClone",this),Y.eventCanceled||(Ie=Jr(_),Ie.draggable=!1,Ie.style["will-change"]="",this._hideClone(),Oe(Ie,this.options.chosenClass,!1),Y.clone=Ie),u.cloneId=gr(function(){We("clone",u),!Y.eventCanceled&&(u.options.removeCloneOnHide||Se.insertBefore(Ie,_),u._hideClone(),Ge({sortable:u,name:"clone"}))}),!i&&Oe(_,s.dragClass,!0),i?(Sr=!0,u._loopId=setInterval(u._emulateDragOver,50)):(le(document,"mouseup",u._onDrop),le(document,"touchend",u._onDrop),le(document,"touchcancel",u._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(u,n,_)),ue(document,"drop",u),H(_,"transform","translateZ(0)")),At=!0,u._dragStartId=gr(u._dragStarted.bind(u,i,e)),ue(document,"selectstart",u),Kt=!0,Yt&&H(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,u=e.target,n,s,t,l=this.options,a=l.group,d=Y.active,f=sr===a,c=l.sort,m=Ne||d,p,v=this,b=!1;if(Gr)return;function E(me,ye){We(me,v,dt({evt:e,isOwner:f,axis:p?"vertical":"horizontal",revert:t,dragRect:n,targetRect:s,canSort:c,fromSortable:m,target:u,completed:O,onMove:function(ke,Ce){return ur(Se,i,_,n,ke,we(ke),e,Ce)},changed:M},ye))}function C(){E("dragOverAnimationCapture"),v.captureAnimationState(),v!==m&&m.captureAnimationState()}function O(me){return E("dragOverCompleted",{insertion:me}),me&&(f?d._hideClone():d._showClone(v),v!==m&&(Oe(_,Ne?Ne.options.ghostClass:d.options.ghostClass,!1),Oe(_,l.ghostClass,!0)),Ne!==v&&v!==Y.active?Ne=v:v===Y.active&&Ne&&(Ne=null),m===v&&(v._ignoreWhileAnimating=u),v.animateAll(function(){E("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(u===_&&!_.animated||u===i&&!u.animated)&&(Pt=null),!l.dragoverBubble&&!e.rootEl&&u!==document&&(_.parentNode[Fe]._isOutsideThisEl(e.target),!me&&Et(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function M(){Qe=Pe(_),gt=Pe(_,l.draggable),Ge({sortable:v,name:"change",toEl:i,newIndex:Qe,newDraggableIndex:gt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),u=it(u,l.draggable,i,!0),E("dragOver"),Y.eventCanceled)return b;if(_.contains(e.target)||u.animated&&u.animatingX&&u.animatingY||v._ignoreWhileAnimating===u)return O(!1);if(Sr=!1,d&&!l.disabled&&(f?c||(t=$e!==Se):Ne===this||(this.lastPutMode=sr.checkPull(this,d,_,e))&&a.checkPut(this,d,_,e))){if(p=this._getDirection(e,u)==="vertical",n=we(_),E("dragOverValid"),Y.eventCanceled)return b;if(t)return $e=Se,C(),this._hideClone(),E("revert"),Y.eventCanceled||(Ot?Se.insertBefore(_,Ot):Se.appendChild(_)),O(!0);var P=Yr(i,l.draggable);if(!P||Io(e,p,this)&&!P.animated){if(P===_)return O(!1);if(P&&i===e.target&&(u=P),u&&(s=we(u)),ur(Se,i,_,n,u,s,e,!!u)!==!1)return C(),i.appendChild(_),$e=i,M(),O(!0)}else if(P&&$o(e,p,this)){var y=Ut(i,0,l,!0);if(y===_)return O(!1);if(u=y,s=we(u),ur(Se,i,_,n,u,s,e,!1)!==!1)return C(),i.insertBefore(_,y),$e=i,M(),O(!0)}else if(u.parentNode===i){s=we(u);var x=0,w,U=_.parentNode!==i,$=!wo(_.animated&&_.toRect||n,u.animated&&u.toRect||s,p),S=p?"top":"left",k=rn(u,"top","top")||rn(_,"top","top"),D=k?k.scrollTop:void 0;Pt!==u&&(w=s[S],qt=!1,lr=!$&&l.invertSwap||U),x=Po(e,u,s,p,$?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,lr,Pt===u);var j;if(x!==0){var N=Pe(_);do N-=x,j=$e.children[N];while(j&&(H(j,"display")==="none"||j===ne))}if(x===0||j===u)return O(!1);Pt=u,Zt=x;var te=u.nextElementSibling,z=!1;z=x===1;var X=ur(Se,i,_,n,u,s,e,z);if(X!==!1)return(X===1||X===-1)&&(z=X===1),Gr=!0,setTimeout(Co,30),C(),z&&!te?i.appendChild(_):u.parentNode.insertBefore(_,z?te:u),k&&xn(k,0,D-k.scrollTop),$e=_.parentNode,w!==void 0&&!lr&&(vr=Math.abs(w-we(u)[S])),M(),O(!0)}if(i.contains(_))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){le(document,"mousemove",this._onTouchMove),le(document,"touchmove",this._onTouchMove),le(document,"pointermove",this._onTouchMove),le(document,"dragover",Et),le(document,"mousemove",Et),le(document,"touchmove",Et)},_offUpEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._onDrop),le(e,"touchend",this._onDrop),le(e,"pointerup",this._onDrop),le(e,"touchcancel",this._onDrop),le(document,"selectstart",this)},_onDrop:function(e){var i=this.el,u=this.options;if(Qe=Pe(_),gt=Pe(_,u.draggable),We("drop",this,{evt:e}),$e=_&&_.parentNode,Qe=Pe(_),gt=Pe(_,u.draggable),Y.eventCanceled){this._nulling();return}At=!1,lr=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Hr(this.cloneId),Hr(this._dragStartId),this.nativeDraggable&&(le(document,"drop",this),le(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Yt&&H(document.body,"user-select",""),H(_,"transform",""),e&&(Kt&&(e.cancelable&&e.preventDefault(),!u.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(Se===$e||Ne&&Ne.lastPutMode!=="clone")&&Ie&&Ie.parentNode&&Ie.parentNode.removeChild(Ie),_&&(this.nativeDraggable&&le(_,"dragend",this),Mr(_),_.style["will-change"]="",Kt&&!At&&Oe(_,Ne?Ne.options.ghostClass:this.options.ghostClass,!1),Oe(_,this.options.chosenClass,!1),Ge({sortable:this,name:"unchoose",toEl:$e,newIndex:null,newDraggableIndex:null,originalEvent:e}),Se!==$e?(Qe>=0&&(Ge({rootEl:$e,name:"add",toEl:$e,fromEl:Se,originalEvent:e}),Ge({sortable:this,name:"remove",toEl:$e,originalEvent:e}),Ge({rootEl:$e,name:"sort",toEl:$e,fromEl:Se,originalEvent:e}),Ge({sortable:this,name:"sort",toEl:$e,originalEvent:e})),Ne&&Ne.save()):Qe!==Dt&&Qe>=0&&(Ge({sortable:this,name:"update",toEl:$e,originalEvent:e}),Ge({sortable:this,name:"sort",toEl:$e,originalEvent:e})),Y.active&&((Qe==null||Qe===-1)&&(Qe=Dt,gt=Qt),Ge({sortable:this,name:"end",toEl:$e,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){We("nulling",this),Se=_=$e=ne=Ot=Ie=pr=ht=wt=nt=Kt=Qe=gt=Dt=Qt=Pt=Zt=Ne=sr=Y.dragged=Y.ghost=Y.clone=Y.active=null,Er.forEach(function(e){e.checked=!0}),Er.length=Ur=Vr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":_&&(this._onDragOver(e),ko(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,u=this.el.children,n=0,s=u.length,t=this.options;n<s;n++)i=u[n],it(i,t.draggable,this.el,!1)&&e.push(i.getAttribute(t.dataIdAttr)||Ao(i));return e},sort:function(e,i){var u={},n=this.el;this.toArray().forEach(function(s,t){var l=n.children[t];it(l,this.options.draggable,n,!1)&&(u[s]=l)},this),i&&this.captureAnimationState(),e.forEach(function(s){u[s]&&(n.removeChild(u[s]),n.appendChild(u[s]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return it(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var u=this.options;if(i===void 0)return u[e];var n=rr.modifyOption(this,e,i);typeof n<"u"?u[e]=n:u[e]=i,e==="group"&&En(u)},destroy:function(){We("destroy",this);var e=this.el;e[Fe]=null,le(e,"mousedown",this._onTapStart),le(e,"touchstart",this._onTapStart),le(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(le(e,"dragover",this),le(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),wr.splice(wr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ht){if(We("hideClone",this),Y.eventCanceled)return;H(Ie,"display","none"),this.options.removeCloneOnHide&&Ie.parentNode&&Ie.parentNode.removeChild(Ie),ht=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ht){if(We("showClone",this),Y.eventCanceled)return;_.parentNode==Se&&!this.options.group.revertClone?Se.insertBefore(Ie,_):Ot?Se.insertBefore(Ie,Ot):Se.appendChild(Ie),this.options.group.revertClone&&this.animate(_,Ie),H(Ie,"display",""),ht=!1}}};function ko(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function ur(r,e,i,u,n,s,t,l){var a,d=r[Fe],f=d.options.onMove,c;return window.CustomEvent&&!ft&&!tr?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=r,a.dragged=i,a.draggedRect=u,a.related=n||e,a.relatedRect=s||we(e),a.willInsertAfter=l,a.originalEvent=t,r.dispatchEvent(a),f&&(c=f.call(d,a,t)),c}function Mr(r){r.draggable=!1}function Co(){Gr=!1}function $o(r,e,i){var u=we(Ut(i.el,0,i.options,!0)),n=10;return e?r.clientX<u.left-n||r.clientY<u.top&&r.clientX<u.right:r.clientY<u.top-n||r.clientY<u.bottom&&r.clientX<u.left}function Io(r,e,i){var u=we(Yr(i.el,i.options.draggable)),n=10;return e?r.clientX>u.right+n||r.clientX<=u.right&&r.clientY>u.bottom&&r.clientX>=u.left:r.clientX>u.right&&r.clientY>u.top||r.clientX<=u.right&&r.clientY>u.bottom+n}function Po(r,e,i,u,n,s,t,l){var a=u?r.clientY:r.clientX,d=u?i.height:i.width,f=u?i.top:i.left,c=u?i.bottom:i.right,m=!1;if(!t){if(l&&vr<d*n){if(!qt&&(Zt===1?a>f+d*s/2:a<c-d*s/2)&&(qt=!0),qt)m=!0;else if(Zt===1?a<f+vr:a>c-vr)return-Zt}else if(a>f+d*(1-n)/2&&a<c-d*(1-n)/2)return To(e)}return m=m||t,m&&(a<f+d*s/2||a>c-d*s/2)?a>f+d/2?1:-1:0}function To(r){return Pe(_)<Pe(r)?1:-1}function Ao(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,i=e.length,u=0;i--;)u+=e.charCodeAt(i);return u.toString(36)}function Do(r){Er.length=0;for(var e=r.getElementsByTagName("input"),i=e.length;i--;){var u=e[i];u.checked&&Er.push(u)}}function gr(r){return setTimeout(r,0)}function Hr(r){return clearTimeout(r)}Cr&&ue(document,"touchmove",function(r){(Y.active||At)&&r.cancelable&&r.preventDefault()});Y.utils={on:ue,off:le,css:H,find:bn,is:function(e,i){return!!it(e,i,e,!1)},extend:vo,throttle:yn,closest:it,toggleClass:Oe,clone:Jr,index:Pe,nextTick:gr,cancelNextTick:Hr,detectDirection:wn,getChild:Ut};Y.get=function(r){return r[Fe]};Y.mount=function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(u){if(!u.prototype||!u.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(u));u.utils&&(Y.utils=dt(dt({},Y.utils),u.utils)),rr.mount(u)})};Y.create=function(r,e){return new Y(r,e)};Y.version=co;var De=[],Wt,Kr,Wr=!1,jr,Nr,Or,Xt;function Uo(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(i){var u=i.originalEvent;this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ue(document,"pointermove",this._handleFallbackAutoScroll):u.touches?ue(document,"touchmove",this._handleFallbackAutoScroll):ue(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var u=i.originalEvent;!this.options.dragOverBubble&&!u.rootEl&&this._handleAutoScroll(u)},drop:function(){this.sortable.nativeDraggable?le(document,"dragover",this._handleAutoScroll):(le(document,"pointermove",this._handleFallbackAutoScroll),le(document,"touchmove",this._handleFallbackAutoScroll),le(document,"mousemove",this._handleFallbackAutoScroll)),un(),hr(),go()},nulling:function(){Or=Kr=Wt=Wr=Xt=jr=Nr=null,De.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,u){var n=this,s=(i.touches?i.touches[0]:i).clientX,t=(i.touches?i.touches[0]:i).clientY,l=document.elementFromPoint(s,t);if(Or=i,u||this.options.forceAutoScrollFallback||tr||ft||Yt){Rr(i,this.options,l,u);var a=bt(l,!0);Wr&&(!Xt||s!==jr||t!==Nr)&&(Xt&&un(),Xt=setInterval(function(){var d=bt(document.elementFromPoint(s,t),!0);d!==a&&(a=d,hr()),Rr(i,n.options,d,u)},10),jr=s,Nr=t)}else{if(!this.options.bubbleScroll||bt(l,!0)===ut()){hr();return}Rr(i,this.options,bt(l,!1),!1)}}},tt(r,{pluginName:"scroll",initializeByDefault:!0})}function hr(){De.forEach(function(r){clearInterval(r.pid)}),De=[]}function un(){clearInterval(Xt)}var Rr=yn(function(r,e,i,u){if(e.scroll){var n=(r.touches?r.touches[0]:r).clientX,s=(r.touches?r.touches[0]:r).clientY,t=e.scrollSensitivity,l=e.scrollSpeed,a=ut(),d=!1,f;Kr!==i&&(Kr=i,hr(),Wt=e.scroll,f=e.scrollFn,Wt===!0&&(Wt=bt(i,!0)));var c=0,m=Wt;do{var p=m,v=we(p),b=v.top,E=v.bottom,C=v.left,O=v.right,M=v.width,P=v.height,y=void 0,x=void 0,w=p.scrollWidth,U=p.scrollHeight,$=H(p),S=p.scrollLeft,k=p.scrollTop;p===a?(y=M<w&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),x=P<U&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(y=M<w&&($.overflowX==="auto"||$.overflowX==="scroll"),x=P<U&&($.overflowY==="auto"||$.overflowY==="scroll"));var D=y&&(Math.abs(O-n)<=t&&S+M<w)-(Math.abs(C-n)<=t&&!!S),j=x&&(Math.abs(E-s)<=t&&k+P<U)-(Math.abs(b-s)<=t&&!!k);if(!De[c])for(var N=0;N<=c;N++)De[N]||(De[N]={});(De[c].vx!=D||De[c].vy!=j||De[c].el!==p)&&(De[c].el=p,De[c].vx=D,De[c].vy=j,clearInterval(De[c].pid),(D!=0||j!=0)&&(d=!0,De[c].pid=setInterval((function(){u&&this.layer===0&&Y.active._onTouchMove(Or);var te=De[this.layer].vy?De[this.layer].vy*l:0,z=De[this.layer].vx?De[this.layer].vx*l:0;typeof f=="function"&&f.call(Y.dragged.parentNode[Fe],z,te,r,Or,De[this.layer].el)!=="continue"||xn(De[this.layer].el,z,te)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&m!==a&&(m=bt(m,!1)));Wr=d}},30),Cn=function(e){var i=e.originalEvent,u=e.putSortable,n=e.dragEl,s=e.activeSortable,t=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(i){var d=u||s;l();var f=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,c=document.elementFromPoint(f.clientX,f.clientY);a(),d&&!d.el.contains(c)&&(t("spill"),this.onSpill({dragEl:n,putSortable:u}))}};function Qr(){}Qr.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,u=e.putSortable;this.sortable.captureAnimationState(),u&&u.captureAnimationState();var n=Ut(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),u&&u.animateAll()},drop:Cn};tt(Qr,{pluginName:"revertOnSpill"});function Zr(){}Zr.prototype={onSpill:function(e){var i=e.dragEl,u=e.putSortable,n=u||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:Cn};tt(Zr,{pluginName:"removeOnSpill"});var qe;function Vo(){function r(){this.defaults={swapClass:"sortable-swap-highlight"}}return r.prototype={dragStart:function(i){var u=i.dragEl;qe=u},dragOverValid:function(i){var u=i.completed,n=i.target,s=i.onMove,t=i.activeSortable,l=i.changed,a=i.cancel;if(t.options.swap){var d=this.sortable.el,f=this.options;if(n&&n!==d){var c=qe;s(n)!==!1?(Oe(n,f.swapClass,!0),qe=n):qe=null,c&&c!==qe&&Oe(c,f.swapClass,!1)}l(),u(!0),a()}},drop:function(i){var u=i.activeSortable,n=i.putSortable,s=i.dragEl,t=n||this.sortable,l=this.options;qe&&Oe(qe,l.swapClass,!1),qe&&(l.swap||n&&n.options.swap)&&s!==qe&&(t.captureAnimationState(),t!==u&&u.captureAnimationState(),Lo(s,qe),t.animateAll(),t!==u&&u.animateAll())},nulling:function(){qe=null}},tt(r,{pluginName:"swap",eventProperties:function(){return{swapItem:qe}}})}function Lo(r,e){var i=r.parentNode,u=e.parentNode,n,s;!i||!u||i.isEqualNode(e)||u.isEqualNode(r)||(n=Pe(r),s=Pe(e),i.isEqualNode(u)&&n<s&&s++,i.insertBefore(e,i.children[n]),u.insertBefore(r,u.children[s]))}var re=[],Je=[],_t,ot,zt=!1,Xe=!1,Tt=!1,ge,Gt,dr;function Mo(){function r(e){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));e.options.supportPointer?ue(document,"pointerup",this._deselectMultiDrag):(ue(document,"mouseup",this._deselectMultiDrag),ue(document,"touchend",this._deselectMultiDrag)),ue(document,"keydown",this._checkKeyDown),ue(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(n,s){var t="";re.length&&ot===e?re.forEach(function(l,a){t+=(a?", ":"")+l.textContent}):t=s.textContent,n.setData("Text",t)}}}return r.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var u=i.dragEl;ge=u},delayEnded:function(){this.isMultiDrag=~re.indexOf(ge)},setupClone:function(i){var u=i.sortable,n=i.cancel;if(this.isMultiDrag){for(var s=0;s<re.length;s++)Je.push(Jr(re[s])),Je[s].sortableIndex=re[s].sortableIndex,Je[s].draggable=!1,Je[s].style["will-change"]="",Oe(Je[s],this.options.selectedClass,!1),re[s]===ge&&Oe(Je[s],this.options.chosenClass,!1);u._hideClone(),n()}},clone:function(i){var u=i.sortable,n=i.rootEl,s=i.dispatchSortableEvent,t=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||re.length&&ot===u&&(dn(!0,n),s("clone"),t()))},showClone:function(i){var u=i.cloneNowShown,n=i.rootEl,s=i.cancel;this.isMultiDrag&&(dn(!1,n),Je.forEach(function(t){H(t,"display","")}),u(),dr=!1,s())},hideClone:function(i){var u=this;i.sortable;var n=i.cloneNowHidden,s=i.cancel;this.isMultiDrag&&(Je.forEach(function(t){H(t,"display","none"),u.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),dr=!0,s())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&ot&&ot.multiDrag._deselectMultiDrag(),re.forEach(function(u){u.sortableIndex=Pe(u)}),re=re.sort(function(u,n){return u.sortableIndex-n.sortableIndex}),Tt=!0},dragStarted:function(i){var u=this,n=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){re.forEach(function(t){t!==ge&&H(t,"position","absolute")});var s=we(ge,!1,!0,!0);re.forEach(function(t){t!==ge&&on(t,s)}),Xe=!0,zt=!0}n.animateAll(function(){Xe=!1,zt=!1,u.options.animation&&re.forEach(function(t){Ar(t)}),u.options.sort&&cr()})}},dragOver:function(i){var u=i.target,n=i.completed,s=i.cancel;Xe&&~re.indexOf(u)&&(n(!1),s())},revert:function(i){var u=i.fromSortable,n=i.rootEl,s=i.sortable,t=i.dragRect;re.length>1&&(re.forEach(function(l){s.addAnimationState({target:l,rect:Xe?we(l):t}),Ar(l),l.fromRect=t,u.removeAnimationState(l)}),Xe=!1,jo(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(i){var u=i.sortable,n=i.isOwner,s=i.insertion,t=i.activeSortable,l=i.parentEl,a=i.putSortable,d=this.options;if(s){if(n&&t._hideClone(),zt=!1,d.animation&&re.length>1&&(Xe||!n&&!t.options.sort&&!a)){var f=we(ge,!1,!0,!0);re.forEach(function(m){m!==ge&&(on(m,f),l.appendChild(m))}),Xe=!0}if(!n)if(Xe||cr(),re.length>1){var c=dr;t._showClone(u),t.options.animation&&!dr&&c&&Je.forEach(function(m){t.addAnimationState({target:m,rect:Gt}),m.fromRect=Gt,m.thisAnimationDuration=null})}else t._showClone(u)}},dragOverAnimationCapture:function(i){var u=i.dragRect,n=i.isOwner,s=i.activeSortable;if(re.forEach(function(l){l.thisAnimationDuration=null}),s.options.animation&&!n&&s.multiDrag.isMultiDrag){Gt=tt({},u);var t=kt(ge,!0);Gt.top-=t.f,Gt.left-=t.e}},dragOverAnimationComplete:function(){Xe&&(Xe=!1,cr())},drop:function(i){var u=i.originalEvent,n=i.rootEl,s=i.parentEl,t=i.sortable,l=i.dispatchSortableEvent,a=i.oldIndex,d=i.putSortable,f=d||this.sortable;if(u){var c=this.options,m=s.children;if(!Tt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Oe(ge,c.selectedClass,!~re.indexOf(ge)),~re.indexOf(ge))re.splice(re.indexOf(ge),1),_t=null,Ht({sortable:t,rootEl:n,name:"deselect",targetEl:ge});else{if(re.push(ge),Ht({sortable:t,rootEl:n,name:"select",targetEl:ge}),u.shiftKey&&_t&&t.el.contains(_t)){var p=Pe(_t),v=Pe(ge);if(~p&&~v&&p!==v){var b,E;for(v>p?(E=p,b=v):(E=v,b=p+1);E<b;E++)~re.indexOf(m[E])||(Oe(m[E],c.selectedClass,!0),re.push(m[E]),Ht({sortable:t,rootEl:n,name:"select",targetEl:m[E]}))}}else _t=ge;ot=f}if(Tt&&this.isMultiDrag){if(Xe=!1,(s[Fe].options.sort||s!==n)&&re.length>1){var C=we(ge),O=Pe(ge,":not(."+this.options.selectedClass+")");if(!zt&&c.animation&&(ge.thisAnimationDuration=null),f.captureAnimationState(),!zt&&(c.animation&&(ge.fromRect=C,re.forEach(function(P){if(P.thisAnimationDuration=null,P!==ge){var y=Xe?we(P):C;P.fromRect=y,f.addAnimationState({target:P,rect:y})}})),cr(),re.forEach(function(P){m[O]?s.insertBefore(P,m[O]):s.appendChild(P),O++}),a===Pe(ge))){var M=!1;re.forEach(function(P){if(P.sortableIndex!==Pe(P)){M=!0;return}}),M&&l("update")}re.forEach(function(P){Ar(P)}),f.animateAll()}ot=f}(n===s||d&&d.lastPutMode!=="clone")&&Je.forEach(function(P){P.parentNode&&P.parentNode.removeChild(P)})}},nullingGlobal:function(){this.isMultiDrag=Tt=!1,Je.length=0},destroyGlobal:function(){this._deselectMultiDrag(),le(document,"pointerup",this._deselectMultiDrag),le(document,"mouseup",this._deselectMultiDrag),le(document,"touchend",this._deselectMultiDrag),le(document,"keydown",this._checkKeyDown),le(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof Tt<"u"&&Tt)&&ot===this.sortable&&!(i&&it(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;re.length;){var u=re[0];Oe(u,this.options.selectedClass,!1),re.shift(),Ht({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:u})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},tt(r,{pluginName:"multiDrag",utils:{select:function(i){var u=i.parentNode[Fe];!u||!u.options.multiDrag||~re.indexOf(i)||(ot&&ot!==u&&(ot.multiDrag._deselectMultiDrag(),ot=u),Oe(i,u.options.selectedClass,!0),re.push(i))},deselect:function(i){var u=i.parentNode[Fe],n=re.indexOf(i);!u||!u.options.multiDrag||!~n||(Oe(i,u.options.selectedClass,!1),re.splice(n,1))}},eventProperties:function(){var i=this,u=[],n=[];return re.forEach(function(s){u.push({multiDragElement:s,index:s.sortableIndex});var t;Xe&&s!==ge?t=-1:Xe?t=Pe(s,":not(."+i.options.selectedClass+")"):t=Pe(s),n.push({multiDragElement:s,index:t})}),{items:io(re),clones:[].concat(Je),oldIndicies:u,newIndicies:n}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function jo(r,e){re.forEach(function(i,u){var n=e.children[i.sortableIndex+(r?Number(u):0)];n?e.insertBefore(i,n):e.appendChild(i)})}function dn(r,e){Je.forEach(function(i,u){var n=e.children[i.sortableIndex+(r?Number(u):0)];n?e.insertBefore(i,n):e.appendChild(i)})}function cr(){re.forEach(function(r){r!==ge&&r.parentNode&&r.parentNode.removeChild(r)})}Y.mount(new Uo);Y.mount(Zr,Qr);const No=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Mo,Sortable:Y,Swap:Vo,default:Y},Symbol.toStringTag,{value:"Module"})),Ro={class:"card mb-4 p-3"},Fo={class:"mb-3"},Bo={class:"text-muted"},_o=["src"],zo=["onClick"],Go={class:"badge-main"},Ho={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he([...i.modelValue]);st(()=>i.modelValue,c=>{c!==n.value&&(n.value=[...c])});function s(c){let m=(c==null?void 0:c.url)||(c==null?void 0:c.full_url)||(c==null?void 0:c.path)||(c==null?void 0:c.storage_path)||(c==null?void 0:c.image)||(c==null?void 0:c.filepath)||(c==null?void 0:c.filename)||(c==null?void 0:c.name);if(!m)return"";if(m=String(m),m.startsWith("blob:")||m.startsWith("data:")||/^https?:\/\//i.test(m)||m.startsWith("/"))return m;if(m.startsWith("storage/"))return`/${m.replace(/^\/+/,"")}`;const p=m.indexOf("/storage/");return p!==-1?m.slice(p):(m=m.replace(/^public\//,""),`/storage/${m.replace(/^\/+/,"")}`)}function t(c){c.target.src="/images/placeholder.png"}function l(){n.value.forEach((c,m)=>{c.position=m,c.is_main=m===0}),u("update:modelValue",[...n.value])}function a(c){Array.from(c.target.files).forEach(p=>{n.value.push({id:Date.now()+Math.random(),file:p,url:URL.createObjectURL(p),position:n.value.length,is_main:!1})}),l(),c.target.value=""}function d(c){const m=n.value[c];if(m!=null&&m.url&&String(m.url).startsWith("blob:"))try{URL.revokeObjectURL(m.url)}catch{}n.value.splice(c,1),l()}const f=he(null);return er(()=>{Y.create(f.value,{animation:150,onEnd:c=>{const m=n.value.splice(c.oldIndex,1)[0];n.value.splice(c.newIndex,0,m),l()}})}),(c,m)=>(g(),h("div",Ro,[m[0]||(m[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",Fo,[o("input",{type:"file",class:"form-control",multiple:"",onChange:a},null,32),o("small",Bo,"Файлів: "+I(n.value.length),1)]),o("div",{ref_key:"containerRef",ref:f,class:"d-flex gap-2 flex-wrap"},[(g(!0),h(ee,null,ve(n.value,(p,v)=>(g(),h("div",{key:p.id,class:"image-item"},[o("img",{src:s(p),alt:"",onError:t},null,40,_o),o("button",{type:"button",class:"remove-btn",onClick:b=>d(v)},"×",8,zo),o("span",Go,I(v===0?"Головне":"#"+(v+1)),1)]))),128))],512)]))}},Ko=se(Ho,[["__scopeId","data-v-27ac975c"]]),Wo={name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],data(){return{lang:"uk",activeTab:"text",editIdx:null,form:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},tabs:{uk:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка зліва"},{value:"two_images",label:"Дві картинки"}],ru:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка слева"},{value:"two_images",label:"Две картинки"}]}}},computed:{getTabs(){return this.lang==="uk"?this.tabs.uk:this.tabs.ru},descriptionBlocks:{get(){return this.modelValue},set(r){this.$emit("update:modelValue",r)}}},watch:{activeTab(){this.resetForm(),this.editIdx=null},lang(){this.resetForm(),this.editIdx=null}},methods:{onImageChange(r,e,i=1){const u=r.target.files[0];if(!u)return;const n=new FileReader;n.onload=s=>{e==="two_images"?i===1?this.form.imageUrl1=s.target.result:this.form.imageUrl2=s.target.result:this.form.imageUrl=s.target.result},n.readAsDataURL(u)},addBlock(){const r={type:this.activeTab,_key:this.editIdx!==null?this.descriptionBlocks[this.lang][this.editIdx]._key:Date.now()+Math.random()};this.activeTab==="text"?(r.title=this.form.title,r.text=this.form.text):this.activeTab==="image_right"||this.activeTab==="image_left"?(r.title=this.form.title,r.text=this.form.text,r.imageUrl=this.form.imageUrl):this.activeTab==="two_images"&&(r.imageUrl1=this.form.imageUrl1,r.imageUrl2=this.form.imageUrl2);const e={...this.descriptionBlocks},i=[...e[this.lang]||[]];this.editIdx!==null?i[this.editIdx]=r:i.push(r),e[this.lang]=i,this.descriptionBlocks=e,this.resetForm(),this.editIdx=null,this.$nextTick(()=>{const u=this.$refs.lastBlock;u&&u.scrollIntoView&&u.scrollIntoView({behavior:"smooth",block:"center"})})},resetForm(){this.form={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},getLabel(r){return{uk:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка зліва",image1:"Перша картинка",image2:"Друга картинка",add:this.editIdx!==null?"Оновити":"Додати"},ru:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка слева",image1:"Первая картинка",image2:"Вторая картинка",add:this.editIdx!==null?"Обновить":"Добавить"}}[this.lang][r]},getBlockTypeLabel(r){return{text:{uk:"Текст",ru:"Текст"},image_right:{uk:"Картинка справа",ru:"Картинка справа"},image_left:{uk:"Картинка зліва",ru:"Картинка слева"},two_images:{uk:"Дві картинки",ru:"Две картинки"}}[r][this.lang]},deleteBlock(r){const e={...this.descriptionBlocks};e[this.lang]=[...e[this.lang]||[]],e[this.lang].splice(r,1),this.descriptionBlocks=e,this.resetForm(),this.editIdx=null},editBlock(r){const e=this.descriptionBlocks[this.lang][r];this.activeTab=e.type,this.editIdx=r,this.form={title:e.title||"",text:e.text||"",imageUrl:e.imageUrl||"",imageUrl1:e.imageUrl1||"",imageUrl2:e.imageUrl2||""},this.$nextTick(()=>{const i=this.$el.querySelector("form");i&&i.scrollIntoView({behavior:"smooth",block:"center"})})}}},Xo={class:"card mb-4 p-4"},Yo={class:"nav nav-tabs mb-3"},Jo={class:"nav-item"},Qo={class:"nav-item"},Zo={class:"mb-3 d-flex align-items-center gap-2 flex-wrap"},qo=["onClick"],ei={class:"mb-3"},ti={class:"form-label"},ri={class:"mb-3"},ni={class:"form-label"},oi={type:"submit",class:"btn btn-success"},ii={class:"row"},si={class:"col-md-7 mb-3"},li={class:"form-label"},ai={class:"form-label mt-3"},ui={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},di={class:"form-label"},ci={key:0,class:"mt-3 w-100 d-flex justify-content-center"},fi=["src"],mi={type:"submit",class:"btn btn-success mt-2 w-100"},pi={class:"row"},vi={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},gi={class:"form-label"},hi={key:0,class:"mt-3 w-100 d-flex justify-content-center"},bi=["src"],yi={class:"col-md-7 mb-3"},xi={class:"form-label"},Si={class:"form-label mt-3"},wi={type:"submit",class:"btn btn-success mt-2 w-100"},Ei={class:"row"},Oi={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},ki={class:"form-label"},Ci={key:0,class:"mt-3 w-100 d-flex justify-content-center"},$i=["src"],Ii={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},Pi={class:"form-label"},Ti={key:0,class:"mt-3 w-100 d-flex justify-content-center"},Ai=["src"],Di={type:"submit",class:"btn btn-success mt-2 w-100"},Ui={key:0,class:"desc-text-only"},Vi={class:"desc-title"},Li={class:"desc-content"},Mi={key:1,class:"desc-two-cols"},ji={class:"desc-cols-text text-start"},Ni={class:"desc-title"},Ri={class:"desc-content"},Fi={class:"desc-cols-img-wrap"},Bi=["src"],_i={key:2,class:"desc-two-cols"},zi={class:"desc-cols-img-wrap"},Gi=["src"],Hi={class:"desc-cols-text text-start"},Ki={class:"desc-title"},Wi={class:"desc-content"},Xi={key:3,class:"desc-two-images"},Yi={class:"desc-cols-img-wrap"},Ji=["src"],Qi={class:"desc-cols-img-wrap"},Zi=["src"],qi={class:"mt-3 text-end"},es=["onClick"],ts=["onClick"];function rs(r,e,i,u,n,s){return g(),h("div",Xo,[e[17]||(e[17]=o("h6",{class:"fw-bold mb-3"},"Опис товару",-1)),o("ul",Yo,[o("li",Jo,[o("button",{class:W(["nav-link",{active:n.lang==="uk"}]),onClick:e[0]||(e[0]=t=>n.lang="uk"),type:"button"},"Українська",2)]),o("li",Qo,[o("button",{class:W(["nav-link",{active:n.lang==="ru"}]),onClick:e[1]||(e[1]=t=>n.lang="ru"),type:"button"},"Російська",2)])]),o("div",Zo,[(g(!0),h(ee,null,ve(s.getTabs,t=>(g(),h("button",{key:t.value,onClick:l=>n.activeTab=t.value,class:W(["btn d-flex align-items-center",n.activeTab===t.value?"btn-primary":"btn-outline-primary"]),type:"button"},[ae(I(t.label)+" ",1),o("span",{class:W(["badge ms-2",n.lang==="uk"?"bg-primary":"bg-danger"])},I(n.lang.toUpperCase()),3)],10,qo))),128))]),n.activeTab==="text"?(g(),h("form",{key:0,onSubmit:e[4]||(e[4]=ie((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",ei,[o("label",ti,I(s.getLabel("title")),1),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>n.form.title=t)},null,512),[[B,n.form.title]])]),o("div",ri,[o("label",ni,I(s.getLabel("text")),1),R(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[3]||(e[3]=t=>n.form.text=t)},null,512),[[B,n.form.text]])]),o("button",oi,I(s.getLabel("add")),1)],32)):V("",!0),n.activeTab==="image_right"?(g(),h("form",{key:1,onSubmit:e[8]||(e[8]=ie((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",ii,[o("div",si,[o("label",li,I(s.getLabel("title")),1),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>n.form.title=t)},null,512),[[B,n.form.title]]),o("label",ai,I(s.getLabel("text")),1),R(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[6]||(e[6]=t=>n.form.text=t)},null,512),[[B,n.form.text]])]),o("div",ui,[o("label",di,I(s.getLabel("image_right")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=t=>s.onImageChange(t,"image_right"))},null,32),n.form.imageUrl?(g(),h("div",ci,[o("img",{src:n.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,fi)])):V("",!0)])]),o("button",mi,I(s.getLabel("add")),1)],32)):V("",!0),n.activeTab==="image_left"?(g(),h("form",{key:2,onSubmit:e[12]||(e[12]=ie((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",pi,[o("div",vi,[o("label",gi,I(s.getLabel("image_left")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[9]||(e[9]=t=>s.onImageChange(t,"image_left"))},null,32),n.form.imageUrl?(g(),h("div",hi,[o("img",{src:n.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,bi)])):V("",!0)]),o("div",yi,[o("label",xi,I(s.getLabel("title")),1),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=t=>n.form.title=t)},null,512),[[B,n.form.title]]),o("label",Si,I(s.getLabel("text")),1),R(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[11]||(e[11]=t=>n.form.text=t)},null,512),[[B,n.form.text]])])]),o("button",wi,I(s.getLabel("add")),1)],32)):V("",!0),n.activeTab==="two_images"?(g(),h("form",{key:3,onSubmit:e[15]||(e[15]=ie((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",Ei,[o("div",Oi,[o("label",ki,I(s.getLabel("image1")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[13]||(e[13]=t=>s.onImageChange(t,"two_images",1))},null,32),n.form.imageUrl1?(g(),h("div",Ci,[o("img",{src:n.form.imageUrl1,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,$i)])):V("",!0)]),o("div",Ii,[o("label",Pi,I(s.getLabel("image2")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[14]||(e[14]=t=>s.onImageChange(t,"two_images",2))},null,32),n.form.imageUrl2?(g(),h("div",Ti,[o("img",{src:n.form.imageUrl2,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,Ai)])):V("",!0)])]),o("button",Di,I(s.getLabel("add")),1)],32)):V("",!0),Q(Xr,{name:"fade",tag:"div",class:"mt-4",ref:"blockList"},{default:Be(()=>[(g(!0),h(ee,null,ve(s.descriptionBlocks[n.lang],(t,l)=>(g(),h("div",{key:t._key,class:"card p-3 mb-2 description-preview-block",ref_for:!0,ref:l===s.descriptionBlocks[n.lang].length-1?"lastBlock":null},[t.type==="text"?(g(),h("div",Ui,[o("div",Vi,I(t.title),1),o("div",Li,I(t.text),1)])):V("",!0),t.type==="image_right"?(g(),h("div",Mi,[o("div",ji,[o("div",Ni,I(t.title),1),o("div",Ri,I(t.text),1)]),o("div",Fi,[t.imageUrl?(g(),h("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,Bi)):V("",!0)])])):V("",!0),t.type==="image_left"?(g(),h("div",_i,[o("div",zi,[t.imageUrl?(g(),h("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,Gi)):V("",!0)]),o("div",Hi,[o("div",Ki,I(t.title),1),o("div",Wi,I(t.text),1)])])):V("",!0),t.type==="two_images"?(g(),h("div",Xi,[o("div",Yi,[t.imageUrl1?(g(),h("img",{key:0,src:t.imageUrl1,alt:"",class:"desc-cols-img"},null,8,Ji)):V("",!0)]),o("div",Qi,[t.imageUrl2?(g(),h("img",{key:0,src:t.imageUrl2,alt:"",class:"desc-cols-img"},null,8,Zi)):V("",!0)])])):V("",!0),o("div",qi,[o("button",{class:"btn btn-outline-secondary btn-sm me-1",onClick:a=>s.editBlock(l)}," Редагувати ",8,es),o("button",{class:"btn btn-outline-danger btn-sm",onClick:a=>s.deleteBlock(l)},e[16]||(e[16]=[o("i",{class:"bi bi-trash"},null,-1)]),8,ts)])]))),128))]),_:1},512)])}const ns=se(Wo,[["render",rs],["__scopeId","data-v-2bbe8ab4"]]),os={class:"card mb-4 p-4"},is={class:"mb-3"},ss={key:0,class:"invalid-feedback"},ls={class:"mb-3"},as={class:"mb-3"},us={key:0,class:"invalid-feedback"},ds={class:"mb-3"},cs={class:"mb-3"},fs={key:0,class:"invalid-feedback"},ms={class:"form-check form-switch mb-2"},ps={class:"form-check form-switch"},vs={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(r){return(e,i)=>{var u,n,s,t,l,a;return g(),h("div",os,[o("div",is,[i[7]||(i[7]=o("label",{class:"form-label"},"Ціна",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(u=r.errors)==null?void 0:u.price}]),"onUpdate:modelValue":i[0]||(i[0]=d=>r.form.price=d),placeholder:"Ціна"},null,2),[[B,r.form.price]]),(n=r.errors)!=null&&n.price?(g(),h("div",ss,I(r.errors.price),1)):V("",!0)]),o("div",ls,[i[8]||(i[8]=o("label",{class:"form-label"},"Стара ціна",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=d=>r.form.old_price=d)},null,512),[[B,r.form.old_price]])]),o("div",as,[i[9]||(i[9]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(s=r.errors)==null?void 0:s.sku}]),"onUpdate:modelValue":i[2]||(i[2]=d=>r.form.sku=d)},null,2),[[B,r.form.sku]]),(t=r.errors)!=null&&t.sku?(g(),h("div",us,I(r.errors.sku),1)):V("",!0)]),o("div",ds,[i[10]||(i[10]=o("label",{class:"form-label"},"Штрихкод",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=d=>r.form.barcode=d)},null,512),[[B,r.form.barcode]])]),o("div",cs,[i[11]||(i[11]=o("label",{class:"form-label"},"Кількість",-1)),R(o("input",{type:"number",class:W(["form-control",{"is-invalid":(l=r.errors)==null?void 0:l.quantity_in_stock}]),"onUpdate:modelValue":i[4]||(i[4]=d=>r.form.quantity_in_stock=d)},null,2),[[B,r.form.quantity_in_stock]]),(a=r.errors)!=null&&a.quantity_in_stock?(g(),h("div",fs,I(r.errors.quantity_in_stock),1)):V("",!0)]),o("div",ms,[R(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":i[5]||(i[5]=d=>r.form.is_available=d)},null,512),[[yr,r.form.is_available]]),i[12]||(i[12]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))]),o("div",ps,[R(o("input",{class:"form-check-input",type:"checkbox",id:"popularSwitch","onUpdate:modelValue":i[6]||(i[6]=d=>r.form.is_popular=d)},null,512),[[yr,r.form.is_popular]]),i[13]||(i[13]=o("label",{class:"form-check-label",for:"popularSwitch"},"Популярне",-1))])])}}};function Fr(r){return r===0?!1:Array.isArray(r)&&r.length===0?!0:!r}function gs(r){return(...e)=>!r(...e)}function hs(r,e){return r===void 0&&(r="undefined"),r===null&&(r="null"),r===!1&&(r="false"),r.toString().toLowerCase().indexOf(e.trim())!==-1}function bs(r){return r.filter(e=>!e.$isLabel)}function Br(r,e){return i=>i.reduce((u,n)=>n[r]&&n[r].length?(u.push({$groupLabel:n[e],$isLabel:!0}),u.concat(n[r])):u,[])}const cn=(...r)=>e=>r.reduce((i,u)=>u(i),e);var ys={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(r,e){return Fr(r)?"":e?r[e]:r}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const r=this.search||"",e=r.toLowerCase().trim();let i=this.options.concat();return this.internalSearch?i=this.groupValues?this.filterAndFlat(i,e,this.label):this.filterOptions(i,e,this.label,this.customLabel):i=this.groupValues?Br(this.groupValues,this.groupLabel)(i):i,i=this.hideSelected?i.filter(gs(this.isSelected)):i,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?i.push({isTag:!0,label:r}):i.unshift({isTag:!0,label:r})),i.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(r=>r[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(r,e,i){return cn(this.filterGroups(e,i,this.groupValues,this.groupLabel,this.customLabel),Br(this.groupValues,this.groupLabel))(r)},flatAndStrip(r){return cn(Br(this.groupValues,this.groupLabel),bs)(r)},updateSearch(r){this.search=r},isExistingOption(r){return this.options?this.optionKeys.indexOf(r)>-1:!1},isSelected(r){const e=this.trackBy?r[this.trackBy]:r;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(r){return!!r.$isDisabled},getOptionLabel(r){if(Fr(r))return"";if(r.isTag)return r.label;if(r.$isLabel)return r.$groupLabel;const e=this.customLabel(r,this.label);return Fr(e)?"":e},select(r,e){if(r.$isLabel&&this.groupSelect){this.selectGroup(r);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||r.$isDisabled||r.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(r.isTag)this.$emit("tag",r.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(r)){e!=="Tab"&&this.removeElement(r);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([r])):this.$emit("update:modelValue",r),this.$emit("select",r,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(r){const e=this.options.find(i=>i[this.groupLabel]===r.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const i=this.trackBy?e[this.groupValues].map(n=>n[this.trackBy]):e[this.groupValues],u=this.internalValue.filter(n=>i.indexOf(this.trackBy?n[this.trackBy]:n)===-1);this.$emit("update:modelValue",u)}else{const i=e[this.groupValues].filter(u=>!(this.isOptionDisabled(u)||this.isSelected(u)));this.max&&i.splice(this.max-this.internalValue.length),this.$emit("select",i,this.id),this.$emit("update:modelValue",this.internalValue.concat(i))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(r){return r[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(r){return r[this.groupValues].every(this.isOptionDisabled)},removeElement(r,e=!0){if(this.disabled||r.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const i=typeof r=="object"?this.valueKeys.indexOf(r[this.trackBy]):this.valueKeys.indexOf(r);if(this.multiple){const u=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("update:modelValue",u)}else this.$emit("update:modelValue",null);this.$emit("remove",r,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const r=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>r||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(r-40,this.maxHeight))},filterOptions(r,e,i,u){return e?r.filter(n=>hs(u(n,i),e)).sort((n,s)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(n,s):u(n,i).length-u(s,i).length):r},filterGroups(r,e,i,u,n){return s=>s.map(t=>{if(!t[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const l=this.filterOptions(t[i],r,e,n);return l.length?{[u]:t[u],[i]:l}:[]})}}},xs={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(r,e){return{"multiselect__option--highlight":r===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(r,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const i=this.options.find(u=>u[this.groupLabel]===e.$groupLabel);return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":r===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement({key:r}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],r),this.pointerReset()},pointerForward(){var r;this.pointer<this.filteredOptions.length-1&&(this.pointer++,((r=this.$refs.list)==null?void 0:r.scrollTop)<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){var r;this.pointer>0?(this.pointer--,((r=this.$refs.list)==null?void 0:r.scrollTop)>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(r){this.pointer=r,this.pointerDirty=!0}}},Vt={name:"vue-multiselect",mixins:[ys,xs],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:r=>`and ${r} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1},useTeleport:{type:Boolean,default:!1}},data(){return{dropdownStyles:{},ready:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}},watch:{isOpen(r){r&&(this.useTeleport?(this.ready=!1,this.$nextTick(()=>{const e=this.$el.getBoundingClientRect();this.dropdownStyles={position:"absolute",top:`${e.bottom+window.scrollY}px`,left:`${e.left+window.scrollX}px`,width:`${e.width}px`,zIndex:9999},this.ready=!0})):this.ready=!0)}}};const Ss=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],ws={ref:"tags",class:"multiselect__tags"},Es={class:"multiselect__tags-wrap"},Os=["textContent"],ks=["onKeypress","onMousedown"],Cs=["textContent"],$s={class:"multiselect__spinner"},Is=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],Ps=["id","aria-multiselectable"],Ts={key:0},As={class:"multiselect__option"},Ds=["aria-selected","id","role"],Us=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Vs=["data-select","data-deselect","onMouseenter","onMousedown"],Ls={class:"multiselect__option"},Ms={class:"multiselect__option"};function js(r,e,i,u,n,s){return g(),h("div",{tabindex:r.searchable?-1:i.tabindex,class:W([{"multiselect--active":r.isOpen,"multiselect--disabled":i.disabled,"multiselect--above":s.isAbove,"multiselect--has-options-group":s.hasOptionGroup},"multiselect"]),onFocus:e[14]||(e[14]=t=>r.activate()),onBlur:e[15]||(e[15]=t=>r.searchable?!1:r.deactivate()),onKeydown:[e[16]||(e[16]=He(ie(t=>r.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=He(ie(t=>r.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=He(ie(t=>r.addPointerElement(t),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=He(t=>r.deactivate(),["esc"])),role:"combobox","aria-expanded":r.isOpen,"aria-owns":"listbox-"+r.id,"aria-activedescendant":r.isOpen&&r.pointer!==null?r.id+"-"+r.pointer:null},[ze(r.$slots,"caret",{toggle:r.toggle},()=>[o("div",{onMousedown:e[0]||(e[0]=ie(t=>r.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),ze(r.$slots,"clear",{search:r.search}),o("div",ws,[ze(r.$slots,"selection",{search:r.search,remove:r.removeElement,values:s.visibleValues,isOpen:r.isOpen},()=>[R(o("div",Es,[(g(!0),h(ee,null,ve(s.visibleValues,(t,l)=>ze(r.$slots,"tag",{option:t,search:r.search,remove:r.removeElement},()=>[(g(),h("span",{class:"multiselect__tag",key:l,onMousedown:e[1]||(e[1]=ie(()=>{},["prevent"]))},[o("span",{textContent:I(r.getOptionLabel(t))},null,8,Os),o("i",{tabindex:"1",onKeypress:He(ie(a=>r.removeElement(t),["prevent"]),["enter"]),onMousedown:ie(a=>r.removeElement(t),["prevent"]),class:"multiselect__tag-icon"},null,40,ks)],32))])),256))],512),[[ir,s.visibleValues.length>0]]),r.internalValue&&r.internalValue.length>i.limit?ze(r.$slots,"limit",{key:0},()=>[o("strong",{class:"multiselect__strong",textContent:I(i.limitText(r.internalValue.length-i.limit))},null,8,Cs)]):V("v-if",!0)]),Q(_r,{name:"multiselect__loading"},{default:Be(()=>[ze(r.$slots,"loading",{},()=>[R(o("div",$s,null,512),[[ir,i.loading]])])]),_:3}),r.searchable?(g(),h("input",{key:0,ref:"search",name:i.name,id:r.id,type:"text",autocomplete:"off",spellcheck:i.spellcheck,placeholder:r.placeholder,required:s.isRequired,style:fr(s.inputStyle),value:r.search,disabled:i.disabled,tabindex:i.tabindex,"aria-label":i.name+"-searchbox",onInput:e[2]||(e[2]=t=>r.updateSearch(t.target.value)),onFocus:e[3]||(e[3]=ie(t=>r.activate(),["prevent"])),onBlur:e[4]||(e[4]=ie(t=>r.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=He(t=>r.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=He(ie(t=>r.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=He(ie(t=>r.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=He(ie(t=>r.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=He(ie(t=>r.addPointerElement(t),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+r.id},null,44,Is)):V("v-if",!0),s.isSingleLabelVisible?(g(),h("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=ie((...t)=>r.toggle&&r.toggle(...t),["prevent"]))},[ze(r.$slots,"singleLabel",{option:s.singleValue},()=>[ae(I(r.currentOptionLabel),1)])],32)):V("v-if",!0),s.isPlaceholderVisible?(g(),h("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=ie((...t)=>r.toggle&&r.toggle(...t),["prevent"]))},[ze(r.$slots,"placeholder",{},()=>[ae(I(r.placeholder),1)])],32)):V("v-if",!0)],512),(g(),mn(pn,{to:"body",disabled:!i.useTeleport},[Q(_r,{name:"multiselect"},{default:Be(()=>[r.isOpen&&n.ready?(g(),h("div",{key:0,class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...t)=>r.activate&&r.activate(...t)),tabindex:"-1",onMousedown:e[13]||(e[13]=ie(()=>{},["prevent"])),style:fr([n.dropdownStyles,{maxHeight:r.optimizedHeight+"px"}]),ref:"list"},[o("ul",{class:"multiselect__content",style:fr(s.contentStyle),role:"listbox",id:"listbox-"+r.id,"aria-multiselectable":r.multiple},[ze(r.$slots,"beforeList"),r.multiple&&r.max===r.internalValue.length?(g(),h("li",Ts,[o("span",As,[ze(r.$slots,"maxElements",{},()=>[ae("Maximum of "+I(r.max)+" options selected. First remove a selected option to select another.",1)])])])):V("v-if",!0),!r.max||r.internalValue.length<r.max?(g(!0),h(ee,{key:1},ve(r.filteredOptions,(t,l)=>(g(),h("li",{class:"multiselect__element",key:l,"aria-selected":r.isSelected(t),id:r.id+"-"+l,role:t&&(t.$isLabel||t.$isDisabled)?null:"option"},[t&&(t.$isLabel||t.$isDisabled)?V("v-if",!0):(g(),h("span",{key:0,class:W([r.optionHighlight(l,t),"multiselect__option"]),onClick:ie(a=>r.select(t),["stop"]),onMouseenter:ie(a=>r.pointerSet(l),["self"]),"data-select":t&&t.isTag?r.tagPlaceholder:s.selectLabelText,"data-selected":s.selectedLabelText,"data-deselect":s.deselectLabelText},[ze(r.$slots,"option",{option:t,search:r.search,index:l},()=>[o("span",null,I(r.getOptionLabel(t)),1)])],42,Us)),t&&(t.$isLabel||t.$isDisabled)?(g(),h("span",{key:1,"data-select":r.groupSelect&&s.selectGroupLabelText,"data-deselect":r.groupSelect&&s.deselectGroupLabelText,class:W([r.groupHighlight(l,t),"multiselect__option"]),onMouseenter:ie(a=>r.groupSelect&&r.pointerSet(l),["self"]),onMousedown:ie(a=>r.selectGroup(t),["prevent"])},[ze(r.$slots,"option",{option:t,search:r.search,index:l},()=>[o("span",null,I(r.getOptionLabel(t)),1)])],42,Vs)):V("v-if",!0)],8,Ds))),128)):V("v-if",!0),R(o("li",null,[o("span",Ls,[ze(r.$slots,"noResult",{search:r.search},()=>[e[20]||(e[20]=ae("No elements found. Consider changing the search query."))])])],512),[[ir,i.showNoResults&&r.filteredOptions.length===0&&r.search&&!i.loading]]),R(o("li",null,[o("span",Ms,[ze(r.$slots,"noOptions",{},()=>[e[21]||(e[21]=ae("List is empty."))])])],512),[[ir,i.showNoOptions&&(r.options.length===0||s.hasOptionGroup===!0&&r.filteredOptions.length===0)&&!r.search&&!i.loading]]),ze(r.$slots,"afterList")],12,Ps)],36)):V("v-if",!0)]),_:3})],8,["disabled"]))],42,Ss)}Vt.render=js;const Ns={name:"ProductCategory",components:{Multiselect:Vt},props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{options:[],localSelected:[]}},computed:{hasError(){var r;return!!((r=this.errors)!=null&&r.categories)},errorText(){var r;return((r=this.errors)==null?void 0:r.categories)||""}},watch:{modelValue:{immediate:!0,handler(r){JSON.stringify(r)!==JSON.stringify(this.localSelected)&&(this.localSelected=Array.isArray(r)?[...r]:[])}},localSelected(r){JSON.stringify(r)!==JSON.stringify(this.modelValue)&&this.$emit("update:modelValue",r)}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){try{const r=await be.get("/api/category-select/uk");this.options=r.data}catch(r){console.error("Не вдалося отримати категорії",r)}}}},Rs={class:"card mb-4 p-4"},Fs={key:0,class:"invalid-feedback",style:{display:"block"}},Bs={key:1,class:"mt-2"};function _s(r,e,i,u,n,s){const t=ce("Multiselect");return g(),h("div",Rs,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Q(t,{modelValue:n.localSelected,"onUpdate:modelValue":e[0]||(e[0]=l=>n.localSelected=l),options:n.options,multiple:!0,placeholder:"Виберіть категорії",label:"name","track-by":"id",class:W(["mb-2",{"is-invalid":s.hasError}])},null,8,["modelValue","options","class"]),s.hasError?(g(),h("div",Fs,I(s.errorText),1)):V("",!0),n.localSelected.length?(g(),h("div",Bs,[(g(!0),h(ee,null,ve(n.localSelected,l=>(g(),h("span",{key:l.id,class:"badge bg-primary me-1"},I(l.name),1))),128))])):V("",!0)])}const zs=se(Ns,[["render",_s],["__scopeId","data-v-cadacbff"]]),Gs={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(r=>String(r.id)===String(this.internalSelectedId))},ukTableRows(){const r=this.selectedGuide;return!r||!r.sizes||!r.sizes.uk?[]:Array.isArray(r.sizes.uk)?r.sizes.uk:Object.entries(r.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(r){this.internalSelectedId=r},internalSelectedId(r){this.$emit("update:modelValue",r)}},created(){be.get("/admin/size-guides").then(r=>{this.sizeGuides=r.data}).catch(r=>{console.error("Error fetching size guides:",r)})}},Hs={class:"card mb-4 p-4"},Ks={class:"mb-3"},Ws=["value"],Xs={key:0,class:"invalid-feedback",style:{display:"block"}},Ys={key:0,class:"mt-3"},Js={class:"form-label"},Qs={key:0},Zs={class:"table table-sm mt-2"},qs={key:1};function el(r,e,i,u,n,s){var t,l;return g(),h("div",Hs,[o("div",Ks,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),R(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.internalSelectedId=a),class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(g(!0),h(ee,null,ve(n.sizeGuides,a=>(g(),h("option",{value:a.id,key:a.id},I(a.name),9,Ws))),128))],2),[[yt,n.internalSelectedId]]),(l=i.errors)!=null&&l.size_guide_id?(g(),h("div",Xs,I(i.errors.size_guide_id),1)):V("",!0)]),s.selectedGuide?(g(),h("div",Ys,[o("label",Js,"Розмірна сітка: "+I(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(g(),h("div",Qs,[o("table",Zs,[o("thead",null,[o("tr",null,[(g(!0),h(ee,null,ve(s.ukTableColumns,a=>(g(),h("th",{key:a},I(a),1))),128))])]),o("tbody",null,[(g(!0),h(ee,null,ve(s.ukTableRows,(a,d)=>(g(),h("tr",{key:d},[(g(!0),h(ee,null,ve(s.ukTableColumns,f=>(g(),h("td",{key:f},I(a[f]||"-"),1))),128))]))),128))])])])):(g(),h("div",qs,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):V("",!0)])}const tl=se(Gs,[["render",el]]),rl={class:"card mb-4 p-4"},nl={class:"fw-bold mb-3 d-flex align-items-center gap-2"},ol={key:0,class:"badge bg-secondary"},il={class:"row g-3 align-items-start"},sl={class:"col-md-5"},ll={class:"variant-form shadow-sm rounded-3 p-3 mb-3 bg-light"},al={class:"mb-2"},ul=["onKeydown"],dl={id:"sizeOptions"},cl=["value"],fl={class:"mb-2"},ml=["onKeydown"],pl={id:"colorOptions"},vl=["value"],gl={class:"mb-2"},hl={class:"input-group"},bl=["onKeydown"],yl={class:"input-group-text"},xl={class:"mb-2"},Sl={class:"input-group"},wl=["onKeydown"],El={class:"input-group-text"},Ol={class:"mb-3"},kl=["onKeydown"],Cl={key:0,class:"small text-danger mb-2"},$l={class:"d-grid gap-2"},Il=["disabled"],Pl={key:1,class:"d-grid gap-2"},Tl=["disabled"],Al={class:"col-md-7"},Dl={class:"variant-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Ul={class:"w-100"},Vl={class:"row gy-2 gx-3 align-items-center"},Ll={class:"col-6 col-lg-4"},Ml={class:"value d-flex align-items-center gap-2"},jl={class:"mb-0"},Nl={class:"col-6 col-lg-4"},Rl={class:"value price"},Fl={class:"mb-0"},Bl={key:0,class:"text-muted ms-2 text-decoration-line-through"},_l={class:"col-6 col-lg-4"},zl={class:"value d-flex align-items-center gap-2"},Gl={class:"mb-0"},Hl={key:0,class:"badge bg-danger"},Kl={key:1,class:"badge bg-warning text-dark"},Wl={class:"col-6 col-lg-4"},Xl={class:"value"},Yl={class:"mb-0"},Jl={class:"variant-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Ql=["onClick"],Zl=["onClick"],ql={key:0,class:"text-muted mt-4 ms-2"},ea={class:"d-flex justify-content-end small text-muted px-1"},ta={class:"ms-1 fw-semibold"},ra={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]},currency:{type:String,default:"грн"},sizePresets:{type:Array,default:()=>["35-36","36-37","37-38","38-39","40-41"]},colorPresets:{type:Array,default:()=>["Чорний","Білий","Бежевий","Сірий","Червоний","Синій"]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=et({size:"",color:"",price_override:null,old_price:null,quantity:null}),s=he(i.modelValue.map((x,w)=>({...x,_id:w+1})));let t=s.value.length;const l=he(null),a=he(""),d=Ze(()=>i.sizePresets),f=Ze(()=>i.colorPresets);st(s,x=>{u("update:modelValue",x.map(({_id:w,...U})=>U))},{deep:!0});const c=Ze(()=>!!(n.size&&n.price_override!==null&&n.price_override>=0&&n.quantity!==null&&n.quantity>=0)),m=Ze(()=>s.value.reduce((x,w)=>x+(Number(w.quantity)||0),0));function p(x){const w=Number(x);return Number.isNaN(w)?x:new Intl.NumberFormat("uk-UA").format(w)+" "+i.currency}function v(){n.size="",n.color="",n.price_override=null,n.old_price=null,n.quantity=null,a.value=""}function b(x,w,U=null){const $=(x||"").toLowerCase()+"|"+(w||"").toLowerCase();return s.value.some((S,k)=>(S.size||"").toLowerCase()+"|"+(S.color||"").toLowerCase()===$&&k!==U)}function E(){if(a.value="",!c.value){a.value="Заповніть обовʼязкові поля (розмір, ціна, кількість).";return}if(b(n.size,n.color)){a.value="Такий варіант уже існує (комбінація розмір + колір).";return}s.value.push({_id:++t,size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price!==null&&n.old_price!==""?Number(n.old_price):null,quantity:Number(n.quantity)}),v()}function C(x){l.value=x;const w=s.value[x];n.size=w.size,n.color=w.color,n.price_override=w.price_override,n.old_price=w.old_price,n.quantity=w.quantity,a.value=""}function O(){if(l.value!==null){if(!c.value){a.value="Заповніть обовʼязкові поля.";return}if(b(n.size,n.color,l.value)){a.value="Комбінація розмір + колір уже існує.";return}s.value[l.value]={...s.value[l.value],size:n.size,color:n.color,price_override:Number(n.price_override),old_price:n.old_price!==null&&n.old_price!==""?Number(n.old_price):null,quantity:Number(n.quantity)},l.value=null,v()}}function M(){l.value=null,v()}function P(x){confirm("Видалити цей варіант?")&&y(x)}function y(x){s.value.splice(x,1),l.value===x&&(l.value=null,v())}return(x,w)=>(g(),h("div",rl,[o("h5",nl,[w[5]||(w[5]=ae(" Варіанти товару ",-1)),s.value.length?(g(),h("span",ol,I(s.value.length),1)):V("",!0)]),o("div",il,[o("div",sl,[o("div",ll,[o("div",al,[w[6]||(w[6]=o("label",{class:"form-label mb-1"},"Розмір",-1)),R(o("input",{"onUpdate:modelValue":w[0]||(w[0]=U=>n.size=U),onKeydown:He(ie(E,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"36-37",list:"sizeOptions"},null,40,ul),[[B,n.size,void 0,{trim:!0}]]),o("datalist",dl,[(g(!0),h(ee,null,ve(d.value,U=>(g(),h("option",{key:U,value:U},null,8,cl))),128))])]),o("div",fl,[w[7]||(w[7]=o("label",{class:"form-label mb-1"},"Колір",-1)),R(o("input",{"onUpdate:modelValue":w[1]||(w[1]=U=>n.color=U),onKeydown:He(ie(E,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"Колір (наприклад, Чорний)",list:"colorOptions"},null,40,ml),[[B,n.color,void 0,{trim:!0}]]),o("datalist",pl,[(g(!0),h(ee,null,ve(f.value,U=>(g(),h("option",{key:U,value:U},null,8,vl))),128))])]),o("div",gl,[w[8]||(w[8]=o("label",{class:"form-label mb-1"},"Ціна",-1)),o("div",hl,[R(o("input",{"onUpdate:modelValue":w[2]||(w[2]=U=>n.price_override=U),onKeydown:He(ie(E,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Ціна"},null,40,bl),[[B,n.price_override,void 0,{number:!0}]]),o("span",yl,I(r.currency),1)])]),o("div",xl,[w[9]||(w[9]=o("label",{class:"form-label mb-1"},"Стара ціна (необов’язково)",-1)),o("div",Sl,[R(o("input",{"onUpdate:modelValue":w[3]||(w[3]=U=>n.old_price=U),onKeydown:He(ie(E,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Стара ціна"},null,40,wl),[[B,n.old_price,void 0,{number:!0}]]),o("span",El,I(r.currency),1)])]),o("div",Ol,[w[10]||(w[10]=o("label",{class:"form-label mb-1"},"Кількість",-1)),R(o("input",{"onUpdate:modelValue":w[4]||(w[4]=U=>n.quantity=U),onKeydown:He(ie(E,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Кількість"},null,40,kl),[[B,n.quantity,void 0,{number:!0}]])]),a.value?(g(),h("div",Cl,[w[11]||(w[11]=o("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),ae(I(a.value),1)])):V("",!0),o("div",$l,[l.value===null?(g(),h("button",{key:0,class:"btn btn-primary d-flex align-items-center justify-content-center gap-2",disabled:!c.value,onClick:E},w[12]||(w[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Додати варіант ",-1)]),8,Il)):(g(),h("div",Pl,[o("button",{class:"btn btn-success d-flex align-items-center justify-content-center gap-2",disabled:!c.value,onClick:O},w[13]||(w[13]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Зберегти зміни ",-1)]),8,Tl),o("button",{class:"btn btn-outline-secondary",onClick:M},"Скасувати")]))])])]),o("div",Al,[o("div",Dl,[Q(Xr,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-0"},{default:Be(()=>[(g(!0),h(ee,null,ve(s.value,(U,$)=>(g(),h("div",{key:U._id,class:"variant-card shadow-sm rounded-4 px-3 py-3 bg-white d-flex align-items-center position-relative"},[o("div",Ul,[o("div",Vl,[o("div",Ll,[w[14]||(w[14]=o("div",{class:"label"},"Розмір",-1)),o("div",Ml,[o("h6",jl,I(U.size),1)])]),o("div",Nl,[w[15]||(w[15]=o("div",{class:"label"},"Ціна",-1)),o("div",Rl,[o("h6",Fl,I(p(U.price_override)),1),U.old_price?(g(),h("small",Bl,I(p(U.old_price)),1)):V("",!0)])]),o("div",_l,[w[16]||(w[16]=o("div",{class:"label"},"Кількість",-1)),o("div",zl,[o("h6",Gl,I(U.quantity)+" шт",1),U.quantity===0?(g(),h("span",Hl,"Немає")):U.quantity>0&&U.quantity<5?(g(),h("span",Kl,"Мало")):V("",!0)])]),o("div",Wl,[w[17]||(w[17]=o("div",{class:"label"},"Колір",-1)),o("div",Xl,[o("h6",Yl,I(U.color||"—"),1)])])])]),o("div",Jl,[o("button",{class:"btn-action btn-edit",title:"Редагувати",onClick:S=>C($)},w[18]||(w[18]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Ql),o("button",{class:"btn-action btn-remove",title:"Видалити",onClick:S=>P($)},w[19]||(w[19]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Zl)])]))),128))]),_:1}),s.value.length?V("",!0):(g(),h("div",ql,"Ще не додано жодного варіанта"))]),o("div",ea,[w[20]||(w[20]=ae(" Загалом: ",-1)),o("span",ta,I(m.value),1),w[21]||(w[21]=ae(" шт ",-1))])])])]))}},na=se(ra,[["__scopeId","data-v-20369826"]]);function oa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function $n(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var i=function u(){return this instanceof u?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(u){var n=Object.getOwnPropertyDescriptor(r,u);Object.defineProperty(i,u,n.get?n:{enumerable:!0,get:function(){return r[u]}})}),i}var br={exports:{}};const ia=$n(Pn),sa=$n(No);var la=br.exports,fn;function aa(){return fn||(fn=1,function(r,e){(function(u,n){r.exports=n(ia,sa)})(typeof self<"u"?self:la,function(i,u){return function(n){var s={};function t(l){if(s[l])return s[l].exports;var a=s[l]={i:l,l:!1,exports:{}};return n[l].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=n,t.c=s,t.d=function(l,a,d){t.o(l,a)||Object.defineProperty(l,a,{enumerable:!0,get:d})},t.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},t.t=function(l,a){if(a&1&&(l=t(l)),a&8||a&4&&typeof l=="object"&&l&&l.__esModule)return l;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:l}),a&2&&typeof l!="string")for(var f in l)t.d(d,f,(function(c){return l[c]}).bind(null,f));return d},t.n=function(l){var a=l&&l.__esModule?function(){return l.default}:function(){return l};return t.d(a,"a",a),a},t.o=function(l,a){return Object.prototype.hasOwnProperty.call(l,a)},t.p="",t(t.s="fb15")}({"00ee":function(n,s,t){var l=t("b622"),a=l("toStringTag"),d={};d[a]="z",n.exports=String(d)==="[object z]"},"0366":function(n,s,t){var l=t("1c0b");n.exports=function(a,d,f){if(l(a),d===void 0)return a;switch(f){case 0:return function(){return a.call(d)};case 1:return function(c){return a.call(d,c)};case 2:return function(c,m){return a.call(d,c,m)};case 3:return function(c,m,p){return a.call(d,c,m,p)}}return function(){return a.apply(d,arguments)}}},"057f":function(n,s,t){var l=t("fc6a"),a=t("241c").f,d={}.toString,f=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(m){try{return a(m)}catch{return f.slice()}};n.exports.f=function(p){return f&&d.call(p)=="[object Window]"?c(p):a(l(p))}},"06cf":function(n,s,t){var l=t("83ab"),a=t("d1e7"),d=t("5c6c"),f=t("fc6a"),c=t("c04e"),m=t("5135"),p=t("0cfb"),v=Object.getOwnPropertyDescriptor;s.f=l?v:function(E,C){if(E=f(E),C=c(C,!0),p)try{return v(E,C)}catch{}if(m(E,C))return d(!a.f.call(E,C),E[C])}},"0cfb":function(n,s,t){var l=t("83ab"),a=t("d039"),d=t("cc12");n.exports=!l&&!a(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(n,s,t){var l=t("23e7"),a=t("d58f").left,d=t("a640"),f=t("ae40"),c=d("reduce"),m=f("reduce",{1:0});l({target:"Array",proto:!0,forced:!c||!m},{reduce:function(v){return a(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(n,s,t){var l=t("c6b6"),a=t("9263");n.exports=function(d,f){var c=d.exec;if(typeof c=="function"){var m=c.call(d,f);if(typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(l(d)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(d,f)}},"159b":function(n,s,t){var l=t("da84"),a=t("fdbc"),d=t("17c2"),f=t("9112");for(var c in a){var m=l[c],p=m&&m.prototype;if(p&&p.forEach!==d)try{f(p,"forEach",d)}catch{p.forEach=d}}},"17c2":function(n,s,t){var l=t("b727").forEach,a=t("a640"),d=t("ae40"),f=a("forEach"),c=d("forEach");n.exports=!f||!c?function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(n,s,t){var l=t("d066");n.exports=l("document","documentElement")},"1c0b":function(n,s){n.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(n,s,t){var l=t("b622"),a=l("iterator"),d=!1;try{var f=0,c={next:function(){return{done:!!f++}},return:function(){d=!0}};c[a]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(m,p){if(!p&&!d)return!1;var v=!1;try{var b={};b[a]=function(){return{next:function(){return{done:v=!0}}}},m(b)}catch{}return v}},"1d80":function(n,s){n.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(n,s,t){var l=t("d039"),a=t("b622"),d=t("2d00"),f=a("species");n.exports=function(c){return d>=51||!l(function(){var m=[],p=m.constructor={};return p[f]=function(){return{foo:1}},m[c](Boolean).foo!==1})}},"23cb":function(n,s,t){var l=t("a691"),a=Math.max,d=Math.min;n.exports=function(f,c){var m=l(f);return m<0?a(m+c,0):d(m,c)}},"23e7":function(n,s,t){var l=t("da84"),a=t("06cf").f,d=t("9112"),f=t("6eeb"),c=t("ce4e"),m=t("e893"),p=t("94ca");n.exports=function(v,b){var E=v.target,C=v.global,O=v.stat,M,P,y,x,w,U;if(C?P=l:O?P=l[E]||c(E,{}):P=(l[E]||{}).prototype,P)for(y in b){if(w=b[y],v.noTargetGet?(U=a(P,y),x=U&&U.value):x=P[y],M=p(C?y:E+(O?".":"#")+y,v.forced),!M&&x!==void 0){if(typeof w==typeof x)continue;m(w,x)}(v.sham||x&&x.sham)&&d(w,"sham",!0),f(P,y,w,v)}}},"241c":function(n,s,t){var l=t("ca84"),a=t("7839"),d=a.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return l(c,d)}},"25f0":function(n,s,t){var l=t("6eeb"),a=t("825a"),d=t("d039"),f=t("ad6d"),c="toString",m=RegExp.prototype,p=m[c],v=d(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),b=p.name!=c;(v||b)&&l(RegExp.prototype,c,function(){var C=a(this),O=String(C.source),M=C.flags,P=String(M===void 0&&C instanceof RegExp&&!("flags"in m)?f.call(C):M);return"/"+O+"/"+P},{unsafe:!0})},"2ca0":function(n,s,t){var l=t("23e7"),a=t("06cf").f,d=t("50c4"),f=t("5a34"),c=t("1d80"),m=t("ab13"),p=t("c430"),v="".startsWith,b=Math.min,E=m("startsWith"),C=!p&&!E&&!!function(){var O=a(String.prototype,"startsWith");return O&&!O.writable}();l({target:"String",proto:!0,forced:!C&&!E},{startsWith:function(M){var P=String(c(this));f(M);var y=d(b(arguments.length>1?arguments[1]:void 0,P.length)),x=String(M);return v?v.call(P,x,y):P.slice(y,y+x.length)===x}})},"2d00":function(n,s,t){var l=t("da84"),a=t("342f"),d=l.process,f=d&&d.versions,c=f&&f.v8,m,p;c?(m=c.split("."),p=m[0]+m[1]):a&&(m=a.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=a.match(/Chrome\/(\d+)/),m&&(p=m[1]))),n.exports=p&&+p},"342f":function(n,s,t){var l=t("d066");n.exports=l("navigator","userAgent")||""},"35a1":function(n,s,t){var l=t("f5df"),a=t("3f8c"),d=t("b622"),f=d("iterator");n.exports=function(c){if(c!=null)return c[f]||c["@@iterator"]||a[l(c)]}},"37e8":function(n,s,t){var l=t("83ab"),a=t("9bf2"),d=t("825a"),f=t("df75");n.exports=l?Object.defineProperties:function(m,p){d(m);for(var v=f(p),b=v.length,E=0,C;b>E;)a.f(m,C=v[E++],p[C]);return m}},"3bbe":function(n,s,t){var l=t("861d");n.exports=function(a){if(!l(a)&&a!==null)throw TypeError("Can't set "+String(a)+" as a prototype");return a}},"3ca3":function(n,s,t){var l=t("6547").charAt,a=t("69f3"),d=t("7dd0"),f="String Iterator",c=a.set,m=a.getterFor(f);d(String,"String",function(p){c(this,{type:f,string:String(p),index:0})},function(){var v=m(this),b=v.string,E=v.index,C;return E>=b.length?{value:void 0,done:!0}:(C=l(b,E),v.index+=C.length,{value:C,done:!1})})},"3f8c":function(n,s){n.exports={}},4160:function(n,s,t){var l=t("23e7"),a=t("17c2");l({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"428f":function(n,s,t){var l=t("da84");n.exports=l},"44ad":function(n,s,t){var l=t("d039"),a=t("c6b6"),d="".split;n.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(f){return a(f)=="String"?d.call(f,""):Object(f)}:Object},"44d2":function(n,s,t){var l=t("b622"),a=t("7c73"),d=t("9bf2"),f=l("unscopables"),c=Array.prototype;c[f]==null&&d.f(c,f,{configurable:!0,value:a(null)}),n.exports=function(m){c[f][m]=!0}},"44e7":function(n,s,t){var l=t("861d"),a=t("c6b6"),d=t("b622"),f=d("match");n.exports=function(c){var m;return l(c)&&((m=c[f])!==void 0?!!m:a(c)=="RegExp")}},4930:function(n,s,t){var l=t("d039");n.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!String(Symbol())})},"4d64":function(n,s,t){var l=t("fc6a"),a=t("50c4"),d=t("23cb"),f=function(c){return function(m,p,v){var b=l(m),E=a(b.length),C=d(v,E),O;if(c&&p!=p){for(;E>C;)if(O=b[C++],O!=O)return!0}else for(;E>C;C++)if((c||C in b)&&b[C]===p)return c||C||0;return!c&&-1}};n.exports={includes:f(!0),indexOf:f(!1)}},"4de4":function(n,s,t){var l=t("23e7"),a=t("b727").filter,d=t("1dde"),f=t("ae40"),c=d("filter"),m=f("filter");l({target:"Array",proto:!0,forced:!c||!m},{filter:function(v){return a(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(n,s,t){var l=t("0366"),a=t("7b0b"),d=t("9bdd"),f=t("e95a"),c=t("50c4"),m=t("8418"),p=t("35a1");n.exports=function(b){var E=a(b),C=typeof this=="function"?this:Array,O=arguments.length,M=O>1?arguments[1]:void 0,P=M!==void 0,y=p(E),x=0,w,U,$,S,k,D;if(P&&(M=l(M,O>2?arguments[2]:void 0,2)),y!=null&&!(C==Array&&f(y)))for(S=y.call(E),k=S.next,U=new C;!($=k.call(S)).done;x++)D=P?d(S,M,[$.value,x],!0):$.value,m(U,x,D);else for(w=c(E.length),U=new C(w);w>x;x++)D=P?M(E[x],x):E[x],m(U,x,D);return U.length=x,U}},"4fad":function(n,s,t){var l=t("23e7"),a=t("6f53").entries;l({target:"Object",stat:!0},{entries:function(f){return a(f)}})},"50c4":function(n,s,t){var l=t("a691"),a=Math.min;n.exports=function(d){return d>0?a(l(d),9007199254740991):0}},5135:function(n,s){var t={}.hasOwnProperty;n.exports=function(l,a){return t.call(l,a)}},5319:function(n,s,t){var l=t("d784"),a=t("825a"),d=t("7b0b"),f=t("50c4"),c=t("a691"),m=t("1d80"),p=t("8aa5"),v=t("14c3"),b=Math.max,E=Math.min,C=Math.floor,O=/\$([$&'`]|\d\d?|<[^>]*>)/g,M=/\$([$&'`]|\d\d?)/g,P=function(y){return y===void 0?y:String(y)};l("replace",2,function(y,x,w,U){var $=U.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=U.REPLACE_KEEPS_$0,k=$?"$":"$0";return[function(N,te){var z=m(this),X=N==null?void 0:N[y];return X!==void 0?X.call(N,z,te):x.call(String(z),N,te)},function(j,N){if(!$&&S||typeof N=="string"&&N.indexOf(k)===-1){var te=w(x,j,this,N);if(te.done)return te.value}var z=a(j),X=String(this),me=typeof N=="function";me||(N=String(N));var ye=z.global;if(ye){var Le=z.unicode;z.lastIndex=0}for(var ke=[];;){var Ce=v(z,X);if(Ce===null||(ke.push(Ce),!ye))break;var Ue=String(Ce[0]);Ue===""&&(z.lastIndex=p(X,f(z.lastIndex),Le))}for(var Ve="",Ae=0,xe=0;xe<ke.length;xe++){Ce=ke[xe];for(var Ee=String(Ce[0]),Ye=b(E(c(Ce.index),X.length),0),_e=[],mt=1;mt<Ce.length;mt++)_e.push(P(Ce[mt]));var xt=Ce.groups;if(me){var pt=[Ee].concat(_e,Ye,X);xt!==void 0&&pt.push(xt);var Me=String(N.apply(void 0,pt))}else Me=D(Ee,X,Ye,_e,xt,N);Ye>=Ae&&(Ve+=X.slice(Ae,Ye)+Me,Ae=Ye+Ee.length)}return Ve+X.slice(Ae)}];function D(j,N,te,z,X,me){var ye=te+j.length,Le=z.length,ke=M;return X!==void 0&&(X=d(X),ke=O),x.call(me,ke,function(Ce,Ue){var Ve;switch(Ue.charAt(0)){case"$":return"$";case"&":return j;case"`":return N.slice(0,te);case"'":return N.slice(ye);case"<":Ve=X[Ue.slice(1,-1)];break;default:var Ae=+Ue;if(Ae===0)return Ce;if(Ae>Le){var xe=C(Ae/10);return xe===0?Ce:xe<=Le?z[xe-1]===void 0?Ue.charAt(1):z[xe-1]+Ue.charAt(1):Ce}Ve=z[Ae-1]}return Ve===void 0?"":Ve})}})},5692:function(n,s,t){var l=t("c430"),a=t("c6cd");(n.exports=function(d,f){return a[d]||(a[d]=f!==void 0?f:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(n,s,t){var l=t("d066"),a=t("241c"),d=t("7418"),f=t("825a");n.exports=l("Reflect","ownKeys")||function(m){var p=a.f(f(m)),v=d.f;return v?p.concat(v(m)):p}},"5a34":function(n,s,t){var l=t("44e7");n.exports=function(a){if(l(a))throw TypeError("The method doesn't accept regular expressions");return a}},"5c6c":function(n,s){n.exports=function(t,l){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:l}}},"5db7":function(n,s,t){var l=t("23e7"),a=t("a2bf"),d=t("7b0b"),f=t("50c4"),c=t("1c0b"),m=t("65f0");l({target:"Array",proto:!0},{flatMap:function(v){var b=d(this),E=f(b.length),C;return c(v),C=m(b,0),C.length=a(C,b,b,E,0,1,v,arguments.length>1?arguments[1]:void 0),C}})},6547:function(n,s,t){var l=t("a691"),a=t("1d80"),d=function(f){return function(c,m){var p=String(a(c)),v=l(m),b=p.length,E,C;return v<0||v>=b?f?"":void 0:(E=p.charCodeAt(v),E<55296||E>56319||v+1===b||(C=p.charCodeAt(v+1))<56320||C>57343?f?p.charAt(v):E:f?p.slice(v,v+2):(E-55296<<10)+(C-56320)+65536)}};n.exports={codeAt:d(!1),charAt:d(!0)}},"65f0":function(n,s,t){var l=t("861d"),a=t("e8b5"),d=t("b622"),f=d("species");n.exports=function(c,m){var p;return a(c)&&(p=c.constructor,typeof p=="function"&&(p===Array||a(p.prototype))?p=void 0:l(p)&&(p=p[f],p===null&&(p=void 0))),new(p===void 0?Array:p)(m===0?0:m)}},"69f3":function(n,s,t){var l=t("7f9a"),a=t("da84"),d=t("861d"),f=t("9112"),c=t("5135"),m=t("f772"),p=t("d012"),v=a.WeakMap,b,E,C,O=function($){return C($)?E($):b($,{})},M=function($){return function(S){var k;if(!d(S)||(k=E(S)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return k}};if(l){var P=new v,y=P.get,x=P.has,w=P.set;b=function($,S){return w.call(P,$,S),S},E=function($){return y.call(P,$)||{}},C=function($){return x.call(P,$)}}else{var U=m("state");p[U]=!0,b=function($,S){return f($,U,S),S},E=function($){return c($,U)?$[U]:{}},C=function($){return c($,U)}}n.exports={set:b,get:E,has:C,enforce:O,getterFor:M}},"6eeb":function(n,s,t){var l=t("da84"),a=t("9112"),d=t("5135"),f=t("ce4e"),c=t("8925"),m=t("69f3"),p=m.get,v=m.enforce,b=String(String).split("String");(n.exports=function(E,C,O,M){var P=M?!!M.unsafe:!1,y=M?!!M.enumerable:!1,x=M?!!M.noTargetGet:!1;if(typeof O=="function"&&(typeof C=="string"&&!d(O,"name")&&a(O,"name",C),v(O).source=b.join(typeof C=="string"?C:"")),E===l){y?E[C]=O:f(C,O);return}else P?!x&&E[C]&&(y=!0):delete E[C];y?E[C]=O:a(E,C,O)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||c(this)})},"6f53":function(n,s,t){var l=t("83ab"),a=t("df75"),d=t("fc6a"),f=t("d1e7").f,c=function(m){return function(p){for(var v=d(p),b=a(v),E=b.length,C=0,O=[],M;E>C;)M=b[C++],(!l||f.call(v,M))&&O.push(m?[M,v[M]]:v[M]);return O}};n.exports={entries:c(!0),values:c(!1)}},"73d9":function(n,s,t){var l=t("44d2");l("flatMap")},7418:function(n,s){s.f=Object.getOwnPropertySymbols},"746f":function(n,s,t){var l=t("428f"),a=t("5135"),d=t("e538"),f=t("9bf2").f;n.exports=function(c){var m=l.Symbol||(l.Symbol={});a(m,c)||f(m,c,{value:d.f(c)})}},7839:function(n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(n,s,t){var l=t("1d80");n.exports=function(a){return Object(l(a))}},"7c73":function(n,s,t){var l=t("825a"),a=t("37e8"),d=t("7839"),f=t("d012"),c=t("1be4"),m=t("cc12"),p=t("f772"),v=">",b="<",E="prototype",C="script",O=p("IE_PROTO"),M=function(){},P=function($){return b+C+v+$+b+"/"+C+v},y=function($){$.write(P("")),$.close();var S=$.parentWindow.Object;return $=null,S},x=function(){var $=m("iframe"),S="java"+C+":",k;return $.style.display="none",c.appendChild($),$.src=String(S),k=$.contentWindow.document,k.open(),k.write(P("document.F=Object")),k.close(),k.F},w,U=function(){try{w=document.domain&&new ActiveXObject("htmlfile")}catch{}U=w?y(w):x();for(var $=d.length;$--;)delete U[E][d[$]];return U()};f[O]=!0,n.exports=Object.create||function(S,k){var D;return S!==null?(M[E]=l(S),D=new M,M[E]=null,D[O]=S):D=U(),k===void 0?D:a(D,k)}},"7dd0":function(n,s,t){var l=t("23e7"),a=t("9ed3"),d=t("e163"),f=t("d2bb"),c=t("d44e"),m=t("9112"),p=t("6eeb"),v=t("b622"),b=t("c430"),E=t("3f8c"),C=t("ae93"),O=C.IteratorPrototype,M=C.BUGGY_SAFARI_ITERATORS,P=v("iterator"),y="keys",x="values",w="entries",U=function(){return this};n.exports=function($,S,k,D,j,N,te){a(k,S,D);var z=function(xe){if(xe===j&&ke)return ke;if(!M&&xe in ye)return ye[xe];switch(xe){case y:return function(){return new k(this,xe)};case x:return function(){return new k(this,xe)};case w:return function(){return new k(this,xe)}}return function(){return new k(this)}},X=S+" Iterator",me=!1,ye=$.prototype,Le=ye[P]||ye["@@iterator"]||j&&ye[j],ke=!M&&Le||z(j),Ce=S=="Array"&&ye.entries||Le,Ue,Ve,Ae;if(Ce&&(Ue=d(Ce.call(new $)),O!==Object.prototype&&Ue.next&&(!b&&d(Ue)!==O&&(f?f(Ue,O):typeof Ue[P]!="function"&&m(Ue,P,U)),c(Ue,X,!0,!0),b&&(E[X]=U))),j==x&&Le&&Le.name!==x&&(me=!0,ke=function(){return Le.call(this)}),(!b||te)&&ye[P]!==ke&&m(ye,P,ke),E[S]=ke,j)if(Ve={values:z(x),keys:N?ke:z(y),entries:z(w)},te)for(Ae in Ve)(M||me||!(Ae in ye))&&p(ye,Ae,Ve[Ae]);else l({target:S,proto:!0,forced:M||me},Ve);return Ve}},"7f9a":function(n,s,t){var l=t("da84"),a=t("8925"),d=l.WeakMap;n.exports=typeof d=="function"&&/native code/.test(a(d))},"825a":function(n,s,t){var l=t("861d");n.exports=function(a){if(!l(a))throw TypeError(String(a)+" is not an object");return a}},"83ab":function(n,s,t){var l=t("d039");n.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(n,s,t){var l=t("c04e"),a=t("9bf2"),d=t("5c6c");n.exports=function(f,c,m){var p=l(c);p in f?a.f(f,p,d(0,m)):f[p]=m}},"861d":function(n,s){n.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(n,s,t){var l,a,d;(function(f,c){a=[],l=c,d=typeof l=="function"?l.apply(s,a):l,d!==void 0&&(n.exports=d)})(typeof self<"u"?self:this,function(){function f(){var c=Object.getOwnPropertyDescriptor(document,"currentScript");if(!c&&"currentScript"in document&&document.currentScript||c&&c.get!==f&&document.currentScript)return document.currentScript;try{throw new Error}catch(w){var m=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,v=m.exec(w.stack)||p.exec(w.stack),b=v&&v[1]||!1,E=v&&v[2]||!1,C=document.location.href.replace(document.location.hash,""),O,M,P,y=document.getElementsByTagName("script");b===C&&(O=document.documentElement.outerHTML,M=new RegExp("(?:[^\\n]+?\\n){0,"+(E-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),P=O.replace(M,"$1").trim());for(var x=0;x<y.length;x++)if(y[x].readyState==="interactive"||y[x].src===b||b===C&&y[x].innerHTML&&y[x].innerHTML.trim()===P)return y[x];return null}}return f})},8925:function(n,s,t){var l=t("c6cd"),a=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(d){return a.call(d)}),n.exports=l.inspectSource},"8aa5":function(n,s,t){var l=t("6547").charAt;n.exports=function(a,d,f){return d+(f?l(a,d).length:1)}},"8bbf":function(n,s){n.exports=i},"90e3":function(n,s){var t=0,l=Math.random();n.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++t+l).toString(36)}},9112:function(n,s,t){var l=t("83ab"),a=t("9bf2"),d=t("5c6c");n.exports=l?function(f,c,m){return a.f(f,c,d(1,m))}:function(f,c,m){return f[c]=m,f}},9263:function(n,s,t){var l=t("ad6d"),a=t("9f7f"),d=RegExp.prototype.exec,f=String.prototype.replace,c=d,m=function(){var E=/a/,C=/b*/g;return d.call(E,"a"),d.call(C,"a"),E.lastIndex!==0||C.lastIndex!==0}(),p=a.UNSUPPORTED_Y||a.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,b=m||v||p;b&&(c=function(C){var O=this,M,P,y,x,w=p&&O.sticky,U=l.call(O),$=O.source,S=0,k=C;return w&&(U=U.replace("y",""),U.indexOf("g")===-1&&(U+="g"),k=String(C).slice(O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&C[O.lastIndex-1]!==`
`)&&($="(?: "+$+")",k=" "+k,S++),P=new RegExp("^(?:"+$+")",U)),v&&(P=new RegExp("^"+$+"$(?!\\s)",U)),m&&(M=O.lastIndex),y=d.call(w?P:O,k),w?y?(y.input=y.input.slice(S),y[0]=y[0].slice(S),y.index=O.lastIndex,O.lastIndex+=y[0].length):O.lastIndex=0:m&&y&&(O.lastIndex=O.global?y.index+y[0].length:M),v&&y&&y.length>1&&f.call(y[0],P,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(y[x]=void 0)}),y}),n.exports=c},"94ca":function(n,s,t){var l=t("d039"),a=/#|\.prototype\./,d=function(v,b){var E=c[f(v)];return E==p?!0:E==m?!1:typeof b=="function"?l(b):!!b},f=d.normalize=function(v){return String(v).replace(a,".").toLowerCase()},c=d.data={},m=d.NATIVE="N",p=d.POLYFILL="P";n.exports=d},"99af":function(n,s,t){var l=t("23e7"),a=t("d039"),d=t("e8b5"),f=t("861d"),c=t("7b0b"),m=t("50c4"),p=t("8418"),v=t("65f0"),b=t("1dde"),E=t("b622"),C=t("2d00"),O=E("isConcatSpreadable"),M=9007199254740991,P="Maximum allowed index exceeded",y=C>=51||!a(function(){var $=[];return $[O]=!1,$.concat()[0]!==$}),x=b("concat"),w=function($){if(!f($))return!1;var S=$[O];return S!==void 0?!!S:d($)},U=!y||!x;l({target:"Array",proto:!0,forced:U},{concat:function(S){var k=c(this),D=v(k,0),j=0,N,te,z,X,me;for(N=-1,z=arguments.length;N<z;N++)if(me=N===-1?k:arguments[N],w(me)){if(X=m(me.length),j+X>M)throw TypeError(P);for(te=0;te<X;te++,j++)te in me&&p(D,j,me[te])}else{if(j>=M)throw TypeError(P);p(D,j++,me)}return D.length=j,D}})},"9bdd":function(n,s,t){var l=t("825a");n.exports=function(a,d,f,c){try{return c?d(l(f)[0],f[1]):d(f)}catch(p){var m=a.return;throw m!==void 0&&l(m.call(a)),p}}},"9bf2":function(n,s,t){var l=t("83ab"),a=t("0cfb"),d=t("825a"),f=t("c04e"),c=Object.defineProperty;s.f=l?c:function(p,v,b){if(d(p),v=f(v,!0),d(b),a)try{return c(p,v,b)}catch{}if("get"in b||"set"in b)throw TypeError("Accessors not supported");return"value"in b&&(p[v]=b.value),p}},"9ed3":function(n,s,t){var l=t("ae93").IteratorPrototype,a=t("7c73"),d=t("5c6c"),f=t("d44e"),c=t("3f8c"),m=function(){return this};n.exports=function(p,v,b){var E=v+" Iterator";return p.prototype=a(l,{next:d(1,b)}),f(p,E,!1,!0),c[E]=m,p}},"9f7f":function(n,s,t){var l=t("d039");function a(d,f){return RegExp(d,f)}s.UNSUPPORTED_Y=l(function(){var d=a("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),s.BROKEN_CARET=l(function(){var d=a("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},a2bf:function(n,s,t){var l=t("e8b5"),a=t("50c4"),d=t("0366"),f=function(c,m,p,v,b,E,C,O){for(var M=b,P=0,y=C?d(C,O,3):!1,x;P<v;){if(P in p){if(x=y?y(p[P],P,m):p[P],E>0&&l(x))M=f(c,m,x,a(x.length),M,E-1)-1;else{if(M>=9007199254740991)throw TypeError("Exceed the acceptable array length");c[M]=x}M++}P++}return M};n.exports=f},a352:function(n,s){n.exports=u},a434:function(n,s,t){var l=t("23e7"),a=t("23cb"),d=t("a691"),f=t("50c4"),c=t("7b0b"),m=t("65f0"),p=t("8418"),v=t("1dde"),b=t("ae40"),E=v("splice"),C=b("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,M=Math.min,P=9007199254740991,y="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!E||!C},{splice:function(w,U){var $=c(this),S=f($.length),k=a(w,S),D=arguments.length,j,N,te,z,X,me;if(D===0?j=N=0:D===1?(j=0,N=S-k):(j=D-2,N=M(O(d(U),0),S-k)),S+j-N>P)throw TypeError(y);for(te=m($,N),z=0;z<N;z++)X=k+z,X in $&&p(te,z,$[X]);if(te.length=N,j<N){for(z=k;z<S-N;z++)X=z+N,me=z+j,X in $?$[me]=$[X]:delete $[me];for(z=S;z>S-N+j;z--)delete $[z-1]}else if(j>N)for(z=S-N;z>k;z--)X=z+N-1,me=z+j-1,X in $?$[me]=$[X]:delete $[me];for(z=0;z<j;z++)$[z+k]=arguments[z+2];return $.length=S-N+j,te}})},a4d3:function(n,s,t){var l=t("23e7"),a=t("da84"),d=t("d066"),f=t("c430"),c=t("83ab"),m=t("4930"),p=t("fdbf"),v=t("d039"),b=t("5135"),E=t("e8b5"),C=t("861d"),O=t("825a"),M=t("7b0b"),P=t("fc6a"),y=t("c04e"),x=t("5c6c"),w=t("7c73"),U=t("df75"),$=t("241c"),S=t("057f"),k=t("7418"),D=t("06cf"),j=t("9bf2"),N=t("d1e7"),te=t("9112"),z=t("6eeb"),X=t("5692"),me=t("f772"),ye=t("d012"),Le=t("90e3"),ke=t("b622"),Ce=t("e538"),Ue=t("746f"),Ve=t("d44e"),Ae=t("69f3"),xe=t("b727").forEach,Ee=me("hidden"),Ye="Symbol",_e="prototype",mt=ke("toPrimitive"),xt=Ae.set,pt=Ae.getterFor(Ye),Me=Object[_e],je=a.Symbol,St=d("JSON","stringify"),lt=D.f,at=j.f,nr=S.f,Ir=N.f,rt=X("symbols"),vt=X("op-symbols"),$t=X("string-to-symbol-registry"),Mt=X("symbol-to-string-registry"),jt=X("wks"),Nt=a.QObject,Rt=!Nt||!Nt[_e]||!Nt[_e].findChild,Ft=c&&v(function(){return w(at({},"a",{get:function(){return at(this,"a",{value:7}).a}})).a!=7})?function(q,K,J){var de=lt(Me,K);de&&delete Me[K],at(q,K,J),de&&q!==Me&&at(Me,K,de)}:at,Bt=function(q,K){var J=rt[q]=w(je[_e]);return xt(J,{type:Ye,tag:q,description:K}),c||(J.description=K),J},A=p?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof je},T=function(K,J,de){K===Me&&T(vt,J,de),O(K);var fe=y(J,!0);return O(de),b(rt,fe)?(de.enumerable?(b(K,Ee)&&K[Ee][fe]&&(K[Ee][fe]=!1),de=w(de,{enumerable:x(0,!1)})):(b(K,Ee)||at(K,Ee,x(1,{})),K[Ee][fe]=!0),Ft(K,fe,de)):at(K,fe,de)},L=function(K,J){O(K);var de=P(J),fe=U(de).concat(pe(de));return xe(fe,function(Ke){(!c||G.call(de,Ke))&&T(K,Ke,de[Ke])}),K},F=function(K,J){return J===void 0?w(K):L(w(K),J)},G=function(K){var J=y(K,!0),de=Ir.call(this,J);return this===Me&&b(rt,J)&&!b(vt,J)?!1:de||!b(this,J)||!b(rt,J)||b(this,Ee)&&this[Ee][J]?de:!0},Z=function(K,J){var de=P(K),fe=y(J,!0);if(!(de===Me&&b(rt,fe)&&!b(vt,fe))){var Ke=lt(de,fe);return Ke&&b(rt,fe)&&!(b(de,Ee)&&de[Ee][fe])&&(Ke.enumerable=!0),Ke}},oe=function(K){var J=nr(P(K)),de=[];return xe(J,function(fe){!b(rt,fe)&&!b(ye,fe)&&de.push(fe)}),de},pe=function(K){var J=K===Me,de=nr(J?vt:P(K)),fe=[];return xe(de,function(Ke){b(rt,Ke)&&(!J||b(Me,Ke))&&fe.push(rt[Ke])}),fe};if(m||(je=function(){if(this instanceof je)throw TypeError("Symbol is not a constructor");var K=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),J=Le(K),de=function(fe){this===Me&&de.call(vt,fe),b(this,Ee)&&b(this[Ee],J)&&(this[Ee][J]=!1),Ft(this,J,x(1,fe))};return c&&Rt&&Ft(Me,J,{configurable:!0,set:de}),Bt(J,K)},z(je[_e],"toString",function(){return pt(this).tag}),z(je,"withoutSetter",function(q){return Bt(Le(q),q)}),N.f=G,j.f=T,D.f=Z,$.f=S.f=oe,k.f=pe,Ce.f=function(q){return Bt(ke(q),q)},c&&(at(je[_e],"description",{configurable:!0,get:function(){return pt(this).description}}),f||z(Me,"propertyIsEnumerable",G,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:je}),xe(U(jt),function(q){Ue(q)}),l({target:Ye,stat:!0,forced:!m},{for:function(q){var K=String(q);if(b($t,K))return $t[K];var J=je(K);return $t[K]=J,Mt[J]=K,J},keyFor:function(K){if(!A(K))throw TypeError(K+" is not a symbol");if(b(Mt,K))return Mt[K]},useSetter:function(){Rt=!0},useSimple:function(){Rt=!1}}),l({target:"Object",stat:!0,forced:!m,sham:!c},{create:F,defineProperty:T,defineProperties:L,getOwnPropertyDescriptor:Z}),l({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:oe,getOwnPropertySymbols:pe}),l({target:"Object",stat:!0,forced:v(function(){k.f(1)})},{getOwnPropertySymbols:function(K){return k.f(M(K))}}),St){var Te=!m||v(function(){var q=je();return St([q])!="[null]"||St({a:q})!="{}"||St(Object(q))!="{}"});l({target:"JSON",stat:!0,forced:Te},{stringify:function(K,J,de){for(var fe=[K],Ke=1,Pr;arguments.length>Ke;)fe.push(arguments[Ke++]);if(Pr=J,!(!C(J)&&K===void 0||A(K)))return E(J)||(J=function(In,or){if(typeof Pr=="function"&&(or=Pr.call(this,In,or)),!A(or))return or}),fe[1]=J,St.apply(null,fe)}})}je[_e][mt]||te(je[_e],mt,je[_e].valueOf),Ve(je,Ye),ye[Ee]=!0},a630:function(n,s,t){var l=t("23e7"),a=t("4df4"),d=t("1c7e"),f=!d(function(c){Array.from(c)});l({target:"Array",stat:!0,forced:f},{from:a})},a640:function(n,s,t){var l=t("d039");n.exports=function(a,d){var f=[][a];return!!f&&l(function(){f.call(null,d||function(){throw 1},1)})}},a691:function(n,s){var t=Math.ceil,l=Math.floor;n.exports=function(a){return isNaN(a=+a)?0:(a>0?l:t)(a)}},ab13:function(n,s,t){var l=t("b622"),a=l("match");n.exports=function(d){var f=/./;try{"/./"[d](f)}catch{try{return f[a]=!1,"/./"[d](f)}catch{}}return!1}},ac1f:function(n,s,t){var l=t("23e7"),a=t("9263");l({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(n,s,t){var l=t("825a");n.exports=function(){var a=l(this),d="";return a.global&&(d+="g"),a.ignoreCase&&(d+="i"),a.multiline&&(d+="m"),a.dotAll&&(d+="s"),a.unicode&&(d+="u"),a.sticky&&(d+="y"),d}},ae40:function(n,s,t){var l=t("83ab"),a=t("d039"),d=t("5135"),f=Object.defineProperty,c={},m=function(p){throw p};n.exports=function(p,v){if(d(c,p))return c[p];v||(v={});var b=[][p],E=d(v,"ACCESSORS")?v.ACCESSORS:!1,C=d(v,0)?v[0]:m,O=d(v,1)?v[1]:void 0;return c[p]=!!b&&!a(function(){if(E&&!l)return!0;var M={length:-1};E?f(M,1,{enumerable:!0,get:m}):M[1]=1,b.call(M,C,O)})}},ae93:function(n,s,t){var l=t("e163"),a=t("9112"),d=t("5135"),f=t("b622"),c=t("c430"),m=f("iterator"),p=!1,v=function(){return this},b,E,C;[].keys&&(C=[].keys(),"next"in C?(E=l(l(C)),E!==Object.prototype&&(b=E)):p=!0),b==null&&(b={}),!c&&!d(b,m)&&a(b,m,v),n.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:p}},b041:function(n,s,t){var l=t("00ee"),a=t("f5df");n.exports=l?{}.toString:function(){return"[object "+a(this)+"]"}},b0c0:function(n,s,t){var l=t("83ab"),a=t("9bf2").f,d=Function.prototype,f=d.toString,c=/^\s*function ([^ (]*)/,m="name";l&&!(m in d)&&a(d,m,{configurable:!0,get:function(){try{return f.call(this).match(c)[1]}catch{return""}}})},b622:function(n,s,t){var l=t("da84"),a=t("5692"),d=t("5135"),f=t("90e3"),c=t("4930"),m=t("fdbf"),p=a("wks"),v=l.Symbol,b=m?v:v&&v.withoutSetter||f;n.exports=function(E){return d(p,E)||(c&&d(v,E)?p[E]=v[E]:p[E]=b("Symbol."+E)),p[E]}},b64b:function(n,s,t){var l=t("23e7"),a=t("7b0b"),d=t("df75"),f=t("d039"),c=f(function(){d(1)});l({target:"Object",stat:!0,forced:c},{keys:function(p){return d(a(p))}})},b727:function(n,s,t){var l=t("0366"),a=t("44ad"),d=t("7b0b"),f=t("50c4"),c=t("65f0"),m=[].push,p=function(v){var b=v==1,E=v==2,C=v==3,O=v==4,M=v==6,P=v==5||M;return function(y,x,w,U){for(var $=d(y),S=a($),k=l(x,w,3),D=f(S.length),j=0,N=U||c,te=b?N(y,D):E?N(y,0):void 0,z,X;D>j;j++)if((P||j in S)&&(z=S[j],X=k(z,j,$),v)){if(b)te[j]=X;else if(X)switch(v){case 3:return!0;case 5:return z;case 6:return j;case 2:m.call(te,z)}else if(O)return!1}return M?-1:C||O?O:te}};n.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(n,s,t){var l=t("861d");n.exports=function(a,d){if(!l(a))return a;var f,c;if(d&&typeof(f=a.toString)=="function"&&!l(c=f.call(a))||typeof(f=a.valueOf)=="function"&&!l(c=f.call(a))||!d&&typeof(f=a.toString)=="function"&&!l(c=f.call(a)))return c;throw TypeError("Can't convert object to primitive value")}},c430:function(n,s){n.exports=!1},c6b6:function(n,s){var t={}.toString;n.exports=function(l){return t.call(l).slice(8,-1)}},c6cd:function(n,s,t){var l=t("da84"),a=t("ce4e"),d="__core-js_shared__",f=l[d]||a(d,{});n.exports=f},c740:function(n,s,t){var l=t("23e7"),a=t("b727").findIndex,d=t("44d2"),f=t("ae40"),c="findIndex",m=!0,p=f(c);c in[]&&Array(1)[c](function(){m=!1}),l({target:"Array",proto:!0,forced:m||!p},{findIndex:function(b){return a(this,b,arguments.length>1?arguments[1]:void 0)}}),d(c)},c8ba:function(n,s){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}n.exports=t},c975:function(n,s,t){var l=t("23e7"),a=t("4d64").indexOf,d=t("a640"),f=t("ae40"),c=[].indexOf,m=!!c&&1/[1].indexOf(1,-0)<0,p=d("indexOf"),v=f("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:m||!p||!v},{indexOf:function(E){return m?c.apply(this,arguments)||0:a(this,E,arguments.length>1?arguments[1]:void 0)}})},ca84:function(n,s,t){var l=t("5135"),a=t("fc6a"),d=t("4d64").indexOf,f=t("d012");n.exports=function(c,m){var p=a(c),v=0,b=[],E;for(E in p)!l(f,E)&&l(p,E)&&b.push(E);for(;m.length>v;)l(p,E=m[v++])&&(~d(b,E)||b.push(E));return b}},caad:function(n,s,t){var l=t("23e7"),a=t("4d64").includes,d=t("44d2"),f=t("ae40"),c=f("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:!c},{includes:function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}}),d("includes")},cc12:function(n,s,t){var l=t("da84"),a=t("861d"),d=l.document,f=a(d)&&a(d.createElement);n.exports=function(c){return f?d.createElement(c):{}}},ce4e:function(n,s,t){var l=t("da84"),a=t("9112");n.exports=function(d,f){try{a(l,d,f)}catch{l[d]=f}return f}},d012:function(n,s){n.exports={}},d039:function(n,s){n.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(n,s,t){var l=t("428f"),a=t("da84"),d=function(f){return typeof f=="function"?f:void 0};n.exports=function(f,c){return arguments.length<2?d(l[f])||d(a[f]):l[f]&&l[f][c]||a[f]&&a[f][c]}},d1e7:function(n,s,t){var l={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,d=a&&!l.call({1:2},1);s.f=d?function(c){var m=a(this,c);return!!m&&m.enumerable}:l},d28b:function(n,s,t){var l=t("746f");l("iterator")},d2bb:function(n,s,t){var l=t("825a"),a=t("3bbe");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,f={},c;try{c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,c.call(f,[]),d=f instanceof Array}catch{}return function(p,v){return l(p),a(v),d?c.call(p,v):p.__proto__=v,p}}():void 0)},d3b7:function(n,s,t){var l=t("00ee"),a=t("6eeb"),d=t("b041");l||a(Object.prototype,"toString",d,{unsafe:!0})},d44e:function(n,s,t){var l=t("9bf2").f,a=t("5135"),d=t("b622"),f=d("toStringTag");n.exports=function(c,m,p){c&&!a(c=p?c:c.prototype,f)&&l(c,f,{configurable:!0,value:m})}},d58f:function(n,s,t){var l=t("1c0b"),a=t("7b0b"),d=t("44ad"),f=t("50c4"),c=function(m){return function(p,v,b,E){l(v);var C=a(p),O=d(C),M=f(C.length),P=m?M-1:0,y=m?-1:1;if(b<2)for(;;){if(P in O){E=O[P],P+=y;break}if(P+=y,m?P<0:M<=P)throw TypeError("Reduce of empty array with no initial value")}for(;m?P>=0:M>P;P+=y)P in O&&(E=v(E,O[P],P,C));return E}};n.exports={left:c(!1),right:c(!0)}},d784:function(n,s,t){t("ac1f");var l=t("6eeb"),a=t("d039"),d=t("b622"),f=t("9263"),c=t("9112"),m=d("species"),p=!a(function(){var O=/./;return O.exec=function(){var M=[];return M.groups={a:"7"},M},"".replace(O,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),b=d("replace"),E=function(){return/./[b]?/./[b]("a","$0")==="":!1}(),C=!a(function(){var O=/(?:)/,M=O.exec;O.exec=function(){return M.apply(this,arguments)};var P="ab".split(O);return P.length!==2||P[0]!=="a"||P[1]!=="b"});n.exports=function(O,M,P,y){var x=d(O),w=!a(function(){var j={};return j[x]=function(){return 7},""[O](j)!=7}),U=w&&!a(function(){var j=!1,N=/a/;return O==="split"&&(N={},N.constructor={},N.constructor[m]=function(){return N},N.flags="",N[x]=/./[x]),N.exec=function(){return j=!0,null},N[x](""),!j});if(!w||!U||O==="replace"&&!(p&&v&&!E)||O==="split"&&!C){var $=/./[x],S=P(x,""[O],function(j,N,te,z,X){return N.exec===f?w&&!X?{done:!0,value:$.call(N,te,z)}:{done:!0,value:j.call(te,N,z)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:E}),k=S[0],D=S[1];l(String.prototype,O,k),l(RegExp.prototype,x,M==2?function(j,N){return D.call(j,this,N)}:function(j){return D.call(j,this)})}y&&c(RegExp.prototype[x],"sham",!0)}},d81d:function(n,s,t){var l=t("23e7"),a=t("b727").map,d=t("1dde"),f=t("ae40"),c=d("map"),m=f("map");l({target:"Array",proto:!0,forced:!c||!m},{map:function(v){return a(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(n,s,t){(function(l){var a=function(d){return d&&d.Math==Math&&d};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof l=="object"&&l)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(n,s,t){var l=t("23e7"),a=t("83ab"),d=t("56ef"),f=t("fc6a"),c=t("06cf"),m=t("8418");l({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(v){for(var b=f(v),E=c.f,C=d(b),O={},M=0,P,y;C.length>M;)y=E(b,P=C[M++]),y!==void 0&&m(O,P,y);return O}})},dbf1:function(n,s,t){(function(l){t.d(s,"a",function(){return d});function a(){return typeof window<"u"?window.console:l.console}var d=a()}).call(this,t("c8ba"))},ddb0:function(n,s,t){var l=t("da84"),a=t("fdbc"),d=t("e260"),f=t("9112"),c=t("b622"),m=c("iterator"),p=c("toStringTag"),v=d.values;for(var b in a){var E=l[b],C=E&&E.prototype;if(C){if(C[m]!==v)try{f(C,m,v)}catch{C[m]=v}if(C[p]||f(C,p,b),a[b]){for(var O in d)if(C[O]!==d[O])try{f(C,O,d[O])}catch{C[O]=d[O]}}}}},df75:function(n,s,t){var l=t("ca84"),a=t("7839");n.exports=Object.keys||function(f){return l(f,a)}},e01a:function(n,s,t){var l=t("23e7"),a=t("83ab"),d=t("da84"),f=t("5135"),c=t("861d"),m=t("9bf2").f,p=t("e893"),v=d.Symbol;if(a&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var b={},E=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof E?new v(x):x===void 0?v():v(x);return x===""&&(b[w]=!0),w};p(E,v);var C=E.prototype=v.prototype;C.constructor=E;var O=C.toString,M=String(v("test"))=="Symbol(test)",P=/^Symbol\((.*)\)[^)]+$/;m(C,"description",{configurable:!0,get:function(){var x=c(this)?this.valueOf():this,w=O.call(x);if(f(b,x))return"";var U=M?w.slice(7,-1):w.replace(P,"$1");return U===""?void 0:U}}),l({global:!0,forced:!0},{Symbol:E})}},e163:function(n,s,t){var l=t("5135"),a=t("7b0b"),d=t("f772"),f=t("e177"),c=d("IE_PROTO"),m=Object.prototype;n.exports=f?Object.getPrototypeOf:function(p){return p=a(p),l(p,c)?p[c]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?m:null}},e177:function(n,s,t){var l=t("d039");n.exports=!l(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},e260:function(n,s,t){var l=t("fc6a"),a=t("44d2"),d=t("3f8c"),f=t("69f3"),c=t("7dd0"),m="Array Iterator",p=f.set,v=f.getterFor(m);n.exports=c(Array,"Array",function(b,E){p(this,{type:m,target:l(b),index:0,kind:E})},function(){var b=v(this),E=b.target,C=b.kind,O=b.index++;return!E||O>=E.length?(b.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:O,done:!1}:C=="values"?{value:E[O],done:!1}:{value:[O,E[O]],done:!1}},"values"),d.Arguments=d.Array,a("keys"),a("values"),a("entries")},e439:function(n,s,t){var l=t("23e7"),a=t("d039"),d=t("fc6a"),f=t("06cf").f,c=t("83ab"),m=a(function(){f(1)}),p=!c||m;l({target:"Object",stat:!0,forced:p,sham:!c},{getOwnPropertyDescriptor:function(b,E){return f(d(b),E)}})},e538:function(n,s,t){var l=t("b622");s.f=l},e893:function(n,s,t){var l=t("5135"),a=t("56ef"),d=t("06cf"),f=t("9bf2");n.exports=function(c,m){for(var p=a(m),v=f.f,b=d.f,E=0;E<p.length;E++){var C=p[E];l(c,C)||v(c,C,b(m,C))}}},e8b5:function(n,s,t){var l=t("c6b6");n.exports=Array.isArray||function(d){return l(d)=="Array"}},e95a:function(n,s,t){var l=t("b622"),a=t("3f8c"),d=l("iterator"),f=Array.prototype;n.exports=function(c){return c!==void 0&&(a.Array===c||f[d]===c)}},f5df:function(n,s,t){var l=t("00ee"),a=t("c6b6"),d=t("b622"),f=d("toStringTag"),c=a(function(){return arguments}())=="Arguments",m=function(p,v){try{return p[v]}catch{}};n.exports=l?a:function(p){var v,b,E;return p===void 0?"Undefined":p===null?"Null":typeof(b=m(v=Object(p),f))=="string"?b:c?a(v):(E=a(v))=="Object"&&typeof v.callee=="function"?"Arguments":E}},f772:function(n,s,t){var l=t("5692"),a=t("90e3"),d=l("keys");n.exports=function(f){return d[f]||(d[f]=a(f))}},fb15:function(n,s,t){if(t.r(s),typeof window<"u"){var l=window.document.currentScript;{var a=t("8875");l=a(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:a})}var d=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(t.p=d[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function f(A,T,L){return T in A?Object.defineProperty(A,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[T]=L,A}function c(A,T){var L=Object.keys(A);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(A);T&&(F=F.filter(function(G){return Object.getOwnPropertyDescriptor(A,G).enumerable})),L.push.apply(L,F)}return L}function m(A){for(var T=1;T<arguments.length;T++){var L=arguments[T]!=null?arguments[T]:{};T%2?c(Object(L),!0).forEach(function(F){f(A,F,L[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(F){Object.defineProperty(A,F,Object.getOwnPropertyDescriptor(L,F))})}return A}function p(A){if(Array.isArray(A))return A}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function v(A,T){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(A)))){var L=[],F=!0,G=!1,Z=void 0;try{for(var oe=A[Symbol.iterator](),pe;!(F=(pe=oe.next()).done)&&(L.push(pe.value),!(T&&L.length===T));F=!0);}catch(Te){G=!0,Z=Te}finally{try{!F&&oe.return!=null&&oe.return()}finally{if(G)throw Z}}return L}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function b(A,T){(T==null||T>A.length)&&(T=A.length);for(var L=0,F=new Array(T);L<T;L++)F[L]=A[L];return F}function E(A,T){if(A){if(typeof A=="string")return b(A,T);var L=Object.prototype.toString.call(A).slice(8,-1);if(L==="Object"&&A.constructor&&(L=A.constructor.name),L==="Map"||L==="Set")return Array.from(A);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return b(A,T)}}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(A,T){return p(A)||v(A,T)||E(A,T)||C()}function M(A){if(Array.isArray(A))return b(A)}function P(A){if(typeof Symbol<"u"&&Symbol.iterator in Object(A))return Array.from(A)}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(A){return M(A)||P(A)||E(A)||y()}var w=t("a352"),U=t.n(w);function $(A){A.parentElement!==null&&A.parentElement.removeChild(A)}function S(A,T,L){var F=L===0?A.children[0]:A.children[L-1].nextSibling;A.insertBefore(T,F)}var k=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function D(A){var T=Object.create(null);return function(F){var G=T[F];return G||(T[F]=A(F))}}var j=/-(\w)/g,N=D(function(A){return A.replace(j,function(T,L){return L.toUpperCase()})});t("5db7"),t("73d9");var te=["Start","Add","Remove","Update","End"],z=["Choose","Unchoose","Sort","Filter","Clone"],X=["Move"],me=[X,te,z].flatMap(function(A){return A}).map(function(A){return"on".concat(A)}),ye={manage:X,manageAndEmit:te,emit:z};function Le(A){return me.indexOf(A)!==-1}t("caad"),t("2ca0");var ke=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ce(A){return ke.includes(A)}function Ue(A){return["transition-group","TransitionGroup"].includes(A)}function Ve(A){return["id","class","role","style"].includes(A)||A.startsWith("data-")||A.startsWith("aria-")||A.startsWith("on")}function Ae(A){return A.reduce(function(T,L){var F=O(L,2),G=F[0],Z=F[1];return T[G]=Z,T},{})}function xe(A){var T=A.$attrs,L=A.componentData,F=L===void 0?{}:L,G=Ae(Object.entries(T).filter(function(Z){var oe=O(Z,2),pe=oe[0];return oe[1],Ve(pe)}));return m(m({},G),F)}function Ee(A){var T=A.$attrs,L=A.callBackBuilder,F=Ae(Ye(T));Object.entries(L).forEach(function(Z){var oe=O(Z,2),pe=oe[0],Te=oe[1];ye[pe].forEach(function(q){F["on".concat(q)]=Te(q)})});var G="[data-draggable]".concat(F.draggable||"");return m(m({},F),{},{draggable:G})}function Ye(A){return Object.entries(A).filter(function(T){var L=O(T,2),F=L[0];return L[1],!Ve(F)}).map(function(T){var L=O(T,2),F=L[0],G=L[1];return[N(F),G]}).filter(function(T){var L=O(T,2),F=L[0];return L[1],!Le(F)})}t("c740");function _e(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function mt(A,T){for(var L=0;L<T.length;L++){var F=T[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}function xt(A,T,L){return T&&mt(A.prototype,T),A}var pt=function(T){var L=T.el;return L},Me=function(T,L){return T.__draggable_context=L},je=function(T){return T.__draggable_context},St=function(){function A(T){var L=T.nodes,F=L.header,G=L.default,Z=L.footer,oe=T.root,pe=T.realList;_e(this,A),this.defaultNodes=G,this.children=[].concat(x(F),x(G),x(Z)),this.externalComponent=oe.externalComponent,this.rootTransition=oe.transition,this.tag=oe.tag,this.realList=pe}return xt(A,[{key:"render",value:function(L,F){var G=this.tag,Z=this.children,oe=this._isRootComponent,pe=oe?{default:function(){return Z}}:Z;return L(G,F,pe)}},{key:"updated",value:function(){var L=this.defaultNodes,F=this.realList;L.forEach(function(G,Z){Me(pt(G),{element:F[Z],index:Z})})}},{key:"getUnderlyingVm",value:function(L){return je(L)}},{key:"getVmIndexFromDomIndex",value:function(L,F){var G=this.defaultNodes,Z=G.length,oe=F.children,pe=oe.item(L);if(pe===null)return Z;var Te=je(pe);if(Te)return Te.index;if(Z===0)return 0;var q=pt(G[0]),K=x(oe).findIndex(function(J){return J===q});return L<K?0:Z}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),A}(),lt=t("8bbf");function at(A,T){var L=A[T];return L?L():[]}function nr(A){var T=A.$slots,L=A.realList,F=A.getKey,G=L||[],Z=["header","footer"].map(function(J){return at(T,J)}),oe=O(Z,2),pe=oe[0],Te=oe[1],q=T.item;if(!q)throw new Error("draggable element must have an item slot");var K=G.flatMap(function(J,de){return q({element:J,index:de}).map(function(fe){return fe.key=F(J),fe.props=m(m({},fe.props||{}),{},{"data-draggable":!0}),fe})});if(K.length!==G.length)throw new Error("Item slot must have only one child");return{header:pe,footer:Te,default:K}}function Ir(A){var T=Ue(A),L=!Ce(A)&&!T;return{transition:T,externalComponent:L,tag:L?Object(lt.resolveComponent)(A):T?lt.TransitionGroup:A}}function rt(A){var T=A.$slots,L=A.tag,F=A.realList,G=A.getKey,Z=nr({$slots:T,realList:F,getKey:G}),oe=Ir(L);return new St({nodes:Z,root:oe,realList:F})}function vt(A,T){var L=this;Object(lt.nextTick)(function(){return L.$emit(A.toLowerCase(),T)})}function $t(A){var T=this;return function(L,F){if(T.realList!==null)return T["onDrag".concat(A)](L,F)}}function Mt(A){var T=this,L=$t.call(this,A);return function(F,G){L.call(T,F,G),vt.call(T,A,F)}}var jt=null,Nt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(T){return T}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Rt=["update:modelValue","change"].concat(x([].concat(x(ye.manageAndEmit),x(ye.emit)).map(function(A){return A.toLowerCase()}))),Ft=Object(lt.defineComponent)({name:"draggable",inheritAttrs:!1,props:Nt,emits:Rt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var T=this.$slots,L=this.$attrs,F=this.tag,G=this.componentData,Z=this.realList,oe=this.getKey,pe=rt({$slots:T,tag:F,realList:Z,getKey:oe});this.componentStructure=pe;var Te=xe({$attrs:L,componentData:G});return pe.render(lt.h,Te)}catch(q){return this.error=!0,Object(lt.h)("pre",{style:{color:"red"}},q.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&k.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var T=this;if(!this.error){var L=this.$attrs,F=this.$el,G=this.componentStructure;G.updated();var Z=Ee({$attrs:L,callBackBuilder:{manageAndEmit:function(Te){return Mt.call(T,Te)},emit:function(Te){return vt.bind(T,Te)},manage:function(Te){return $t.call(T,Te)}}}),oe=F.nodeType===1?F:F.parentElement;this._sortable=new U.a(oe,Z),this.targetDomElement=oe,oe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var T=this.list;return T||this.modelValue},getKey:function(){var T=this.itemKey;return typeof T=="function"?T:function(L){return L[T]}}},watch:{$attrs:{handler:function(T){var L=this._sortable;L&&Ye(T).forEach(function(F){var G=O(F,2),Z=G[0],oe=G[1];L.option(Z,oe)})},deep:!0}},methods:{getUnderlyingVm:function(T){return this.componentStructure.getUnderlyingVm(T)||null},getUnderlyingPotencialDraggableComponent:function(T){return T.__draggable_component__},emitChanges:function(T){var L=this;Object(lt.nextTick)(function(){return L.$emit("change",T)})},alterList:function(T){if(this.list){T(this.list);return}var L=x(this.modelValue);T(L),this.$emit("update:modelValue",L)},spliceList:function(){var T=arguments,L=function(G){return G.splice.apply(G,x(T))};this.alterList(L)},updatePosition:function(T,L){var F=function(Z){return Z.splice(L,0,Z.splice(T,1)[0])};this.alterList(F)},getRelatedContextFromMoveEvent:function(T){var L=T.to,F=T.related,G=this.getUnderlyingPotencialDraggableComponent(L);if(!G)return{component:G};var Z=G.realList,oe={list:Z,component:G};if(L!==F&&Z){var pe=G.getUnderlyingVm(F)||{};return m(m({},pe),oe)}return oe},getVmIndexFromDomIndex:function(T){return this.componentStructure.getVmIndexFromDomIndex(T,this.targetDomElement)},onDragStart:function(T){this.context=this.getUnderlyingVm(T.item),T.item._underlying_vm_=this.clone(this.context.element),jt=T.item},onDragAdd:function(T){var L=T.item._underlying_vm_;if(L!==void 0){$(T.item);var F=this.getVmIndexFromDomIndex(T.newIndex);this.spliceList(F,0,L);var G={element:L,newIndex:F};this.emitChanges({added:G})}},onDragRemove:function(T){if(S(this.$el,T.item,T.oldIndex),T.pullMode==="clone"){$(T.clone);return}var L=this.context,F=L.index,G=L.element;this.spliceList(F,1);var Z={element:G,oldIndex:F};this.emitChanges({removed:Z})},onDragUpdate:function(T){$(T.item),S(T.from,T.item,T.oldIndex);var L=this.context.index,F=this.getVmIndexFromDomIndex(T.newIndex);this.updatePosition(L,F);var G={element:this.context.element,oldIndex:L,newIndex:F};this.emitChanges({moved:G})},computeFutureIndex:function(T,L){if(!T.element)return 0;var F=x(L.to.children).filter(function(pe){return pe.style.display!=="none"}),G=F.indexOf(L.related),Z=T.component.getVmIndexFromDomIndex(G),oe=F.indexOf(jt)!==-1;return oe||!L.willInsertAfter?Z:Z+1},onDragMove:function(T,L){var F=this.move,G=this.realList;if(!F||!G)return!0;var Z=this.getRelatedContextFromMoveEvent(T),oe=this.computeFutureIndex(Z,T),pe=m(m({},this.context),{},{futureIndex:oe}),Te=m(m({},T),{},{relatedContext:Z,draggedContext:pe});return F(Te,L)},onDragEnd:function(){jt=null}}}),Bt=Ft;s.default=Bt},fb6a:function(n,s,t){var l=t("23e7"),a=t("861d"),d=t("e8b5"),f=t("23cb"),c=t("50c4"),m=t("fc6a"),p=t("8418"),v=t("b622"),b=t("1dde"),E=t("ae40"),C=b("slice"),O=E("slice",{ACCESSORS:!0,0:0,1:2}),M=v("species"),P=[].slice,y=Math.max;l({target:"Array",proto:!0,forced:!C||!O},{slice:function(w,U){var $=m(this),S=c($.length),k=f(w,S),D=f(U===void 0?S:U,S),j,N,te;if(d($)&&(j=$.constructor,typeof j=="function"&&(j===Array||d(j.prototype))?j=void 0:a(j)&&(j=j[M],j===null&&(j=void 0)),j===Array||j===void 0))return P.call($,k,D);for(N=new(j===void 0?Array:j)(y(D-k,0)),te=0;k<D;k++,te++)k in $&&p(N,te,$[k]);return N.length=te,N}})},fc6a:function(n,s,t){var l=t("44ad"),a=t("1d80");n.exports=function(d){return l(a(d))}},fdbc:function(n,s){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(n,s,t){var l=t("4930");n.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(br)),br.exports}var ua=aa();const $r=oa(ua),da={class:"card mb-4 p-4"},ca={class:"nav nav-tabs mb-3"},fa={class:"nav-item"},ma={class:"nav-item"},pa={class:"row g-3 align-items-start"},va={class:"col-md-5"},ga={class:"attr-form shadow-sm rounded-3 p-3 mb-3 bg-light"},ha=["placeholder"],ba=["placeholder"],ya={class:"col-md-7"},xa={class:"attr-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Sa={class:"attr-card shadow-sm rounded-4 px-3 py-2 bg-white d-flex align-items-center position-relative"},wa={class:"w-100 d-flex flex-row flex-wrap align-items-center"},Ea={class:"attr-label fw-bold"},Oa={class:"attr-value flex-fill"},ka={class:"attr-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Ca=["onClick"],$a=["onClick"],Ia={key:0,class:"text-muted mt-4 ms-2"},Pa={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he("uk"),s=et({uk:i.modelValue.uk?JSON.parse(JSON.stringify(i.modelValue.uk)):[],ru:i.modelValue.ru?JSON.parse(JSON.stringify(i.modelValue.ru)):[]}),t=et({name:"",value:""}),l=he(null);let a=Math.max(...s.uk.map(v=>v._id||0),...s.ru.map(v=>v._id||0),0);st(s,v=>{u("update:modelValue",{uk:v.uk.map(({_id:b,...E})=>E.name||E.value?{...E}:null).filter(Boolean),ru:v.ru.map(({_id:b,...E})=>E.name||E.value?{...E}:null).filter(Boolean)})},{deep:!0});function d(){if(!t.name||!t.value){alert("Заповніть обидва поля!");return}s[n.value].push({_id:++a,name:t.name,value:t.value}),p()}function f(v){l.value=v;const b=s[n.value][v];t.name=b.name,t.value=b.value}function c(){l.value!==null&&(s[n.value][l.value]={...s[n.value][l.value],name:t.name,value:t.value},l.value=null,p())}function m(v){s[n.value].splice(v,1),l.value===v&&(l.value=null,p())}function p(){t.name="",t.value=""}return(v,b)=>(g(),h("div",da,[b[11]||(b[11]=o("h5",{class:"fw-bold mb-3"},"Характеристики товару",-1)),o("ul",ca,[o("li",fa,[o("button",{class:W(["nav-link",{active:n.value==="uk"}]),onClick:b[0]||(b[0]=E=>n.value="uk")},"Українська",2)]),o("li",ma,[o("button",{class:W(["nav-link",{active:n.value==="ru"}]),onClick:b[1]||(b[1]=E=>n.value="ru")},"Російська",2)])]),o("div",pa,[o("div",va,[o("div",ga,[R(o("input",{"onUpdate:modelValue":b[2]||(b[2]=E=>t.name=E),type:"text",class:"form-control mb-2",placeholder:n.value==="uk"?"Характеристика":"Характеристика (рус)"},null,8,ha),[[B,t.name]]),R(o("input",{"onUpdate:modelValue":b[3]||(b[3]=E=>t.value=E),type:"text",class:"form-control mb-3",placeholder:n.value==="uk"?"Значення":"Значение"},null,8,ba),[[B,t.value]]),l.value===null?(g(),h("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:d},b[5]||(b[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Додати характеристику ",-1)]))):(g(),h("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:c},b[6]||(b[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Зберегти зміни ",-1)])))])]),o("div",ya,[o("div",xa,[Q(Ct($r),{modelValue:s[n.value],"onUpdate:modelValue":b[4]||(b[4]=E=>s[n.value]=E),"item-key":"_id",handle:".drag-handle",animation:180,class:"d-flex flex-column gap-2 mb-0"},{item:Be(({element:E,index:C})=>[o("div",Sa,[b[10]||(b[10]=o("span",{class:"drag-handle me-3",title:"Перетягнути",style:{cursor:"grab"}},[o("svg",{width:"18",height:"18",fill:"#b0b0b0",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",wa,[o("div",Ea,I(E.name),1),b[7]||(b[7]=o("div",{class:"attr-sep mx-2"},":",-1)),o("div",Oa,I(E.value),1)]),o("div",ka,[o("button",{class:"btn-action btn-edit",onClick:O=>f(C)},b[8]||(b[8]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Ca),o("button",{class:"btn-action btn-remove",onClick:O=>m(C)},b[9]||(b[9]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,$a)])])]),_:1},8,["modelValue"]),s[n.value].length?V("",!0):(g(),h("div",Ia,"Ще не додано жодної характеристики"))])])])]))}},Ta=se(Pa,[["__scopeId","data-v-d2193fe7"]]),Aa={class:"card mb-4 p-4"},Da={class:"color-form shadow-sm rounded-3 p-3 mb-4 bg-light"},Ua={class:"row g-3"},Va={class:"col-12 col-md-6"},La={class:"col-12"},Ma={class:"d-flex align-items-center gap-3 w-100 py-1"},ja=["src"],Na={class:"d-flex flex-column flex-grow-1 min-w-0"},Ra={class:"fw-semibold text-truncate"},Fa={key:0,class:"text-muted"},Ba={class:"d-flex align-items-center gap-2 min-w-0"},_a=["src"],za={class:"text-truncate"},Ga={class:"col-12 col-md-6"},Ha=["src"],Ka={class:"mt-3 d-flex gap-2"},Wa={class:"color-list"},Xa={class:"color-card shadow rounded-4 px-4 py-3 bg-white d-flex align-items-center position-relative gap-3",style:{"min-height":"100px"}},Ya=["src"],Ja={class:"flex-grow-1 d-flex flex-column justify-content-center"},Qa={class:"fw-bold fs-5 lh-sm mb-1"},Za={class:"text-secondary fw-semibold"},qa={class:"color-actions d-flex flex-column align-items-center justify-content-center gap-2 position-absolute end-0 top-0 mt-2 me-2"},eu=["onClick"],tu=["onClick"],ru={key:0,class:"text-muted mt-4 ms-2"},nu={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productList:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he([]);er(async()=>{try{const y=await be.get("/admin/products/list");n.value=y.data}catch(y){console.error("Не вдалося завантажити продукти:",y),n.value=[]}});function s(y){var x,w,U,$;return(y==null?void 0:y.name)||(y==null?void 0:y.title)||(y==null?void 0:y.product_name)||(((w=(x=y==null?void 0:y.translations)==null?void 0:x[0])==null?void 0:w.title)??(($=(U=y==null?void 0:y.translations)==null?void 0:U[0])==null?void 0:$.name))||""}function t(y){return(y==null?void 0:y.sku)??(y==null?void 0:y.article)??(y==null?void 0:y.code)??""}function l(y){var x,w;return(y==null?void 0:y.image)||(y==null?void 0:y.image_url)||(y==null?void 0:y.image_path)||(y==null?void 0:y.thumbnail)||(y==null?void 0:y.preview)||(Array.isArray(y==null?void 0:y.images)?((x=y.images[0])==null?void 0:x.url)||((w=y.images[0])==null?void 0:w.path):"")}function a(y){return y?/^data:/i.test(y)||y.startsWith("http")||y.startsWith("/storage/")||y.startsWith("/")?y:y.startsWith("//")?`${window.location.protocol}${y}`:"/storage/"+y.replace(/^\/+/,""):""}function d(y,x){if(!x)return!0;const w=(s(y)||"").toLowerCase(),U=(t(y)||"").toLowerCase(),$=x.toLowerCase();return w.includes($)||U.includes($)}function f(y){if(!y)return"";const x=s(y),w=t(y);return w?`${x} (SKU: ${w})`:x}const c=et({color:"",product:null,image:null}),m=he([...i.modelValue]);let p=0;const v=he(null);st(m,y=>{u("update:modelValue",y)},{deep:!0}),st(()=>i.modelValue,y=>{y!==m.value&&(m.value=[...y])});function b(){if(!c.color||!c.product||!c.image){alert("Заповніть всі поля та виберіть зображення!");return}m.value.push({_id:++p,color:c.color,linked_product_id:c.product.id,product:c.product,image:c.image}),P()}function E(y){v.value=y;const x=m.value[y];c.color=x.color,c.product=x.product,c.image=x.image}function C(){v.value!==null&&(m.value[v.value]={...m.value[v.value],color:c.color,linked_product_id:c.product.id,product:c.product,image:c.image},v.value=null,P())}function O(y){m.value.splice(y,1),v.value===y&&(v.value=null,P())}function M(y){const x=y.target.files[0];if(!x)return;const w=new FileReader;w.onload=U=>{c.image=U.target.result},w.readAsDataURL(x)}function P(){c.color="",c.product=null,c.image=""}return(y,x)=>(g(),h("div",Aa,[x[8]||(x[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",Da,[o("div",Ua,[o("div",Va,[R(o("input",{"onUpdate:modelValue":x[0]||(x[0]=w=>c.color=w),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[B,c.color]])]),o("div",La,[Q(Ct(Vt),{modelValue:c.product,"onUpdate:modelValue":x[1]||(x[1]=w=>c.product=w),options:n.value,searchable:!0,"custom-label":f,filter:d,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Be(({option:w})=>[o("div",Ma,[l(w)?(g(),h("img",{key:0,src:a(l(w)),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,ja)):V("",!0),o("div",Na,[o("span",Ra,I(s(w)),1),t(w)?(g(),h("small",Fa,"SKU: "+I(t(w)),1)):V("",!0)])])]),singleLabel:Be(({option:w})=>[o("div",Ba,[l(w)?(g(),h("img",{key:0,src:a(l(w)),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,_a)):V("",!0),o("span",za,[ae(I(s(w)),1),t(w)?(g(),h(ee,{key:0},[ae(" (SKU: "+I(t(w))+")",1)],64)):V("",!0)])])]),_:1},8,["modelValue","options"])]),o("div",Ga,[o("input",{type:"file",class:"form-control mb-3",onChange:M},null,32),c.image?(g(),h("img",{key:0,src:c.image,alt:"",class:"color-img-preview mb-2"},null,8,Ha)):V("",!0)])]),o("div",Ka,[v.value===null?(g(),h("button",{key:0,class:"btn btn-primary flex-fill d-flex align-items-center justify-content-center gap-2",onClick:b},x[3]||(x[3]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Додати колір ",-1)]))):(g(),h("button",{key:1,class:"btn btn-success flex-fill d-flex align-items-center justify-content-center gap-2",onClick:C},x[4]||(x[4]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Зберегти зміни ",-1)])))])]),o("div",Wa,[Q(Ct($r),{modelValue:m.value,"onUpdate:modelValue":x[2]||(x[2]=w=>m.value=w),"item-key":"_id",class:"d-flex flex-column gap-3 mb-0",animation:200,handle:".drag-handle"},{item:Be(({element:w,index:U})=>[o("div",Xa,[x[7]||(x[7]=o("span",{class:"drag-handle me-2",title:"Перемістити",style:{cursor:"grab","flex-shrink":"0"}},[o("svg",{width:"22",height:"22",fill:"none",stroke:"#b4b4b4","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"1.5"}),o("circle",{cx:"7",cy:"12",r:"1.5"}),o("circle",{cx:"7",cy:"17",r:"1.5"}),o("circle",{cx:"12",cy:"7",r:"1.5"}),o("circle",{cx:"12",cy:"12",r:"1.5"}),o("circle",{cx:"12",cy:"17",r:"1.5"}),o("circle",{cx:"17",cy:"7",r:"1.5"}),o("circle",{cx:"17",cy:"12",r:"1.5"}),o("circle",{cx:"17",cy:"17",r:"1.5"})])],-1)),w.image?(g(),h("img",{key:0,src:w.image,style:{width:"64px",height:"64px","border-radius":"12px",border:"2px solid #f2f4f8",background:"#fff","object-fit":"cover","flex-shrink":"0"}},null,8,Ya)):V("",!0),o("div",Ja,[o("div",Qa,I(w.color),1),o("div",Za,I(w.product?f(w.product):""),1)]),o("div",qa,[o("button",{class:"btn-action btn-edit",onClick:$=>E(U),title:"Редагувати"},x[5]||(x[5]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5л12.232-12.268z"})],-1)]),8,eu),o("button",{class:"btn-action btn-remove",onClick:$=>O(U),title:"Видалити"},x[6]||(x[6]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#dc2626","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,tu)])])]),_:1},8,["modelValue"]),m.value.length?V("",!0):(g(),h("div",ru," Ще не додано жодного кольору "))])]))}},ou=se(nu,[["__scopeId","data-v-5d076b82"]]),iu={name:"ProductForm",components:{ProductHeader:Rn,ProductTitles:Wn,ProductSeo:to,ProductImages:Ko,ProductDescription:ns,ProductPrice:vs,ProductCategory:zs,ProductSizeGuide:tl,ProductVariants:na,ProductAttributes:Ta,ProductColors:ou,GlobalLoadingOverlay:vn},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",is_available:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},saving:!1,categoryOptions:[{id:1,name:"Домашні тапочки"},{id:2,name:"Тапочки з хутром"},{id:3,name:"Модні тапочки"},{id:4,name:"Спортивні тапочки"}],productOptions:[{id:1,name:"Товар 1"},{id:2,name:"Товар 2"},{id:3,name:"Товар 3"},{id:4,name:"Товар 4"}]}},methods:{async submitForm(){if(this.saving)return;this.errors={};const r=new FormData;r.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(e=>{e.file&&r.append("images[]",e.file)}),r.append("images_meta",JSON.stringify((this.form.images||[]).map(e=>({position:e.position,is_main:e.is_main}))));try{this.saving=!0,await be.post("/admin/products",r,{headers:{"Content-Type":"multipart/form-data"}}),alert("Товар успішно додано!"),window.location.href="/admin/products"}catch(e){e.response&&e.response.status===422?this.errors=Object.fromEntries(Object.entries(e.response.data.errors).map(([i,u])=>[i,u[0]])):alert("Сталася помилка при збереженні!")}finally{this.saving=!1}}}},su={class:"p-4"},lu={class:"row"},au={class:"col-md-8"},uu={class:"col-md-4"};function du(r,e,i,u,n,s){const t=ce("ProductHeader"),l=ce("ProductTitles"),a=ce("ProductSeo"),d=ce("ProductImages"),f=ce("ProductPrice"),c=ce("ProductCategory"),m=ce("ProductSizeGuide"),p=ce("ProductVariants"),v=ce("GlobalLoadingOverlay");return g(),h(ee,null,[o("div",su,[Q(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",lu,[o("div",au,[Q(l,{form:n.form,errors:n.errors},null,8,["form","errors"]),Q(a,{form:n.form,errors:n.errors},null,8,["form","errors"]),Q(d,{modelValue:n.form.images,"onUpdate:modelValue":e[0]||(e[0]=b=>n.form.images=b)},null,8,["modelValue"])]),o("div",uu,[Q(f,{form:n.form,errors:n.errors},null,8,["form","errors"]),Q(c,{modelValue:n.form.categories,"onUpdate:modelValue":e[1]||(e[1]=b=>n.form.categories=b),categories:n.categoryOptions,errors:n.errors},null,8,["modelValue","categories","errors"]),Q(m,{modelValue:n.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=b=>n.form.size_guide_id=b),errors:n.errors},null,8,["modelValue","errors"])])]),Q(p,{modelValue:n.form.variants,"onUpdate:modelValue":e[3]||(e[3]=b=>n.form.variants=b),errors:n.errors},null,8,["modelValue","errors"])]),Q(v,{active:n.saving,label:"Зберігаємо товар…",hint:"Будь ласка, не закривайте сторінку"},null,8,["active"])],64)}const cu=se(iu,[["render",du],["__scopeId","data-v-d9c67f16"]]),fu={name:"ProductFilters",props:{search:String,status:[String,Number],category:[String,Number],categories:{type:Array,required:!0}},methods:{update(r,e){this.$emit(`update:${r}`,e)}}},mu={class:"filters mb-4 card p-3",style:{"border-radius":"5px"}},pu={class:"row align-items-end"},vu={class:"col-md-3"},gu=["value"],hu={class:"col-md-3"},bu=["value"],yu={class:"col-md-3"},xu=["value"],Su=["value"];function wu(r,e,i,u,n,s){return g(),h("div",mu,[o("div",pu,[o("div",vu,[o("input",{type:"text",class:"form-control",placeholder:"Пошук товару...",value:i.search,onInput:e[0]||(e[0]=t=>s.update("search",t.target.value))},null,40,gu)]),o("div",hu,[o("select",{class:"form-select",value:i.status,onChange:e[1]||(e[1]=t=>s.update("status",t.target.value))},e[3]||(e[3]=[o("option",{value:""},"Статус",-1),o("option",{value:"1"},"Опубліковано",-1),o("option",{value:"0"},"Неактивний",-1)]),40,bu)]),o("div",yu,[o("select",{class:"form-select",value:i.category,onChange:e[2]||(e[2]=t=>s.update("category",t.target.value))},[e[4]||(e[4]=o("option",{value:""},"Категорія",-1)),(g(!0),h(ee,null,ve(i.categories,t=>(g(),h("option",{key:t.id,value:t.id},I(t.name),9,Su))),128))],40,xu)]),e[5]||(e[5]=kr('<div class="col-md-3 text-end"><a href="/admin/products/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.25);transition:background 0.3s ease;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-box2-heart me-2" viewBox="0 0 16 16"><path d="M4.684 1.447A1.5 1.5 0 0 1 5.934 1h4.132a1.5 1.5 0 0 1 1.25.447l2.25 2.25A1.5 1.5 0 0 1 14.934 4H1.066a1.5 1.5 0 0 1 1.368-.803l2.25-2.25z"></path><path d="M.5 5.5A.5.5 0 0 1 1 5h14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H1a.5.5 0 0 1-.5-.5v-1zm3.92 2.996a2.326 2.326 0 0 1 1.611-.63c.49 0 .98.173 1.352.568.372-.395.862-.568 1.352-.568.588 0 1.165.242 1.61.63C10.784 8.864 11 9.418 11 9.996c0 .578-.216 1.132-.655 1.5l-2.58 2.15a.5.5 0 0 1-.63 0l-2.58-2.15A1.917 1.917 0 0 1 5 9.996c0-.578.216-1.132.655-1.5z"></path></svg> Додати товар </a></div>',1))])])}const Eu=se(fu,[["render",wu]]),Ou={name:"ProductTable",props:{products:{type:Array,required:!0}},data(){return{menuOpen:null,placeholder:"https://dream-v-doma.site/assets/img/placeholder.svg"}},methods:{onImgError(r){r.target.src=this.placeholder},statusLabel(r){return r==1?"Опубліковано":r==2?"Заплановано":r==0?"Неактивний":""},statusClass(r){return r==1?"status-publish":r==2?"status-scheduled":r==0?"status-inactive":""},async toggleStatus(r){const e=r.status;r.status=e==1?0:1;try{await be.post(`/api/products/${r.id}/toggle-status`,{status:r.status})}catch{r.status=e,alert("Помилка збереження статусу")}},openMenu(r){this.menuOpen===r?this.closeMenu():(this.menuOpen=r,document.addEventListener("click",this.handleOutsideClick))},closeMenu(){this.menuOpen=null,document.removeEventListener("click",this.handleOutsideClick)},handleOutsideClick(r){!r.target.closest(".dropdown-menu")&&!r.target.closest(".dots-menu")&&this.closeMenu()},async deleteProduct(r){if(this.closeMenu(),!!confirm("Підтвердіть видалення товару. Операція незворотна і не може бути скасована."))try{await be.delete(`/api/products/${r.id}`),alert("Товар успішно видалено"),window.location.reload()}catch{alert("Помилка видалення товару")}},download(r){this.closeMenu(),alert(`Download product #${r.id}`)},duplicate(r){this.closeMenu(),this.$emit("duplicate",r)}}},ku={class:"card border-0 shadow-sm rounded-3"},Cu={class:"card-body p-0"},$u={class:"table-responsive"},Iu={class:"table table-hover align-middle mb-0"},Pu={class:"d-flex align-items-center"},Tu=["src"],Au={class:"min-w-0"},Du={class:"fw-medium text-truncate"},Uu={class:"text-muted text-truncate"},Vu=["onClick"],Lu={class:"text-end"},Mu={class:"dropdown"},ju={class:"dropdown-menu dropdown-menu-end"},Nu=["href"],Ru=["onClick"],Fu=["onClick"];function Bu(r,e,i,u,n,s){return g(),h("div",ku,[o("div",Cu,[o("div",$u,[o("table",Iu,[e[7]||(e[7]=o("thead",{class:"table-light"},[o("tr",null,[o("th",null,[o("input",{type:"checkbox"})]),o("th",null,"Product"),o("th",null,"Category"),o("th",null,"Stock"),o("th",null,"SKU"),o("th",null,"Price"),o("th",null,"Qty"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(g(!0),h(ee,null,ve(i.products,(t,l)=>(g(),h("tr",{key:t.id},[e[6]||(e[6]=o("td",null,[o("input",{type:"checkbox"})],-1)),o("td",null,[o("div",Pu,[o("img",{src:t.image||n.placeholder,class:"avatar me-3",onError:e[0]||(e[0]=(...a)=>s.onImgError&&s.onImgError(...a))},null,40,Tu),o("div",Au,[o("div",Du,I(t.name),1),o("small",Uu,I(t.brand),1)])])]),o("td",null,I(t.category_name),1),o("td",null,[o("div",{class:W(["toggle-switch",{active:t.status==1}]),onClick:a=>s.toggleStatus(t),title:"Змінити статус"},null,10,Vu)]),o("td",null,I(t.sku),1),o("td",null,I(t.price),1),o("td",null,I(t.qty),1),o("td",null,[o("span",{class:W(["badge",s.statusClass(t.status)])},I(s.statusLabel(t.status)),3)]),o("td",Lu,[o("div",Mu,[e[5]||(e[5]=o("button",{type:"button",class:"btn p-0 dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[o("i",{class:"bi bi-three-dots-vertical"})],-1)),o("div",ju,[o("a",{class:"dropdown-item",href:`/admin/products/${t.id}/edit`},e[1]||(e[1]=[o("i",{class:"bi bi-pencil me-1"},null,-1),ae(" Edit ",-1)]),8,Nu),o("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:ie(a=>s.duplicate(t),["prevent"])},e[2]||(e[2]=[o("i",{class:"bi bi-files me-1"},null,-1),ae(" Duplicate ",-1)]),8,Ru),e[4]||(e[4]=o("hr",{class:"dropdown-divider"},null,-1)),o("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:ie(a=>s.deleteProduct(t),["prevent"])},e[3]||(e[3]=[o("i",{class:"bi bi-trash me-1"},null,-1),ae(" Delete ",-1)]),8,Fu)])])])]))),128))])])])])])}const _u=se(Ou,[["render",Bu],["__scopeId","data-v-02046465"]]),zu={components:{ProductFilters:Eu,ProductTable:_u},data(){return{filters:{search:"",status:"",category:"",page:1},categories:[],products:[],pagination:{current_page:1,last_page:1,per_page:10,total:0}}},watch:{filters:{handler:"fetchProducts",deep:!0}},mounted(){this.fetchCategories(),this.fetchProducts()},methods:{changePage(r){r>=1&&r<=this.pagination.last_page&&(this.filters.page=r)},fetchCategories(){be.get("/api/category-select/uk").then(r=>{this.categories=r.data}).catch(()=>{this.categories=[]})},fetchProducts(){be.get("/api/products/list",{params:this.filters}).then(r=>{this.products=r.data.data,this.pagination.current_page=r.data.current_page,this.pagination.last_page=r.data.last_page,this.pagination.per_page=r.data.per_page,this.pagination.total=r.data.total}).catch(()=>{this.products=[]})},handleDeleted(r){this.products=this.products.filter(e=>e.id!==r)}}},Gu={class:"pagination-controls"},Hu=["disabled"],Ku=["disabled"];function Wu(r,e,i,u,n,s){const t=ce("ProductFilters"),l=ce("ProductTable");return g(),h("div",null,[Q(t,{search:n.filters.search,status:n.filters.status,category:n.filters.category,categories:n.categories,"onUpdate:search":e[0]||(e[0]=a=>n.filters.search=a),"onUpdate:status":e[1]||(e[1]=a=>n.filters.status=a),"onUpdate:category":e[2]||(e[2]=a=>n.filters.category=a)},null,8,["search","status","category","categories"]),Q(l,{products:n.products,onDeleted:s.handleDeleted},null,8,["products","onDeleted"]),o("div",Gu,[o("button",{disabled:n.pagination.current_page===1,onClick:e[3]||(e[3]=a=>s.changePage(n.pagination.current_page-1))}," Назад ",8,Hu),o("span",null,"Сторінка "+I(n.pagination.current_page)+" з "+I(n.pagination.last_page),1),o("button",{disabled:n.pagination.current_page===n.pagination.last_page,onClick:e[4]||(e[4]=a=>s.changePage(n.pagination.current_page+1))}," Вперед ",8,Ku)])])}const Xu=se(zu,[["render",Wu],["__scopeId","data-v-e01c23d9"]]),Yu={name:"ProductHeader"},Ju={class:"d-flex justify-content-between align-items-center mb-4"},Qu={class:"top-actions"};function Zu(r,e,i,u,n,s){return g(),h("div",Ju,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",Qu,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>r.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const qu=se(Yu,[["render",Zu],["__scopeId","data-v-4853d00b"]]),ed={name:"ProductTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},td={class:"card mb-4 p-3"},rd={class:"mb-3"},nd={key:0,class:"invalid-feedback"},od={class:"mb-3"},id={key:0,class:"invalid-feedback"},sd={class:"mb-3"},ld={key:0,class:"invalid-feedback"},ad={class:"mb-3"},ud={key:0,class:"invalid-feedback"};function dd(r,e,i,u,n,s){var t,l,a,d,f,c,m,p;return g(),h("div",td,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",rd,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=v=>i.form.name_uk=v),onInput:e[1]||(e[1]=v=>s.clearError("name_uk"))},null,34),[[B,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(g(),h("div",nd,I(i.errors.name_uk),1)):V("",!0)]),o("div",od,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=v=>i.form.slug_uk=v),onInput:e[3]||(e[3]=v=>s.clearError("slug_uk"))},null,34),[[B,i.form.slug_uk]]),(d=i.errors)!=null&&d.slug_uk?(g(),h("div",id,I(i.errors.slug_uk),1)):V("",!0)]),o("div",sd,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(f=i.errors)==null?void 0:f.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=v=>i.form.name_ru=v),onInput:e[5]||(e[5]=v=>s.clearError("name_ru"))},null,34),[[B,i.form.name_ru]]),(c=i.errors)!=null&&c.name_ru?(g(),h("div",ld,I(i.errors.name_ru),1)):V("",!0)]),o("div",ad,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=v=>i.form.slug_ru=v),onInput:e[7]||(e[7]=v=>s.clearError("slug_ru"))},null,34),[[B,i.form.slug_ru]]),(p=i.errors)!=null&&p.slug_ru?(g(),h("div",ud,I(i.errors.slug_ru),1)):V("",!0)])])}const cd=se(ed,[["render",dd]]),fd={name:"ProductSeo",props:{form:{type:Object,required:!0}}},md={class:"card mb-4 p-3"},pd={class:"mb-3"},vd={class:"mb-3"},gd={class:"mb-3"},hd={class:"mb-3"};function bd(r,e,i,u,n,s){return g(),h("div",md,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",pd,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[B,i.form.meta_title_uk]])]),o("div",vd,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),R(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[B,i.form.meta_description_uk]])]),o("div",gd,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[B,i.form.meta_title_ru]])]),o("div",hd,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),R(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[B,i.form.meta_description_ru]])])])}const yd=se(fd,[["render",bd]]),xd={class:"card mb-4 p-3"},Sd={class:"mb-3"},wd={class:"text-muted"},Ed=["src"],Od=["onClick"],kd={class:"badge-main"},Cd={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]},productId:{type:[Number,String],default:null},imagesFolder:{type:String,default:"products"}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he([...i.modelValue]);st(()=>i.modelValue,m=>{m!==n.value&&(n.value=[...m])});const s=Ze(()=>[...n.value].sort((m,p)=>(m.position??0)-(p.position??0)));Ze(()=>{if(i.productId)return Number(i.productId);const m=window.location.pathname.match(/\/products\/(\d+)(?:\/|$)/);return m?Number(m[1]):null});function t(m){let p=(m==null?void 0:m.full_url)||(m==null?void 0:m.url);return p?p.startsWith("blob:")||p.startsWith("data:")||/^https?:\/\//i.test(p)||p.startsWith("/")?p:"/storage/"+p:"/images/placeholder.png"}function l(m){m.target.src="/images/placeholder.png"}function a(){n.value.forEach((m,p)=>{m.position=p,m.is_main=p===0}),u("update:modelValue",[...n.value])}function d(m){Array.from(m.target.files).forEach(v=>{n.value.push({id:Date.now()+Math.random(),file:v,url:URL.createObjectURL(v),position:n.value.length,is_main:!1})}),a(),m.target.value=""}function f(m){const p=s.value[m],v=n.value.findIndex(b=>b.id===p.id);if(v!==-1){const b=n.value[v];if(b!=null&&b.url&&String(b.url).startsWith("blob:"))try{URL.revokeObjectURL(b.url)}catch{}n.value.splice(v,1),a()}}const c=he(null);return er(()=>{Y.create(c.value,{animation:150,onEnd:m=>{const p=[...s.value],[v]=p.splice(m.oldIndex,1);p.splice(m.newIndex,0,v),n.value=p,a()}})}),(m,p)=>(g(),h("div",xd,[p[0]||(p[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",Sd,[o("input",{type:"file",class:"form-control",multiple:"",onChange:d},null,32),o("small",wd,"Файлів: "+I(n.value.length),1)]),o("div",{ref_key:"containerRef",ref:c,class:"d-flex gap-2 flex-wrap"},[(g(!0),h(ee,null,ve(s.value,(v,b)=>(g(),h("div",{key:v.id,class:"image-item"},[o("img",{src:t(v),alt:"",onError:l},null,40,Ed),o("button",{type:"button",class:"remove-btn",onClick:E=>f(b)},"×",8,Od),o("span",kd,I(b===0?"Головне":"#"+(b+1)),1)]))),128))],512)]))}},$d=se(Cd,[["__scopeId","data-v-b01e5885"]]),Id={class:"card p-4 mb-4 desc-simple"},Pd={class:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3"},Td={class:"d-flex align-items-center gap-3"},Ad={class:"nav nav-tabs small"},Dd={class:"nav-item"},Ud={class:"badge bg-secondary-subtle text-secondary ms-1"},Vd={class:"nav-item"},Ld={class:"badge bg-secondary-subtle text-secondary ms-1"},Md={class:"row g-3"},jd={class:"col-12"},Nd={key:0,class:"col-12"},Rd={class:"col-md-6"},Fd={class:"col-md-6"},Bd={key:0,class:"mt-2 preview"},_d=["src"],zd={class:"col-md-6"},Gd={key:0,class:"mt-2 preview"},Hd=["src"],Kd={class:"col-md-6"},Wd={class:"col-md-6"},Xd={key:0,class:"mt-2 preview small"},Yd=["src"],Jd={class:"col-md-6"},Qd={key:0,class:"mt-2 preview small"},Zd=["src"],qd={class:"col-12 d-flex gap-2"},ec=["disabled"],tc=["disabled"],rc={key:1},nc={class:"desc-card rounded-4 shadow-sm"},oc={class:"card-head"},ic={class:"badge type-badge"},sc={class:"ms-auto d-flex align-items-center gap-1"},lc=["onClick"],ac=["onClick"],uc=["onClick"],dc={key:0,class:"card-body"},cc={key:0,class:"desc-title"},fc={key:1,class:"desc-text"},mc={key:1,class:"row align-items-center"},pc={class:"col-md-6"},vc={key:0,class:"desc-title"},gc={key:1,class:"desc-text"},hc={class:"col-md-6 text-center"},bc=["src"],yc={key:2,class:"row align-items-center"},xc={class:"col-md-6 text-center mb-3 mb-md-0"},Sc=["src"],wc={class:"col-md-6"},Ec={key:0,class:"desc-title"},Oc={key:1,class:"desc-text"},kc={key:3,class:"row align-items-center"},Cc={class:"col-md-6 text-center mb-3 mb-md-0"},$c=["src"],Ic={class:"col-md-6 text-center"},Pc=["src"],Tc=["onSubmit"],Ac={class:"small text-muted mb-2"},Dc={key:1,class:"row g-3"},Uc={class:"col-md-6"},Vc={class:"col-md-6"},Lc={key:0,class:"mt-2 preview"},Mc=["src"],jc={key:2,class:"row g-3"},Nc={class:"col-md-6"},Rc={key:0,class:"mt-2 preview"},Fc=["src"],Bc={class:"col-md-6"},_c={key:3,class:"row g-3"},zc={class:"col-md-6"},Gc={key:0,class:"mt-2 preview small"},Hc=["src"],Kc={class:"col-md-6"},Wc={key:0,class:"mt-2 preview small"},Xc=["src"],Yc={class:"d-grid gap-2 mt-3"},Jc=["disabled"],Qc=["disabled"],Zc={key:2,class:"text-muted"},qc={__name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},productId:{type:[String,Number],required:!0},uploadUrl:{type:String,default:"/api/upload-image"}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he("uk"),s=et({uk:[],ru:[]}),t=he(!1),l=he(!1),a=et({type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}),d=he(null),f=et({type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""});st(()=>i.modelValue,$=>{const S=k=>Array.isArray(k)?JSON.parse(JSON.stringify(k)):[];s.uk=S(($==null?void 0:$.uk)||[]),s.ru=S(($==null?void 0:$.ru)||[])},{deep:!0,immediate:!0});function c(){u("update:modelValue",{uk:s.uk,ru:s.ru})}function m($){C(),v(),n.value=$}function p(){t.value=!0,Object.assign(a,{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""})}function v(){t.value=!1,Object.assign(a,{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""})}function b(){a.type&&(s[n.value].push({...a,_key:`${Date.now()}-${Math.random().toString(36).slice(2)}`}),t.value=!1,c())}function E($){d.value=$,Object.assign(f,JSON.parse(JSON.stringify(s[n.value][$])))}function C(){d.value=null,Object.assign(f,{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""})}function O($){if(d.value===null)return;const S=s[n.value][$].type;s[n.value][$]={...f,type:S,_key:s[n.value][$]._key},c(),C()}function M($){confirm("Видалити блок?")&&(s[n.value].splice($,1),c(),d.value===$&&C())}function P($){const S=s[n.value][$];s[n.value].splice($+1,0,{...S,_key:`${Date.now()}-${Math.random().toString(36).slice(2)}`}),c()}async function y($){const S=new FormData;S.append("image",$),S.append("product_id",String(i.productId)),l.value=!0;try{return(await be.post(i.uploadUrl,S,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch{return alert("Помилка завантаження зображення"),""}finally{l.value=!1}}async function x($,S){var j;const k=(j=$.target.files)==null?void 0:j[0];if(!k)return;const D=await y(k);D&&(S==="single"?a.imageUrl=D:S===1?a.imageUrl1=D:S===2&&(a.imageUrl2=D))}async function w($,S){var j;const k=(j=$.target.files)==null?void 0:j[0];if(!k)return;const D=await y(k);D&&(S==="single"?f.imageUrl=D:S===1?f.imageUrl1=D:S===2&&(f.imageUrl2=D))}function U($){return{text:"Текст",image_right:"Картинка справа",image_left:"Картинка зліва",two_images:"Дві картинки"}[$]||$}return($,S)=>{var k;return g(),h("div",Id,[o("div",Pd,[o("div",Td,[S[26]||(S[26]=o("h5",{class:"fw-bold mb-0"},"Опис товару",-1)),o("ul",Ad,[o("li",Dd,[o("button",{class:W(["nav-link",{active:n.value==="uk"}]),onClick:S[0]||(S[0]=D=>m("uk"))},[S[24]||(S[24]=ae(" Українська ",-1)),o("span",Ud,I(s.uk.length),1)],2)]),o("li",Vd,[o("button",{class:W(["nav-link",{active:n.value==="ru"}]),onClick:S[1]||(S[1]=D=>m("ru"))},[S[25]||(S[25]=ae(" Російська ",-1)),o("span",Ld,I(s.ru.length),1)],2)])])]),t.value?V("",!0):(g(),h("button",{key:0,class:"btn btn-accent d-flex align-items-center gap-2",onClick:p},S[27]||(S[27]=[o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Додати блок ",-1)])))]),t.value?(g(),h("form",{key:0,class:"card p-3 rounded-4 shadow-sm mb-4",onSubmit:ie(b,["prevent"])},[o("div",Md,[o("div",jd,[S[29]||(S[29]=o("label",{class:"form-label"},"Тип блоку",-1)),R(o("select",{class:"form-select","onUpdate:modelValue":S[2]||(S[2]=D=>a.type=D),required:""},S[28]||(S[28]=[kr('<option value="" disabled data-v-25e088bb>Оберіть тип</option><option value="text" data-v-25e088bb>Текст</option><option value="image_right" data-v-25e088bb>Картинка справа</option><option value="image_left" data-v-25e088bb>Картинка зліва</option><option value="two_images" data-v-25e088bb>Дві картинки</option>',5)]),512),[[yt,a.type]])]),a.type==="text"?(g(),h("div",Nd,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[3]||(S[3]=D=>a.title=D),placeholder:"Заголовок"},null,512),[[B,a.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[4]||(S[4]=D=>a.text=D),placeholder:"Текст"},null,512),[[B,a.text,void 0,{trim:!0}]])])):a.type==="image_right"?(g(),h(ee,{key:1},[o("div",Rd,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[5]||(S[5]=D=>a.title=D),placeholder:"Заголовок"},null,512),[[B,a.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[6]||(S[6]=D=>a.text=D),placeholder:"Текст"},null,512),[[B,a.text,void 0,{trim:!0}]])]),o("div",Fd,[S[30]||(S[30]=o("label",{class:"form-label"},"Зображення",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[7]||(S[7]=D=>x(D,"single"))},null,32),a.imageUrl?(g(),h("div",Bd,[o("img",{src:a.imageUrl,class:"img-fluid rounded"},null,8,_d)])):V("",!0)])],64)):a.type==="image_left"?(g(),h(ee,{key:2},[o("div",zd,[S[31]||(S[31]=o("label",{class:"form-label"},"Зображення",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[8]||(S[8]=D=>x(D,"single"))},null,32),a.imageUrl?(g(),h("div",Gd,[o("img",{src:a.imageUrl,class:"img-fluid rounded"},null,8,Hd)])):V("",!0)]),o("div",Kd,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[9]||(S[9]=D=>a.title=D),placeholder:"Заголовок"},null,512),[[B,a.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[10]||(S[10]=D=>a.text=D),placeholder:"Текст"},null,512),[[B,a.text,void 0,{trim:!0}]])])],64)):a.type==="two_images"?(g(),h(ee,{key:3},[o("div",Wd,[S[32]||(S[32]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[11]||(S[11]=D=>x(D,1))},null,32),a.imageUrl1?(g(),h("div",Xd,[o("img",{src:a.imageUrl1,class:"img-fluid rounded"},null,8,Yd)])):V("",!0)]),o("div",Jd,[S[33]||(S[33]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[12]||(S[12]=D=>x(D,2))},null,32),a.imageUrl2?(g(),h("div",Qd,[o("img",{src:a.imageUrl2,class:"img-fluid rounded"},null,8,Zd)])):V("",!0)])],64)):V("",!0),o("div",qd,[o("button",{class:"btn btn-success",type:"submit",disabled:l.value},"Зберегти",8,ec),o("button",{class:"btn btn-outline-secondary",type:"button",onClick:v,disabled:l.value},"Скасувати",8,tc)])])],32)):V("",!0),(k=s[n.value])!=null&&k.length?(g(),h("div",rc,[Q(Ct($r),{modelValue:s[n.value],"onUpdate:modelValue":S[23]||(S[23]=D=>s[n.value]=D),"item-key":"_key",handle:".drag",animation:160,class:"d-flex flex-column gap-3",onEnd:c},{item:Be(({element:D,index:j})=>[o("div",nc,[o("div",oc,[S[37]||(S[37]=o("span",{class:"drag",title:"Перетягнути"},[o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#b0b0b0"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("span",ic,I(U(D.type)),1),o("div",sc,[o("button",{class:"icon-btn",onClick:N=>P(j),title:"Клонувати"},S[34]||(S[34]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M8 8h10v10H8z"}),o("path",{d:"M6 16H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",stroke:"#0ea5e9","stroke-width":"2"})],-1)]),8,lc),o("button",{class:"icon-btn",onClick:N=>E(j),title:"Редагувати"},S[35]||(S[35]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M15.2 5.2a2.8 2.8 0 0 1 4 4L7.5 21H3v-4.5L15.2 5.2z",stroke:"#3864ff","stroke-width":"2"})],-1)]),8,ac),o("button",{class:"icon-btn",onClick:N=>M(j),title:"Видалити"},S[36]||(S[36]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),o("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"currentColor","stroke-width":"2"})],-1)]),8,uc)])]),d.value!==j?(g(),h("div",dc,[D.type==="text"?(g(),h(ee,{key:0},[D.title?(g(),h("div",cc,I(D.title),1)):V("",!0),D.text?(g(),h("div",fc,I(D.text),1)):V("",!0)],64)):D.type==="image_right"?(g(),h("div",mc,[o("div",pc,[D.title?(g(),h("div",vc,I(D.title),1)):V("",!0),D.text?(g(),h("div",gc,I(D.text),1)):V("",!0)]),o("div",hc,[o("img",{src:D.imageUrl,class:"img-fluid rounded"},null,8,bc)])])):D.type==="image_left"?(g(),h("div",yc,[o("div",xc,[o("img",{src:D.imageUrl,class:"img-fluid rounded"},null,8,Sc)]),o("div",wc,[D.title?(g(),h("div",Ec,I(D.title),1)):V("",!0),D.text?(g(),h("div",Oc,I(D.text),1)):V("",!0)])])):D.type==="two_images"?(g(),h("div",kc,[o("div",Cc,[o("img",{src:D.imageUrl1,class:"img-fluid rounded"},null,8,$c)]),o("div",Ic,[o("img",{src:D.imageUrl2,class:"img-fluid rounded"},null,8,Pc)])])):V("",!0)])):(g(),h("form",{key:1,class:"card-body",onSubmit:ie(N=>O(j),["prevent"])},[o("div",Ac,[S[38]||(S[38]=o("strong",null,"Тип:",-1)),ae(" "+I(U(f.type)),1)]),f.type==="text"?(g(),h(ee,{key:0},[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[13]||(S[13]=N=>f.title=N),placeholder:"Заголовок"},null,512),[[B,f.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[14]||(S[14]=N=>f.text=N),placeholder:"Текст"},null,512),[[B,f.text,void 0,{trim:!0}]])],64)):f.type==="image_right"?(g(),h("div",Dc,[o("div",Uc,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[15]||(S[15]=N=>f.title=N),placeholder:"Заголовок"},null,512),[[B,f.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[16]||(S[16]=N=>f.text=N),placeholder:"Текст"},null,512),[[B,f.text,void 0,{trim:!0}]])]),o("div",Vc,[S[39]||(S[39]=o("label",{class:"form-label"},"Зображення",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[17]||(S[17]=N=>w(N,"single"))},null,32),f.imageUrl?(g(),h("div",Lc,[o("img",{src:f.imageUrl,class:"img-fluid rounded"},null,8,Mc)])):V("",!0)])])):f.type==="image_left"?(g(),h("div",jc,[o("div",Nc,[S[40]||(S[40]=o("label",{class:"form-label"},"Зображення",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[18]||(S[18]=N=>w(N,"single"))},null,32),f.imageUrl?(g(),h("div",Rc,[o("img",{src:f.imageUrl,class:"img-fluid rounded"},null,8,Fc)])):V("",!0)]),o("div",Bc,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":S[19]||(S[19]=N=>f.title=N),placeholder:"Заголовок"},null,512),[[B,f.title,void 0,{trim:!0}]]),R(o("textarea",{class:"form-control",rows:"6","onUpdate:modelValue":S[20]||(S[20]=N=>f.text=N),placeholder:"Текст"},null,512),[[B,f.text,void 0,{trim:!0}]])])])):f.type==="two_images"?(g(),h("div",_c,[o("div",zc,[S[41]||(S[41]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[21]||(S[21]=N=>w(N,1))},null,32),f.imageUrl1?(g(),h("div",Gc,[o("img",{src:f.imageUrl1,class:"img-fluid rounded"},null,8,Hc)])):V("",!0)]),o("div",Kc,[S[42]||(S[42]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:S[22]||(S[22]=N=>w(N,2))},null,32),f.imageUrl2?(g(),h("div",Wc,[o("img",{src:f.imageUrl2,class:"img-fluid rounded"},null,8,Xc)])):V("",!0)])])):V("",!0),o("div",Yc,[o("button",{class:"btn btn-giant btn-approve",type:"submit",disabled:l.value},"✓ Зберегти зміни",8,Jc),o("button",{class:"btn btn-giant btn-ghost",type:"button",onClick:C,disabled:l.value},"Скасувати",8,Qc)])],40,Tc))])]),_:1},8,["modelValue"])])):(g(),h("div",Zc,"Опис для цієї мови ще не доданий."))])}}},ef=se(qc,[["__scopeId","data-v-25e088bb"]]),tf={class:"card mb-4 p-4"},rf={class:"mb-3"},nf={key:0,class:"invalid-feedback"},of={class:"mb-3"},sf={class:"mb-3"},lf={key:0,class:"invalid-feedback"},af={class:"mb-3"},uf={class:"mb-3"},df={key:0,class:"invalid-feedback"},cf={class:"form-check form-switch mb-2"},ff={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],setup(r,{emit:e}){return(i,u)=>{var n,s,t,l,a,d;return g(),h("div",tf,[o("div",rf,[u[6]||(u[6]=o("label",{class:"form-label"},"Ціна",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(n=r.errors)==null?void 0:n.price}]),"onUpdate:modelValue":u[0]||(u[0]=f=>r.form.price=f),placeholder:"Ціна"},null,2),[[B,r.form.price]]),(s=r.errors)!=null&&s.price?(g(),h("div",nf,I(r.errors.price),1)):V("",!0)]),o("div",of,[u[7]||(u[7]=o("label",{class:"form-label"},"Стара ціна",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":u[1]||(u[1]=f=>r.form.old_price=f)},null,512),[[B,r.form.old_price]])]),o("div",sf,[u[8]||(u[8]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=r.errors)==null?void 0:t.sku}]),"onUpdate:modelValue":u[2]||(u[2]=f=>r.form.sku=f)},null,2),[[B,r.form.sku]]),(l=r.errors)!=null&&l.sku?(g(),h("div",lf,I(r.errors.sku),1)):V("",!0)]),o("div",af,[u[9]||(u[9]=o("label",{class:"form-label"},"Штрихкод",-1)),R(o("input",{type:"text",class:"form-control","onUpdate:modelValue":u[3]||(u[3]=f=>r.form.barcode=f)},null,512),[[B,r.form.barcode]])]),o("div",uf,[u[10]||(u[10]=o("label",{class:"form-label"},"Кількість",-1)),R(o("input",{type:"number",class:W(["form-control",{"is-invalid":(a=r.errors)==null?void 0:a.quantity_in_stock}]),"onUpdate:modelValue":u[4]||(u[4]=f=>r.form.quantity_in_stock=f)},null,2),[[B,r.form.quantity_in_stock]]),(d=r.errors)!=null&&d.quantity_in_stock?(g(),h("div",df,I(r.errors.quantity_in_stock),1)):V("",!0)]),o("div",cf,[R(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":u[5]||(u[5]=f=>r.form.status=f)},null,512),[[yr,r.form.status]]),u[11]||(u[11]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))])])}}},mf={name:"ProductCategory",components:{Multiselect:Vt},props:{modelValue:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{localSelected:[]}},computed:{hasError(){return!!this.errors.categories},errorText(){return this.errors.categories}},watch:{modelValue:{immediate:!0,handler(r){const e=this.localSelected.map(u=>u.id).sort().join(","),i=[...new Set(r)].sort().join(",");e!==i&&this.syncLocalSelected()}},localSelected:{deep:!0,handler(r){const e=[...new Set(r.map(n=>n.id))],i=this.modelValue.slice().sort().join(","),u=e.slice().sort().join(",");i!==u&&this.$emit("update:modelValue",e)}},categories:{immediate:!0,handler(){this.syncLocalSelected()}}},methods:{syncLocalSelected(){if(Array.isArray(this.categories)&&this.categories.length){const r=[...new Set(this.modelValue)];this.localSelected=this.categories.filter(e=>r.includes(e.id))}else this.localSelected=[]}}},pf={class:"card mb-4 p-4"},vf={key:0,class:"invalid-feedback",style:{display:"block"}},gf={key:1,class:"mt-2"};function hf(r,e,i,u,n,s){const t=ce("Multiselect");return g(),h("div",pf,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Q(t,{modelValue:n.localSelected,"onUpdate:modelValue":e[0]||(e[0]=l=>n.localSelected=l),options:i.categories,multiple:!0,label:"name","track-by":"id",placeholder:"Виберіть категорії",class:W({"is-invalid":s.hasError})},null,8,["modelValue","options","class"]),s.hasError?(g(),h("div",vf,I(s.errorText),1)):V("",!0),n.localSelected.length?(g(),h("div",gf,[(g(!0),h(ee,null,ve(n.localSelected,l=>(g(),h("span",{key:l.id,class:"badge bg-primary me-1"},I(l.name),1))),128))])):V("",!0)])}const bf=se(mf,[["render",hf],["__scopeId","data-v-197f5d44"]]),yf={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(r=>String(r.id)===String(this.internalSelectedId))},ukTableRows(){const r=this.selectedGuide;return!r||!r.sizes||!r.sizes.uk?[]:Array.isArray(r.sizes.uk)?r.sizes.uk:Object.entries(r.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(r){this.internalSelectedId=r},internalSelectedId(r){this.$emit("update:modelValue",r)}},created(){be.get("/admin/size-guides").then(r=>{this.sizeGuides=r.data}).catch(r=>{console.error("Error fetching size guides:",r)})}},xf={class:"card mb-4 p-4"},Sf={class:"mb-3"},wf=["value"],Ef={key:0,class:"invalid-feedback",style:{display:"block"}},Of={key:0,class:"mt-3"},kf={class:"form-label"},Cf={key:0},$f={class:"table table-sm mt-2"},If={key:1};function Pf(r,e,i,u,n,s){var t,l;return g(),h("div",xf,[o("div",Sf,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),R(o("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.internalSelectedId=a),class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(g(!0),h(ee,null,ve(n.sizeGuides,a=>(g(),h("option",{value:a.id,key:a.id},I(a.name),9,wf))),128))],2),[[yt,n.internalSelectedId]]),(l=i.errors)!=null&&l.size_guide_id?(g(),h("div",Ef,I(i.errors.size_guide_id),1)):V("",!0)]),s.selectedGuide?(g(),h("div",Of,[o("label",kf,"Розмірна сітка: "+I(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(g(),h("div",Cf,[o("table",$f,[o("thead",null,[o("tr",null,[(g(!0),h(ee,null,ve(s.ukTableColumns,a=>(g(),h("th",{key:a},I(a),1))),128))])]),o("tbody",null,[(g(!0),h(ee,null,ve(s.ukTableRows,(a,d)=>(g(),h("tr",{key:d},[(g(!0),h(ee,null,ve(s.ukTableColumns,f=>(g(),h("td",{key:f},I(a[f]||"-"),1))),128))]))),128))])])])):(g(),h("div",If,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):V("",!0)])}const Tf=se(yf,[["render",Pf]]),Af={class:"card p-4 mb-4 variant-manager"},Df={class:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3"},Uf={class:"d-flex align-items-center gap-2"},Vf={class:"badge bg-secondary-subtle text-secondary fw-semibold"},Lf={class:"small text-muted"},Mf={class:"row g-4"},jf={class:"col-lg-5"},Nf={id:"sizesList"},Rf=["value"],Ff=["disabled"],Bf={id:"colorsList"},_f=["value"],zf={class:"input-group mb-3"},Gf=["disabled"],Hf={class:"input-group-text"},Kf={class:"input-group mb-2"},Wf=["disabled"],Xf={class:"input-group-text"},Yf={key:0,class:"form-text mb-3"},Jf={class:"input-group mb-3"},Qf=["disabled"],Zf=["disabled"],qf=["disabled"],em={class:"d-grid gap-2 mt-2"},tm=["disabled"],rm={class:"col-lg-7"},nm={class:"actions"},om=["onClick"],im=["onClick"],sm={class:"vgrid"},lm={class:"cell"},am={class:"v-value size"},um={class:"cell"},dm={class:"v-value price d-flex align-items-baseline gap-2 flex-wrap"},cm={class:"cur"},fm={key:0,class:"old text-muted text-decoration-line-through"},mm={key:1,class:"disc badge bg-success-subtle text-success"},pm={class:"cell"},vm={class:"v-value qty"},gm={class:"cell color-row"},hm={class:"v-value d-flex align-items-center gap-2"},bm=["title"],ym={key:0,class:"text-muted text-center py-4"},xm={class:"text-end text-muted small mt-1"},Sm={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]},sizePresets:{type:Array,default:()=>["35-36","36-37","37-38","38-39","40-41"]},colorSuggestions:{type:Array,default:()=>["Чорний","Сірий","#000000","#888888","#ffffff"]},currency:{type:String,default:"UAH"},compact:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he([]),s=he(null),t=et({size:"",color:"",price_override:null,old_price:null,quantity:null}),l=et({size:!1,price_override:!1,quantity:!1});st(()=>i.modelValue,S=>{Array.isArray(S)&&(n.value=S.map((k,D)=>({...k,_id:k.id||`${Date.now()}-${D}-${Math.random().toString(36).slice(2)}`})))},{deep:!0,immediate:!0});function a(){u("update:modelValue",n.value.map(({_id:S,...k})=>k))}const d=Ze(()=>i.sizePresets),f=Ze(()=>i.colorSuggestions),c=Ze(()=>({UAH:"грн",PLN:"zł",USD:"$",EUR:"€"})[i.currency]??i.currency),m=Ze(()=>!!t.size&&t.price_override!==null&&Number(t.price_override)>=0&&t.quantity!==null&&Number(t.quantity)>=0),p=Ze(()=>n.value.reduce((S,k)=>S+Number(k.quantity||0),0));function v(S){l[S]=!1}function b(){l.size=!t.size,l.price_override=t.price_override===null||Number(t.price_override)<0,l.quantity=t.quantity===null||Number(t.quantity)<0;const S=(t.color||"").trim().toLowerCase();return n.value.findIndex((D,j)=>(s.value===null||j!==s.value)&&D.size===t.size&&(D.color||"").trim().toLowerCase()===S)!==-1?(l.size=!0,alert("Такий варіант (розмір + колір) уже існує."),!1):!(l.size||l.price_override||l.quantity)}function E(){if(!b())return;const S={size:t.size,color:t.color||"",price_override:Number(t.price_override??0),old_price:t.old_price!==null&&t.old_price!==""?Number(t.old_price):null,quantity:Number(t.quantity??0)};s.value===null?n.value.push({_id:Date.now()+(Math.random()*1e3|0),...S}):(n.value[s.value]={...n.value[s.value],...S},s.value=null),a(),P()}function C(S){s.value=S;const k=n.value[S];t.size=k.size,t.color=k.color||"",t.price_override=k.price_override??0,t.old_price=k.old_price??null,t.quantity=k.quantity??0}function O(){s.value=null,P()}function M(S){confirm("Видалити варіант?")&&(n.value.splice(S,1),a(),s.value===S&&(s.value=null))}function P(){t.size="",t.color="",t.price_override=null,t.old_price=null,t.quantity=null,Object.keys(l).forEach(S=>l[S]=!1)}function y(S){if(!t.size)return;const k=Number(t.quantity||0)+S;t.quantity=k<0?0:k,v("quantity")}function x(S){return typeof S=="string"&&/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(S.trim())}function w(S){const k=Number(S??0);return i.currency==="UAH"?`${k.toLocaleString("uk-UA")} ${c.value}`:i.currency==="PLN"?`${k.toLocaleString("pl-PL")} ${c.value}`:new Intl.NumberFormat(void 0,{style:"currency",currency:i.currency,maximumFractionDigits:0}).format(k)}function U(S,k){const D=Number(S),j=Number(k);return!j||j<=D?0:Math.round((1-D/j)*100)}const $=Ze(()=>{const S=Number(t.price_override??0),k=Number(t.old_price??0);return!!k&&k>S&&S>=0});return(S,k)=>(g(),h("div",Af,[o("div",Df,[o("div",Uf,[k[10]||(k[10]=o("h5",{class:"fw-bold mb-0"},"Варіанти товару",-1)),o("span",Vf,I(n.value.length),1)]),o("div",Lf,[k[11]||(k[11]=ae("Загалом: ",-1)),o("strong",null,I(p.value),1),k[12]||(k[12]=ae(" шт",-1))])]),o("div",Mf,[o("div",jf,[o("form",{class:W(["panel p-3 rounded-4 shadow-sm",{"panel-expanded":s.value!==null}]),onSubmit:ie(E,["prevent"]),novalidate:""},[k[18]||(k[18]=o("label",{class:"form-label fw-semibold"},"Розмір",-1)),R(o("input",{"onUpdate:modelValue":k[0]||(k[0]=D=>t.size=D),list:"sizesList",type:"text",class:W(["form-control form-accent mb-3",{"is-invalid":l.size}]),placeholder:"36-37",onInput:k[1]||(k[1]=D=>v("size"))},null,34),[[B,t.size,void 0,{trim:!0}]]),o("datalist",Nf,[(g(!0),h(ee,null,ve(d.value,D=>(g(),h("option",{key:D,value:D},null,8,Rf))),128))]),k[19]||(k[19]=o("div",{class:"invalid-feedback"},"Вкажіть розмір.",-1)),k[20]||(k[20]=o("label",{class:"form-label fw-semibold"},"Колір",-1)),R(o("input",{"onUpdate:modelValue":k[2]||(k[2]=D=>t.color=D),list:"colorsList",type:"text",class:"form-control mb-3",disabled:!t.size,placeholder:"Чорний або #000000"},null,8,Ff),[[B,t.color,void 0,{trim:!0}]]),o("datalist",Bf,[(g(!0),h(ee,null,ve(f.value,D=>(g(),h("option",{key:D,value:D},null,8,_f))),128))]),k[21]||(k[21]=o("label",{class:"form-label fw-semibold"},"Ціна",-1)),o("div",zf,[R(o("input",{"onUpdate:modelValue":k[3]||(k[3]=D=>t.price_override=D),type:"number",min:"0",step:"1",class:W(["form-control",{"is-invalid":l.price_override}]),disabled:!t.size,placeholder:"Ціна",onInput:k[4]||(k[4]=D=>v("price_override"))},null,42,Gf),[[B,t.price_override,void 0,{number:!0}]]),o("span",Hf,I(c.value),1),k[13]||(k[13]=o("div",{class:"invalid-feedback"},"Вкажіть коректну ціну (≥ 0).",-1))]),k[22]||(k[22]=o("label",{class:"form-label fw-semibold"},"Стара ціна (необовʼязково)",-1)),o("div",Kf,[R(o("input",{"onUpdate:modelValue":k[5]||(k[5]=D=>t.old_price=D),type:"number",min:"0",step:"1",class:"form-control",disabled:!t.size,placeholder:"Стара ціна"},null,8,Wf),[[B,t.old_price,void 0,{number:!0}]]),o("span",Xf,I(c.value),1)]),$.value?(g(),h("div",Yf," Знижка: "+I(U(t.price_override,t.old_price))+"% ",1)):V("",!0),k[23]||(k[23]=o("label",{class:"form-label fw-semibold"},"Кількість",-1)),o("div",Jf,[o("button",{class:"btn btn-outline-secondary",type:"button",onClick:k[6]||(k[6]=D=>y(-1)),disabled:!t.size||(t.quantity??0)<=0},"−",8,Qf),R(o("input",{"onUpdate:modelValue":k[7]||(k[7]=D=>t.quantity=D),type:"number",min:"0",step:"1",class:W(["form-control text-center",{"is-invalid":l.quantity}]),disabled:!t.size,placeholder:"0",onInput:k[8]||(k[8]=D=>v("quantity"))},null,42,Zf),[[B,t.quantity,void 0,{number:!0}]]),o("button",{class:"btn btn-outline-secondary",type:"button",onClick:k[9]||(k[9]=D=>y(1)),disabled:!t.size},"+",8,qf),k[14]||(k[14]=o("span",{class:"input-group-text"},"шт",-1)),k[15]||(k[15]=o("div",{class:"invalid-feedback"},"Кількість не може бути відʼємною.",-1))]),o("div",em,[s.value!==null?(g(),h(ee,{key:0},[k[16]||(k[16]=o("button",{type:"submit",class:"btn btn-giant btn-approve w-100 d-flex align-items-center justify-content-center gap-2"},[o("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})]),ae(" Зберегти зміни ")],-1)),o("button",{type:"button",class:"btn btn-giant btn-ghost w-100",onClick:O},"Скасувати")],64)):(g(),h("button",{key:1,type:"submit",class:"btn btn-accent w-100 d-flex align-items-center justify-content-center gap-2",disabled:!m.value},k[17]||(k[17]=[o("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),ae(" Додати варіант ",-1)]),8,tm))])],34)]),o("div",rm,[Q(Xr,{name:"rows",tag:"div",class:"d-flex flex-column gap-2"},{default:Be(()=>[(g(!0),h(ee,null,ve(n.value,(D,j)=>(g(),h("div",{key:D._id,class:W(["variant-card expanded position-relative rounded-4 shadow-sm",[{editing:s.value===j},r.compact&&"compact"]])},[o("div",nm,[o("button",{class:"act-btn",onClick:N=>C(j),title:"Редагувати"},k[24]||(k[24]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M15.2 5.2a2.8 2.8 0 0 1 4 4L7.5 21H3v-4.5L15.2 5.2z",stroke:"#3864ff","stroke-width":"2"})],-1)]),8,om),o("button",{class:"act-btn",onClick:N=>M(j),title:"Видалити"},k[25]||(k[25]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("circle",{cx:"12",cy:"12",r:"9",stroke:"currentColor","stroke-width":"2"}),o("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"currentColor","stroke-width":"2"})],-1)]),8,im)]),o("div",sm,[o("div",lm,[k[26]||(k[26]=o("div",{class:"v-label"},"Розмір",-1)),o("div",am,I(D.size),1)]),o("div",um,[k[27]||(k[27]=o("div",{class:"v-label"},"Ціна",-1)),o("div",dm,[o("span",cm,I(w(D.price_override)),1),D.old_price?(g(),h("span",fm,I(w(D.old_price)),1)):V("",!0),D.old_price&&D.old_price>D.price_override?(g(),h("span",mm," −"+I(U(D.price_override,D.old_price))+"% ",1)):V("",!0)])]),o("div",pm,[k[28]||(k[28]=o("div",{class:"v-label"},"Кількість",-1)),o("div",vm,I(D.quantity)+" шт",1)]),o("div",gm,[k[29]||(k[29]=o("div",{class:"v-label"},"Колір",-1)),o("div",hm,[o("span",null,I(D.color||"—"),1),x(D.color)?(g(),h("span",{key:0,class:"swatch",style:fr({backgroundColor:D.color}),title:D.color},null,12,bm)):V("",!0)])])])],2))),128))]),_:1}),n.value.length?V("",!0):(g(),h("div",ym,"Ще не додано жодного варіанта")),o("div",xm,[k[30]||(k[30]=ae("Загалом: ",-1)),o("strong",null,I(p.value),1),k[31]||(k[31]=ae(" шт",-1))])])])]))}},wm=se(Sm,[["__scopeId","data-v-8995ddf1"]]),Em={class:"card p-4 mb-4 attrs-simple"},Om={class:"d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3"},km={class:"nav nav-tabs small"},Cm={class:"nav-item"},$m={class:"badge bg-secondary-subtle text-secondary ms-1"},Im={class:"nav-item"},Pm={class:"badge bg-secondary-subtle text-secondary ms-1"},Tm={class:"row g-4"},Am={class:"col-lg-5"},Dm={class:"panel p-3 rounded-4 shadow-sm"},Um={class:"form-label fw-semibold"},Vm=["placeholder"],Lm={class:"form-label fw-semibold"},Mm=["placeholder"],jm={class:"d-grid gap-2"},Nm=["disabled"],Rm={width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},Fm={key:0,d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"},Bm={key:1,d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"},_m={key:0},zm={key:1},Gm=["disabled"],Hm={class:"col-lg-7"},Km={class:"attr-list shadow-sm rounded-4 p-2 bg-light"},Wm={class:"attr-card rounded-4 bg-white shadow-sm"},Xm={class:"d-flex align-items-center gap-2"},Ym={class:"flex-grow-1 d-flex flex-wrap align-items-center gap-1"},Jm={class:"k"},Qm={class:"v"},Zm={class:"d-flex align-items-center gap-1 ms-auto"},qm=["onClick"],ep=["onClick"],tp={key:0,class:"text-muted text-center py-4"},rp={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he("uk");function s(P){C(),n.value=P}const t=et({uk:[],ru:[]}),l=et({name:"",value:""}),a=et({name:!1,value:!1}),d=he(null);let f=0;st(()=>i.modelValue,P=>{const y=x=>Array.isArray(x)?x.map((w,U)=>({...w,_id:w._id||`${Date.now()}-${U}-${Math.random().toString(36).slice(2)}`})):[];P&&typeof P=="object"?(t.uk=y(P.uk),t.ru=y(P.ru)):(t.uk=y(P||[]),t.ru=[]),f=Date.now()},{deep:!0,immediate:!0});function c(){u("update:modelValue",{uk:t.uk.map(({_id:P,...y})=>y),ru:t.ru.map(({_id:P,...y})=>y)})}const m=Ze(()=>!!l.name&&!!l.value);function p(){M()&&(t[n.value].push({_id:`${++f}-${Math.random().toString(36).slice(2)}`,name:l.name,value:l.value}),c(),O())}function v(P){d.value=P;const y=t[n.value][P];l.name=y.name,l.value=y.value}function b(){if(d.value===null||!M())return;const P=d.value;t[n.value][P]={...t[n.value][P],name:l.name,value:l.value},c(),C()}function E(P){confirm(n.value==="uk"?"Видалити характеристику?":"Удалить характеристику?")&&(t[n.value].splice(P,1),c(),d.value===P&&C())}function C(){d.value=null,O(),a.name=!1,a.value=!1}function O(){l.name="",l.value=""}function M(){a.name=!l.name,a.value=!l.value;const P=(l.name||"").trim().toLowerCase(),y=(l.value||"").trim().toLowerCase();return t[n.value].some((w,U)=>(d.value===null||U!==d.value)&&(w.name||"").trim().toLowerCase()===P&&(w.value||"").trim().toLowerCase()===y)?(alert(n.value==="uk"?"Така пара вже існує.":"Такая пара уже существует."),!1):!(a.name||a.value)}return(P,y)=>(g(),h("div",Em,[o("div",Om,[y[10]||(y[10]=o("h5",{class:"fw-bold mb-0"},"Характеристики товару",-1)),o("ul",km,[o("li",Cm,[o("button",{class:W(["nav-link",{active:n.value==="uk"}]),onClick:y[0]||(y[0]=x=>s("uk"))},[y[8]||(y[8]=ae(" Українська ",-1)),o("span",$m,I(t.uk.length),1)],2)]),o("li",Im,[o("button",{class:W(["nav-link",{active:n.value==="ru"}]),onClick:y[1]||(y[1]=x=>s("ru"))},[y[9]||(y[9]=ae(" Російська ",-1)),o("span",Pm,I(t.ru.length),1)],2)])])]),o("div",Tm,[o("div",Am,[o("div",Dm,[o("label",Um,I(n.value==="uk"?"Характеристика":"Характеристика (рус)"),1),R(o("input",{"onUpdate:modelValue":y[2]||(y[2]=x=>l.name=x),type:"text",class:W(["form-control form-accent mb-3",{"is-invalid":a.name}]),placeholder:n.value==="uk"?"Напр.: Матеріал":"Напр.: Материал",onInput:y[3]||(y[3]=x=>a.name=!1)},null,42,Vm),[[B,l.name,void 0,{trim:!0}]]),y[11]||(y[11]=o("div",{class:"invalid-feedback"},"Вкажіть назву.",-1)),o("label",Lm,I(n.value==="uk"?"Значення":"Значение"),1),R(o("input",{"onUpdate:modelValue":y[4]||(y[4]=x=>l.value=x),type:"text",class:W(["form-control mb-3",{"is-invalid":a.value}]),placeholder:n.value==="uk"?"Напр.: Шкіра":"Напр.: Кожа",onInput:y[5]||(y[5]=x=>a.value=!1)},null,42,Mm),[[B,l.value,void 0,{trim:!0}]]),y[12]||(y[12]=o("div",{class:"invalid-feedback"},"Вкажіть значення.",-1)),o("div",jm,[o("button",{type:"button",class:"btn btn-accent w-100 d-flex align-items-center justify-content-center gap-2",disabled:!m.value,onClick:y[6]||(y[6]=x=>d.value===null?p():b())},[(g(),h("svg",Rm,[d.value===null?(g(),h("path",Fm)):(g(),h("path",Bm))])),d.value===null?(g(),h("span",_m,I(n.value==="uk"?"Додати":"Добавить"),1)):(g(),h("span",zm,I(n.value==="uk"?"Зберегти":"Сохранить"),1))],8,Nm),o("button",{type:"button",class:"btn btn-light",onClick:C,disabled:d.value===null},I(n.value==="uk"?"Скасувати":"Отменить"),9,Gm)])])]),o("div",Hm,[o("div",Km,[Q(Ct($r),{modelValue:t[n.value],"onUpdate:modelValue":y[7]||(y[7]=x=>t[n.value]=x),"item-key":"_id",handle:".drag-handle",animation:150,class:"d-flex flex-column gap-2",onEnd:c},{item:Be(({element:x,index:w})=>[o("div",Wm,[o("div",Xm,[y[16]||(y[16]=o("span",{class:"drag-handle",title:"Перетягнути"},[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"#b0b0b0"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",Ym,[o("span",Jm,I(x.name),1),y[13]||(y[13]=o("span",{class:"sep"},":",-1)),o("span",Qm,I(x.value),1)]),o("div",Zm,[o("button",{class:"btn-icon edit",onClick:U=>v(w),title:"Редагувати"},y[14]||(y[14]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("path",{d:"M15.2 5.2a2.8 2.8 0 0 1 4 4L7.5 21H3v-4.5L15.2 5.2z",stroke:"#3864ff","stroke-width":"2"})],-1)]),8,qm),o("button",{class:"btn-icon remove",onClick:U=>E(w),title:"Видалити"},y[15]||(y[15]=[o("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none"},[o("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2"}),o("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"currentColor","stroke-width":"2"})],-1)]),8,ep)])])])]),_:1},8,["modelValue"]),t[n.value].length?V("",!0):(g(),h("div",tp,I(n.value==="uk"?"Ще не додано жодної характеристики":"Пока что нет характеристик"),1))])])])]))}},np=se(rp,[["__scopeId","data-v-a30453c5"]]),op={class:"card mb-4 p-4"},ip={class:"color-list d-flex flex-column gap-3"},sp={class:"desc-action-bar"},lp={class:"position-absolute top-0 end-0 m-3 d-flex gap-2"},ap=["onClick"],up=["onClick"],dp=["onClick"],cp={key:0,class:"row g-3 align-items-center"},fp={class:"col-12 col-md-6"},mp={class:"col-12"},pp={class:"d-flex align-items-center gap-3"},vp=["src"],gp={class:"fw-bold fs-5"},hp={class:"d-flex align-items-center gap-2"},bp=["src"],yp={class:"col-12 col-md-6"},xp=["src"],Sp={key:1,class:"d-flex align-items-center"},wp=["src"],Ep={class:"fw-bold fs-5 lh-sm mb-1"},Op={key:0,class:"fw-semibold"},kp=["href"],Cp={class:"ms-2 text-muted"},$p={key:1,class:"text-secondary fw-semibold"},Ip={key:0,class:"position-relative bg-light rounded-4 border p-4 mb-3 shadow-sm"},Pp={class:"row g-3 align-items-center"},Tp={class:"col-12 col-md-6"},Ap={class:"col-12"},Dp={class:"d-flex align-items-center gap-3"},Up=["src"],Vp={class:"fw-bold fs-5"},Lp={class:"d-flex align-items-center gap-2"},Mp=["src"],jp={class:"col-12 col-md-6"},Np=["src"],Rp={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productId:{type:[Number,String],required:!0}},emits:["update:modelValue"],setup(r,{emit:e}){const i=r,u=e,n=he([...i.modelValue]);st(()=>i.modelValue,x=>{n.value=[...x]});function s(x){if(!x)return"";if(/^(https?:)?\/\//i.test(x)||/^data:/.test(x)||/^blob:/.test(x))return x;let w=String(x).replace(/^\/+/,"").replace(/^public\//,"");return w.startsWith("storage/")?"/"+w:"/storage/"+w}const t=he({});function l(x){return x?`/uk/product/${x}`:"#"}async function a(){const x=[...new Set(n.value.map(w=>w.linked_product_id).filter(Boolean))];if(!x.length){t.value={};return}try{const{data:w}=await be.post("/api/products/get-linked-info",{ids:x});t.value=w||{}}catch{t.value={}}}er(a),st(()=>n.value.map(x=>x.linked_product_id).join(","),a);const d=he([]);er(async()=>{try{const x=await be.get("/admin/products/list");d.value=Array.isArray(x.data)?x.data:x.data.data??[]}catch{d.value=[]}});function f(x){return x?x.sku?`${x.name} (SKU: ${x.sku})`:x.name:""}function c(x,w){if(!w)return!0;const U=(x.name||"").toLowerCase(),$=(x.sku||"").toLowerCase(),S=w.toLowerCase();return U.includes(S)||$.includes(S)}const m=he(null),p=he({name:"",linked_product_id:"",icon_path:"",product:null,image:""});function v(x){m.value=x;const w=n.value[x],U=d.value.find($=>$.id===w.linked_product_id)||null;p.value={name:w.name||"",linked_product_id:w.linked_product_id||"",icon_path:w.icon_path||"",image:w.icon_path||"",product:U}}function b(){m.value="add",p.value={name:"",linked_product_id:"",icon_path:"",image:"",product:null}}function E(x){if(m.value!==null){if(!p.value.name||!p.value.product){alert("Будь ласка, заповніть усі поля перед збереженням кольору.");return}n.value[x]={...n.value[x],name:p.value.name,linked_product_id:p.value.product.id,icon_path:p.value.image||""},u("update:modelValue",[...n.value]),O()}}function C(){if(!p.value.name||!p.value.product){alert("Будь ласка, заповніть усі поля перед додаванням кольору.");return}n.value.push({name:p.value.name,linked_product_id:p.value.product.id,icon_path:p.value.image||"",product_id:i.productId}),u("update:modelValue",[...n.value]),O()}function O(){m.value=null,p.value={name:"",linked_product_id:"",icon_path:"",product:null,image:""}}function M(x){n.value.splice(x,1),u("update:modelValue",[...n.value])}async function P(x){if(!x)return"";if(!i.productId)return alert("ID продукту не знайдено. Збережіть товар перед додаванням фото!"),"";const w=new FormData;w.append("image",x),w.append("product_id",i.productId);try{return(await be.post("/api/upload-image-color",w,{headers:{"Content-Type":"multipart/form-data"}})).data.url||""}catch(U){return console.error("uploadImage error:",U),alert("Помилка завантаження зображення!"),""}}async function y(x){const w=x.target.files[0];if(!w)return;const U=await P(w);U&&(p.value.image=U)}return(x,w)=>(g(),h("div",op,[w[8]||(w[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",ip,[(g(!0),h(ee,null,ve(n.value,(U,$)=>(g(),h("div",{key:U.id||$,class:"position-relative bg-white rounded-4 border p-4 mb-3 shadow-sm"},[o("div",sp,[o("div",lp,[m.value!==$?(g(),h("button",{key:0,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:S=>v($)},w[4]||(w[4]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#222","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1),o("span",{class:"d-none d-md-inline"},"Редагувати",-1)]),8,ap)):V("",!0),m.value!==$?(g(),h("button",{key:1,class:"btn btn-outline-danger btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:S=>M($)},w[5]||(w[5]=[o("i",{class:"bi bi-trash"},null,-1)]),8,up)):V("",!0),m.value===$?(g(),h("button",{key:2,class:"btn btn-success btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:S=>E($)},w[6]||(w[6]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#fff","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7"})],-1),o("span",{class:"d-none d-md-inline"},"Зберегти",-1)]),8,dp)):V("",!0),m.value===$?(g(),h("button",{key:3,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:O},w[7]||(w[7]=[o("span",null,"Скасувати",-1)]))):V("",!0)])]),m.value===$?(g(),h("div",cp,[o("div",fp,[R(o("input",{"onUpdate:modelValue":w[0]||(w[0]=S=>p.value.name=S),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[B,p.value.name]])]),o("div",mp,[Q(Ct(Vt),{modelValue:p.value.product,"onUpdate:modelValue":w[1]||(w[1]=S=>p.value.product=S),options:d.value,searchable:!0,"custom-label":f,filter:c,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Be(({option:S})=>[o("div",pp,[S.image?(g(),h("img",{key:0,src:s(S.image),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,vp)):V("",!0),o("span",gp,I(f(S)),1)])]),singleLabel:Be(({option:S})=>[o("div",hp,[S&&S.image?(g(),h("img",{key:0,src:s(S.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,bp)):V("",!0),o("span",null,I(f(S)),1)])]),_:1},8,["modelValue","options"])]),o("div",yp,[o("input",{type:"file",class:"form-control mb-3",onChange:y},null,32),p.value.image?(g(),h("img",{key:0,src:s(p.value.image),alt:"",class:"color-img-preview mb-2"},null,8,xp)):V("",!0)])])):(g(),h("div",Sp,[U.icon_path?(g(),h("img",{key:0,src:s(U.icon_path),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,wp)):V("",!0),o("div",null,[o("div",Ep,I(U.name),1),t.value[U.linked_product_id]?(g(),h("div",Op,[o("a",{href:l(t.value[U.linked_product_id].slug),target:"_blank",class:"text-primary fw-bold"},I(t.value[U.linked_product_id].name),9,kp),o("span",Cp,"SKU: "+I(t.value[U.linked_product_id].sku),1)])):U.linked_product_id?(g(),h("div",$p," ID товару: "+I(U.linked_product_id)+" (товар не знайдено) ",1)):V("",!0)])]))]))),128)),m.value==="add"?(g(),h("div",Ip,[o("div",Pp,[o("div",Tp,[R(o("input",{"onUpdate:modelValue":w[2]||(w[2]=U=>p.value.name=U),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[B,p.value.name]])]),o("div",Ap,[Q(Ct(Vt),{modelValue:p.value.product,"onUpdate:modelValue":w[3]||(w[3]=U=>p.value.product=U),options:d.value,searchable:!0,"custom-label":f,filter:c,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Be(({option:U})=>[o("div",Dp,[U.image?(g(),h("img",{key:0,src:s(U.image),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,Up)):V("",!0),o("span",Vp,I(f(U)),1)])]),singleLabel:Be(({option:U})=>[o("div",Lp,[U&&U.image?(g(),h("img",{key:0,src:s(U.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,Mp)):V("",!0),o("span",null,I(f(U)),1)])]),_:1},8,["modelValue","options"])]),o("div",jp,[o("input",{type:"file",class:"form-control mb-3",onChange:y},null,32),p.value.image?(g(),h("img",{key:0,src:s(p.value.image),alt:"",class:"color-img-preview mb-2"},null,8,Np)):V("",!0)]),o("div",{class:"col-12 d-flex gap-2"},[o("button",{type:"button",class:"btn btn-success flex-fill",onClick:C},"Додати"),o("button",{type:"button",class:"btn btn-outline-secondary flex-fill",onClick:O},"Скасувати")])])])):V("",!0)]),o("div",{class:"mt-3"},[o("button",{class:"btn btn-primary w-100",onClick:b},"+ Додати колір")])]))}},Fp=se(Rp,[["__scopeId","data-v-fd699dab"]]),Bp={name:"ProductEdit",components:{ProductHeader:qu,ProductTitles:cd,ProductSeo:yd,ProductImages:$d,ProductDescription:ef,ProductPrice:ff,ProductCategory:bf,ProductSizeGuide:Tf,ProductVariants:wm,ProductAttributes:np,ProductColors:Fp,GlobalLoadingOverlay:vn},props:{productId:{type:[Number,String],required:!0}},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",status:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},categoryOptions:[],productOptions:[],loading:!0,saving:!1}},async created(){await this.fetchCategories(),await this.fetchProduct(),await this.fetchProductOptions(),this.loading=!1},methods:{updateForm(r){r.categories&&(r.categories=[...new Set(r.categories)]),this.form={...this.form,...r}},async fetchProduct(){try{const{data:r}=await be.get(`/admin/products/${this.productId}/edit`),e=r.product,i=r.attributes||{uk:[],ru:[]},u=e.translations.find(s=>s.locale==="uk")||{},n=e.translations.find(s=>s.locale==="ru")||{};Object.assign(this.form,{id:e.id,name_uk:u.name||"",slug_uk:u.slug||"",meta_title_uk:u.meta_title||"",meta_description_uk:u.meta_description||"",name_ru:n.name||"",slug_ru:n.slug||"",meta_title_ru:n.meta_title||"",meta_description_ru:n.meta_description||"",old_price:e.old_price,price:e.price,sku:e.sku,barcode:e.barcode,quantity_in_stock:e.quantity_in_stock,status:!!e.status,categories:e.categories?e.categories.map(s=>s.id):[],size_guide_id:e.size_guide_id,images:e.images||[],variants:e.variants||[],attributes:i,colors:e.colors||[],description:{uk:u.description?JSON.parse(u.description):[],ru:n.description?JSON.parse(n.description):[]}})}catch{alert("Помилка завантаження продукту")}},async fetchCategories(){try{const{data:r}=await be.get("/api/category-select/uk");this.categoryOptions=r}catch{this.categoryOptions=[]}},async fetchProductOptions(){try{const e=(await be.get("/admin/products/list")).data;this.productOptions=Array.isArray(e)?e:e.products||[]}catch{this.productOptions=[]}},async submitForm(){if(this.saving)return;this.errors={},this.form.categories=[...new Set(this.form.categories)];const r=new FormData;r.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(i=>{i.file&&r.append("images[]",i.file)});const e=(this.form.images||[]).map(i=>({position:i.position,is_main:i.is_main,url:i.url||null}));r.append("images_meta",JSON.stringify(e));try{this.saving=!0,await be.post(`/admin/products/${this.productId}?_method=PUT`,r,{headers:{"Content-Type":"multipart/form-data"}}),alert("Товар успішно оновлено!"),window.location.href="/admin/products"}catch(i){i.response&&i.response.status===422?this.errors=Object.fromEntries(Object.entries(i.response.data.errors).map(([u,n])=>[u,n[0]])):alert("Сталася помилка при збереженні!")}finally{this.saving=!1}}}},_p={class:"p-4"},zp={class:"row"},Gp={class:"col-md-8"},Hp={class:"col-md-4"};function Kp(r,e,i,u,n,s){const t=ce("ProductHeader"),l=ce("ProductTitles"),a=ce("ProductSeo"),d=ce("ProductImages"),f=ce("ProductPrice"),c=ce("ProductCategory"),m=ce("ProductSizeGuide"),p=ce("ProductDescription"),v=ce("ProductVariants"),b=ce("ProductAttributes"),E=ce("ProductColors"),C=ce("GlobalLoadingOverlay");return g(),h(ee,null,[o("div",_p,[Q(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",zp,[o("div",Gp,[Q(l,{form:n.form,errors:n.errors},null,8,["form","errors"]),Q(a,{form:n.form,errors:n.errors},null,8,["form","errors"]),Q(d,{modelValue:n.form.images,"onUpdate:modelValue":e[0]||(e[0]=O=>n.form.images=O)},null,8,["modelValue"])]),o("div",Hp,[Q(f,{form:n.form,errors:n.errors,"onUpdate:form":s.updateForm},null,8,["form","errors","onUpdate:form"]),Q(c,{modelValue:n.form.categories,"onUpdate:modelValue":e[1]||(e[1]=O=>n.form.categories=O),categories:n.categoryOptions,errors:n.errors},null,8,["modelValue","categories","errors"]),Q(m,{modelValue:n.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=O=>n.form.size_guide_id=O),errors:n.errors},null,8,["modelValue","errors"])])]),Q(p,{modelValue:n.form.description,"onUpdate:modelValue":e[3]||(e[3]=O=>n.form.description=O),"product-id":n.form.id||""},null,8,["modelValue","product-id"]),Q(v,{modelValue:n.form.variants,"onUpdate:modelValue":e[4]||(e[4]=O=>n.form.variants=O),errors:n.errors},null,8,["modelValue","errors"]),Q(b,{modelValue:n.form.attributes,"onUpdate:modelValue":e[5]||(e[5]=O=>n.form.attributes=O),errors:n.errors},null,8,["modelValue","errors"]),Q(E,{modelValue:n.form.colors,"onUpdate:modelValue":e[6]||(e[6]=O=>n.form.colors=O),"product-id":n.form.id||"",errors:n.errors},null,8,["modelValue","product-id","errors"])]),Q(C,{active:n.loading||n.saving,label:n.loading?"Завантажуємо форму…":"Публікуємо товар…",hint:n.saving?"Будь ласка, не закривайте сторінку":""},null,8,["active","label","hint"])],64)}const Wp=se(Bp,[["render",Kp]]),Xp={name:"CategoryTable",props:{categories:{type:Array,required:!0}},data(){return{menuOpen:null}},methods:{getAllDescendantIds(r){const e=[],i=[r];for(;i.length;){const u=i.pop(),n=this.categories.filter(s=>s.parent_id===u);for(const s of n)e.push(s.id),i.push(s.id)}return e},availableParents(r){const e=[r.id,...this.getAllDescendantIds(r.id)];return this.categories.filter(i=>!e.includes(i.id))},getTranslation(r,e="name",i="uk"){var n;const u=(n=r.translations)==null?void 0:n.find(s=>s.locale===i);return u?u[e]:""},confirmChangeParent(r){r._pendingParent!=r.parent_id&&(confirm("Ви дійсно хочете змінити батьківську категорію?")?this.saveParent(r):r._pendingParent=r.parent_id)},async saveParent(r){r._savingParent=!0;try{await be.post(`/api/categories/${r.id}/update-parent`,{parent_id:r._pendingParent}),r.parent_id=r._pendingParent,r._savingParent=!1,this.$emit("reload")}catch{r._pendingParent=r.parent_id,r._savingParent=!1,alert("Помилка при зміні батьківської категорії")}},async toggleStatus(r){if(r._savingStatus)return;const e=r.status;r.status=e==1||e===!0?0:1,r._savingStatus=!0;try{await be.post(`/api/categories/${r.id}/toggle-status`,{status:r.status}),r._savingStatus=!1,this.$emit("reload")}catch{r.status=e,r._savingStatus=!1,alert("Помилка збереження статусу")}},statusLabel(r){return r==1||r===!0?"Опубліковано":r==0||r===!1?"Неактивний":""},statusClass(r){return r==1||r===!0?"status-publish":r==0||r===!1?"status-inactive":""},openMenu(r){this.menuOpen===r?this.closeMenu():(this.menuOpen=r,document.addEventListener("click",this.handleOutsideClick))},closeMenu(){this.menuOpen=null,document.removeEventListener("click",this.handleOutsideClick)},handleOutsideClick(r){!r.target.closest(".dropdown-menu")&&!r.target.closest(".dots-menu")&&this.closeMenu()},async deleteCategory(r){if(this.closeMenu(),!!confirm("Підтвердіть видалення категорії. Операція незворотна і не може бути скасована."))try{await be.delete(`/admin/categories/${r.id}`),alert("Категорія успішно видалена"),this.$emit("reload")}catch{alert("Помилка при видаленні категорії")}},download(r){this.closeMenu(),alert(`Download category #${r.id}`)},duplicate(r){this.closeMenu(),this.$emit("duplicate",r)},initPendingParentFields(){this.categories.forEach(r=>{typeof r._pendingParent>"u"&&(r._pendingParent=r.parent_id),r._savingParent=!1,r._savingStatus=!1})}},mounted(){this.initPendingParentFields()},watch:{categories:{handler(){this.initPendingParentFields()},deep:!0,immediate:!0}}},Yp={class:"filters mb-4 card",style:{"border-radius":"5px"}},Jp={class:"table align-middle category-table-modern"},Qp={class:"d-flex align-items-center cat-modern-cell"},Zp={class:"product-name"},qp={class:"text-muted"},ev=["onUpdate:modelValue","onChange","disabled"],tv=["value"],rv={key:0,class:"spinner-border spinner-border-sm ms-1"},nv={class:"d-flex align-items-center gap-2"},ov=["onClick"],iv={key:0,class:"spinner-border spinner-border-sm ms-1"},sv={class:"actions-cell"},lv=["href"],av=["onClick"],uv=["onClick"],dv=["onClick"],cv=["onClick"];function fv(r,e,i,u,n,s){return g(),h("div",Yp,[o("table",Jp,[e[7]||(e[7]=o("thead",null,[o("tr",null,[o("th",null,"Category"),o("th",null,"Description"),o("th",null,"Parent"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(g(!0),h(ee,null,ve(i.categories,t=>(g(),h("tr",{key:t.id},[o("td",null,[o("div",Qp,[o("div",null,[o("div",Zp,I(s.getTranslation(t,"name","uk")),1)])])]),o("td",null,[o("span",qp,I(s.getTranslation(t,"meta_title","uk")),1)]),o("td",null,[R(o("select",{"onUpdate:modelValue":l=>t._pendingParent=l,onChange:l=>s.confirmChangeParent(t),class:"form-select",style:{"min-width":"140px"},disabled:t._savingParent},[e[1]||(e[1]=o("option",{value:null},"— Коренева категорія —",-1)),(g(!0),h(ee,null,ve(s.availableParents(t),l=>(g(),h("option",{key:l.id,value:l.id},I(s.getTranslation(l,"name","uk")),9,tv))),128))],40,ev),[[yt,t._pendingParent]]),t._savingParent?(g(),h("span",rv)):V("",!0)]),o("td",null,[o("div",nv,[o("div",{class:W(["toggle-switch",{active:t.status==1||t.status===!0}]),onClick:l=>s.toggleStatus(t),style:{cursor:"pointer"},title:"Змінити статус"},null,10,ov),o("span",{class:W(["status-badge",s.statusClass(t.status)])},I(s.statusLabel(t.status)),3),t._savingStatus?(g(),h("span",iv)):V("",!0)])]),o("td",sv,[o("a",{href:`/admin/categories/${t.id}/edit`,class:"edit-btn text-dark",title:"Редагувати"},e[2]||(e[2]=[o("i",{class:"bi bi-pencil-square"},null,-1)]),8,lv),o("button",{class:"dots-menu",onClick:l=>s.openMenu(t.id),type:"button",title:"Ще дії"},e[3]||(e[3]=[o("i",{class:"bi bi-three-dots-vertical"},null,-1)]),8,av),n.menuOpen===t.id?(g(),h("div",{key:0,class:"dropdown-menu show",onMouseleave:e[0]||(e[0]=(...l)=>s.closeMenu&&s.closeMenu(...l))},[o("a",{class:"dropdown-item",onClick:ie(l=>s.download(t),["prevent"])},e[4]||(e[4]=[o("i",{class:"bi bi-download me-2"},null,-1),ae(" Download ",-1)]),8,uv),o("a",{class:"dropdown-item text-danger",onClick:ie(l=>s.deleteCategory(t),["prevent"])},e[5]||(e[5]=[o("i",{class:"bi bi-trash me-2"},null,-1),ae(" Delete ",-1)]),8,dv),o("a",{class:"dropdown-item",onClick:ie(l=>s.duplicate(t),["prevent"])},e[6]||(e[6]=[o("i",{class:"bi bi-files me-2"},null,-1),ae(" Duplicate ",-1)]),8,cv)],32)):V("",!0)])]))),128))])])])}const mv=se(Xp,[["render",fv],["__scopeId","data-v-6ca6fac6"]]),pv={components:{CategoryTable:mv},data(){return{categories:[]}},methods:{async loadCategories(){const r=await be.get("/api/categories/list-admin");this.categories=r.data}},mounted(){this.loadCategories()}};function vv(r,e,i,u,n,s){const t=ce("CategoryTable");return g(),h("div",null,[e[0]||(e[0]=kr('<div class="d-flex justify-content-between align-items-center mb-3" data-v-2a25ee4e><h4 class="mb-0 fw-bold" data-v-2a25ee4e>Категорії</h4><a href="/admin/categories/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.15);transition:background 0.3s;" data-v-2a25ee4e><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-folder-plus me-2" viewBox="0 0 16 16" data-v-2a25ee4e><path d="M9.828 4a.5.5 0 0 0-.354.146l-.646.647-2-2A1 1 0 0 0 5.586 2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H9.828zM2 3h3.586a1 1 0 0 1 .707.293l2 2H14a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm7 7a.5.5 0 0 1 .5-.5h1v-1a.5.5 0 0 1 1 0v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1-.5-.5z" data-v-2a25ee4e></path></svg> Додати категорію </a></div>',1)),Q(t,{categories:n.categories,onReload:s.loadCategories},null,8,["categories","onReload"])])}const gv=se(pv,[["render",vv],["__scopeId","data-v-2a25ee4e"]]),hv={name:"CategoryHeader",props:{title:{type:String,default:"Додати/Редагувати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},bv={class:"d-flex justify-content-between align-items-center mb-4"},yv={class:"fw-bold mb-0"},xv={class:"top-actions"};function Sv(r,e,i,u,n,s){return g(),h("div",bv,[o("div",null,[o("h5",yv,I(i.title),1)]),o("div",xv,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>r.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>r.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>r.$emit("submit"))},I(i.publishLabel),1)])])}const wv=se(hv,[["render",Sv],["__scopeId","data-v-449badfd"]]),Ev={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Ov={class:"card mb-4 p-3"},kv={class:"mb-3"},Cv={key:0,class:"invalid-feedback"},$v={class:"mb-3"},Iv={key:0,class:"invalid-feedback"},Pv={class:"mb-3"},Tv={key:0,class:"invalid-feedback"},Av={class:"mb-3"},Dv={key:0,class:"invalid-feedback"};function Uv(r,e,i,u,n,s){var t,l,a,d,f,c,m,p;return g(),h("div",Ov,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",kv,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=v=>i.form.name_uk=v),onInput:e[1]||(e[1]=v=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[B,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(g(),h("div",Cv,I(i.errors.name_uk),1)):V("",!0)]),o("div",$v,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=v=>i.form.slug_uk=v),onInput:e[3]||(e[3]=v=>s.clearError("slug_uk")),autocomplete:"off"},null,34),[[B,i.form.slug_uk]]),(d=i.errors)!=null&&d.slug_uk?(g(),h("div",Iv,I(i.errors.slug_uk),1)):V("",!0)]),o("div",Pv,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(f=i.errors)==null?void 0:f.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=v=>i.form.name_ru=v),onInput:e[5]||(e[5]=v=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[B,i.form.name_ru]]),(c=i.errors)!=null&&c.name_ru?(g(),h("div",Tv,I(i.errors.name_ru),1)):V("",!0)]),o("div",Av,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=v=>i.form.slug_ru=v),onInput:e[7]||(e[7]=v=>s.clearError("slug_ru")),autocomplete:"off"},null,34),[[B,i.form.slug_ru]]),(p=i.errors)!=null&&p.slug_ru?(g(),h("div",Dv,I(i.errors.slug_ru),1)):V("",!0)])])}const Vv=se(Ev,[["render",Uv]]),Lv={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Mv={class:"card mb-4 p-3"},jv={class:"mb-3"},Nv={key:0,class:"invalid-feedback"},Rv={class:"mb-3"},Fv={key:0,class:"invalid-feedback"},Bv={class:"mb-3"},_v={key:0,class:"invalid-feedback"},zv={class:"mb-3"},Gv={key:0,class:"invalid-feedback"};function Hv(r,e,i,u,n,s){var t,l,a,d,f,c,m,p;return g(),h("div",Mv,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",jv,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=v=>i.form.meta_title_uk=v),onInput:e[1]||(e[1]=v=>s.clearError("meta_title_uk"))},null,34),[[B,i.form.meta_title_uk]]),(l=i.errors)!=null&&l.meta_title_uk?(g(),h("div",Nv,I(i.errors.meta_title_uk),1)):V("",!0)]),o("div",Rv,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),R(o("textarea",{class:W(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=v=>i.form.meta_description_uk=v),onInput:e[3]||(e[3]=v=>s.clearError("meta_description_uk"))},null,34),[[B,i.form.meta_description_uk]]),(d=i.errors)!=null&&d.meta_description_uk?(g(),h("div",Fv,I(i.errors.meta_description_uk),1)):V("",!0)]),o("div",Bv,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(f=i.errors)==null?void 0:f.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=v=>i.form.meta_title_ru=v),onInput:e[5]||(e[5]=v=>s.clearError("meta_title_ru"))},null,34),[[B,i.form.meta_title_ru]]),(c=i.errors)!=null&&c.meta_title_ru?(g(),h("div",_v,I(i.errors.meta_title_ru),1)):V("",!0)]),o("div",zv,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),R(o("textarea",{class:W(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=v=>i.form.meta_description_ru=v),onInput:e[7]||(e[7]=v=>s.clearError("meta_description_ru"))},null,34),[[B,i.form.meta_description_ru]]),(p=i.errors)!=null&&p.meta_description_ru?(g(),h("div",Gv,I(i.errors.meta_description_ru),1)):V("",!0)])])}const Kv=se(Lv,[["render",Hv]]),Wv={name:"CategoryDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},categoryId:{type:[String,Number],required:!0}},data(){return{lang:"uk",blocks:{uk:[],ru:[]},editIdx:null,editForm:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""},addMode:!1,newBlock:{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},uploading:!1}},watch:{modelValue:{immediate:!0,deep:!0,handler(r){this.blocks={uk:Array.isArray(r.uk)?JSON.parse(JSON.stringify(r.uk)):[],ru:Array.isArray(r.ru)?JSON.parse(JSON.stringify(r.ru)):[]}}}},methods:{switchLang(r){this.lang=r,this.cancelEdit(),this.cancelAddBlock()},editBlock(r){this.editIdx=r,this.editForm={...this.blocks[this.lang][r]}},cancelEdit(){this.editIdx=null,this.editForm={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""}},async saveEditBlock(r){this.editIdx!==null&&(this.blocks[this.lang][this.editIdx]={...this.editForm,_key:this.blocks[this.lang][this.editIdx]._key,type:this.blocks[this.lang][this.editIdx].type},this.cancelEdit(),this.$emit("update:modelValue",this.blocks))},deleteBlock(r){this.blocks[this.lang].splice(r,1),this.$emit("update:modelValue",this.blocks),this.editIdx===r&&this.cancelEdit()},async uploadImage(r){const e=new FormData;e.append("image",r),e.append("category_id",this.categoryId),this.uploading=!0;try{const i=await be.post("/api/upload-image-category",e,{headers:{"Content-Type":"multipart/form-data"}});return this.uploading=!1,i.data.url}catch{return this.uploading=!1,alert("Помилка завантаження зображення!"),""}},async onImageChange(r,e,i=null){const u=r.target.files[0];if(!u)return;const n=await this.uploadImage(u);n&&(e==="image_right"||e==="image_left"?this.editForm.imageUrl=n:e==="two_images"&&i===1?this.editForm.imageUrl1=n:e==="two_images"&&i===2&&(this.editForm.imageUrl2=n))},startAddBlock(){this.addMode=!0,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},cancelAddBlock(){this.addMode=!1,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},async saveNewBlock(){if(!this.newBlock.type)return;const r=Date.now()+Math.floor(Math.random()*1e3),e={...this.newBlock,_key:r};this.blocks[this.lang].push(e),this.addMode=!1,this.$emit("update:modelValue",this.blocks),this.cancelAddBlock()},async onAddImage(r,e){const i=r.target.files[0];if(!i)return;const u=await this.uploadImage(i);u&&(e==="single"?this.newBlock.imageUrl=u:e===1?this.newBlock.imageUrl1=u:e===2&&(this.newBlock.imageUrl2=u))}}},Xv={class:"card mb-4 p-4"},Yv={class:"nav nav-tabs mb-3"},Jv={class:"nav-item"},Qv={class:"nav-item"},Zv={key:0},qv={class:"desc-action-bar"},eg=["onClick"],tg=["onClick"],rg={class:"mb-3"},ng={class:"mb-3"},og={key:1,class:"row"},ig={class:"col-md-6 mb-3"},sg={class:"col-md-6 mb-3"},lg={key:0,class:"mt-2"},ag=["src"],ug={key:2,class:"row"},dg={class:"col-md-6 mb-3"},cg={key:0,class:"mt-2"},fg=["src"],mg={class:"col-md-6 mb-3"},pg={key:3,class:"row"},vg={class:"col-md-6 mb-3"},gg={key:0,class:"mt-2"},hg=["src"],bg={class:"col-md-6 mb-3"},yg={key:0,class:"mt-2"},xg=["src"],Sg={key:0,class:"mb-4"},wg={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Eg={style:{"font-size":"1.05rem"}},Og={key:1,class:"row align-items-center mb-4"},kg={class:"col-md-6 mb-3 mb-md-0"},Cg={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},$g={style:{"font-size":"1.05rem"}},Ig={class:"col-md-6 d-flex justify-content-center"},Pg=["src"],Tg={key:2,class:"row align-items-center mb-4"},Ag={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Dg=["src"],Ug={class:"col-md-6"},Vg={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Lg={style:{"font-size":"1.05rem"}},Mg={key:3,class:"row align-items-center mb-4"},jg={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Ng=["src"],Rg={class:"col-md-6 d-flex justify-content-center"},Fg=["src"],Bg={key:1,class:"text-muted"},_g={class:"mt-4"},zg={class:"row g-3 align-items-stretch"},Gg={class:"col-12"},Hg={class:"col-12"},Kg={class:"col-12"},Wg={class:"col-md-6 col-12"},Xg={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Yg={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Jg=["src"],Qg={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Zg={key:0,class:"mt-2 w-100 d-flex justify-content-center"},qg=["src"],eh={class:"col-md-6 col-12"},th={class:"col-md-6 col-12 d-flex flex-column align-items-center"},rh={key:0,class:"mt-2 w-100 d-flex justify-content-center"},nh=["src"],oh={class:"col-md-6 col-12 d-flex flex-column align-items-center"},ih={key:0,class:"mt-2 w-100 d-flex justify-content-center"},sh=["src"],lh={class:"col-12 d-flex gap-2 mt-3"};function ah(r,e,i,u,n,s){return g(),h("div",Xv,[e[44]||(e[44]=o("h6",{class:"fw-bold mb-3"},"Опис категорії",-1)),o("ul",Yv,[o("li",Jv,[o("button",{class:W(["nav-link",{active:n.lang==="uk"}]),onClick:e[0]||(e[0]=t=>s.switchLang("uk")),type:"button"},"Українська",2)]),o("li",Qv,[o("button",{class:W(["nav-link",{active:n.lang==="ru"}]),onClick:e[1]||(e[1]=t=>s.switchLang("ru")),type:"button"},"Російська",2)])]),n.blocks[n.lang]&&n.blocks[n.lang].length?(g(),h("div",Zv,[(g(!0),h(ee,null,ve(n.blocks[n.lang],(t,l)=>(g(),h("div",{key:t._key,class:"desc-block mb-4 position-relative"},[o("div",qv,[n.editIdx!==l?(g(),h(ee,{key:0},[o("button",{class:"btn btn-outline-secondary btn-sm me-2",onClick:a=>s.editBlock(l)},e[28]||(e[28]=[o("i",{class:"bi bi-pencil"},null,-1),ae(" Редагувати ",-1)]),8,eg),o("button",{class:"btn btn-outline-danger btn-sm",onClick:a=>s.deleteBlock(l)},e[29]||(e[29]=[o("i",{class:"bi bi-trash"},null,-1)]),8,tg)],64)):V("",!0)]),n.editIdx===l?(g(),h("form",{key:0,onSubmit:e[13]||(e[13]=ie(a=>s.saveEditBlock(n.editIdx),["prevent"]))},[n.editForm.type==="text"?(g(),h(ee,{key:0},[o("div",rg,[e[30]||(e[30]=o("label",{class:"form-label"},"Заголовок",-1)),R(o("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>n.editForm.title=a)},null,512),[[B,n.editForm.title]])]),o("div",ng,[e[31]||(e[31]=o("label",{class:"form-label"},"Текст",-1)),R(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[3]||(e[3]=a=>n.editForm.text=a)},null,512),[[B,n.editForm.text]])])],64)):n.editForm.type==="image_right"?(g(),h("div",og,[o("div",ig,[e[32]||(e[32]=o("label",{class:"form-label"},"Заголовок",-1)),R(o("input",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>n.editForm.title=a)},null,512),[[B,n.editForm.title]]),e[33]||(e[33]=o("label",{class:"form-label mt-3"},"Текст",-1)),R(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[5]||(e[5]=a=>n.editForm.text=a)},null,512),[[B,n.editForm.text]])]),o("div",sg,[e[34]||(e[34]=o("label",{class:"form-label"},"Картинка справа",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=a=>s.onImageChange(a,"image_right"))},null,32),n.editForm.imageUrl?(g(),h("div",lg,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,ag)])):V("",!0)])])):n.editForm.type==="image_left"?(g(),h("div",ug,[o("div",dg,[e[35]||(e[35]=o("label",{class:"form-label"},"Картинка зліва",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=a=>s.onImageChange(a,"image_left"))},null,32),n.editForm.imageUrl?(g(),h("div",cg,[o("img",{src:n.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,fg)])):V("",!0)]),o("div",mg,[e[36]||(e[36]=o("label",{class:"form-label"},"Заголовок",-1)),R(o("input",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=a=>n.editForm.title=a)},null,512),[[B,n.editForm.title]]),e[37]||(e[37]=o("label",{class:"form-label mt-3"},"Текст",-1)),R(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[9]||(e[9]=a=>n.editForm.text=a)},null,512),[[B,n.editForm.text]])])])):n.editForm.type==="two_images"?(g(),h("div",pg,[o("div",vg,[e[38]||(e[38]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[10]||(e[10]=a=>s.onImageChange(a,"two_images",1))},null,32),n.editForm.imageUrl1?(g(),h("div",gg,[o("img",{src:n.editForm.imageUrl1,style:{width:"100%","max-width":"300px"}},null,8,hg)])):V("",!0)]),o("div",bg,[e[39]||(e[39]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[11]||(e[11]=a=>s.onImageChange(a,"two_images",2))},null,32),n.editForm.imageUrl2?(g(),h("div",yg,[o("img",{src:n.editForm.imageUrl2,style:{width:"100%","max-width":"300px"}},null,8,xg)])):V("",!0)])])):V("",!0),e[40]||(e[40]=o("button",{class:"btn btn-success me-2",type:"submit"},"Оновити",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=ie((...a)=>s.cancelEdit&&s.cancelEdit(...a),["prevent"]))},"Відміна")],32)):(g(),h(ee,{key:1},[t.type==="text"?(g(),h("div",Sg,[o("div",wg,I(t.title),1),o("div",Eg,I(t.text),1)])):t.type==="image_right"?(g(),h("div",Og,[o("div",kg,[o("div",Cg,I(t.title),1),o("div",$g,I(t.text),1)]),o("div",Ig,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Pg)])])):t.type==="image_left"?(g(),h("div",Tg,[o("div",Ag,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Dg)]),o("div",Ug,[o("div",Vg,I(t.title),1),o("div",Lg,I(t.text),1)])])):t.type==="two_images"?(g(),h("div",Mg,[o("div",jg,[o("img",{src:t.imageUrl1,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Ng)]),o("div",Rg,[o("img",{src:t.imageUrl2,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Fg)])])):V("",!0)],64))]))),128))])):(g(),h("div",Bg," Опис для цієї мови ще не доданий. ")),o("div",_g,[n.addMode?V("",!0):(g(),h("button",{key:0,class:"btn btn-primary",onClick:e[14]||(e[14]=(...t)=>s.startAddBlock&&s.startAddBlock(...t)),type:"button"}," + Додати блок ")),n.addMode?(g(),h("form",{key:1,onSubmit:e[27]||(e[27]=ie((...t)=>s.saveNewBlock&&s.saveNewBlock(...t),["prevent"])),class:"card p-3 mt-2"},[o("div",zg,[o("div",Gg,[e[42]||(e[42]=o("label",{class:"form-label"},"Тип блоку",-1)),R(o("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>n.newBlock.type=t),required:""},e[41]||(e[41]=[kr('<option value="" disabled data-v-288100ff>Оберіть тип</option><option value="text" data-v-288100ff>Текст</option><option value="image_right" data-v-288100ff>Картинка справа</option><option value="image_left" data-v-288100ff>Картинка зліва</option><option value="two_images" data-v-288100ff>Дві картинки</option>',5)]),512),[[yt,n.newBlock.type]])]),n.newBlock.type==="text"?(g(),h(ee,{key:0},[o("div",Hg,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[16]||(e[16]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[B,n.newBlock.title]])]),o("div",Kg,[R(o("textarea",{class:"form-control","onUpdate:modelValue":e[17]||(e[17]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"150px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[B,n.newBlock.text]])])],64)):n.newBlock.type==="image_right"?(g(),h(ee,{key:1},[o("div",Wg,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[18]||(e[18]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[B,n.newBlock.title]]),R(o("textarea",{class:"form-control","onUpdate:modelValue":e[19]||(e[19]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[B,n.newBlock.text]])]),o("div",Xg,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[20]||(e[20]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(g(),h("div",Yg,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,Jg)])):V("",!0)])],64)):n.newBlock.type==="image_left"?(g(),h(ee,{key:2},[o("div",Qg,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[21]||(e[21]=t=>s.onAddImage(t,"single"))},null,32),n.newBlock.imageUrl?(g(),h("div",Zg,[o("img",{src:n.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,qg)])):V("",!0)]),o("div",eh,[R(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[22]||(e[22]=t=>n.newBlock.title=t),placeholder:"Заголовок"},null,512),[[B,n.newBlock.title]]),R(o("textarea",{class:"form-control","onUpdate:modelValue":e[23]||(e[23]=t=>n.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[B,n.newBlock.text]])])],64)):n.newBlock.type==="two_images"?(g(),h(ee,{key:3},[o("div",th,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[24]||(e[24]=t=>s.onAddImage(t,1))},null,32),n.newBlock.imageUrl1?(g(),h("div",rh,[o("img",{src:n.newBlock.imageUrl1,style:{"max-width":"130px","border-radius":"10px"}},null,8,nh)])):V("",!0)]),o("div",oh,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[25]||(e[25]=t=>s.onAddImage(t,2))},null,32),n.newBlock.imageUrl2?(g(),h("div",ih,[o("img",{src:n.newBlock.imageUrl2,style:{"max-width":"130px","border-radius":"10px"}},null,8,sh)])):V("",!0)])],64)):V("",!0),o("div",lh,[e[43]||(e[43]=o("button",{class:"btn btn-success",type:"submit"},"Зберегти",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[26]||(e[26]=ie((...t)=>s.cancelAddBlock&&s.cancelAddBlock(...t),["prevent"]))},"Відміна")])])],32)):V("",!0)])])}const uh=se(Wv,[["render",ah],["__scopeId","data-v-288100ff"]]),dh={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0},currentId:{type:[Number,String],default:null}},computed:{parent_id:{get(){return this.form.parent_id??null},set(r){this.$emit("update:form",{...this.form,parent_id:r})}},status:{get(){return typeof this.form.status<"u"?this.form.status:1},set(r){this.$emit("update:form",{...this.form,status:r})}}},methods:{getCategoryName(r){var e;if((e=r.translations)!=null&&e.length){const i=r.translations.find(u=>u.locale==="uk");return(i==null?void 0:i.name)||r.slug||`#${r.id}`}return r.name||r.slug||`#${r.id}`}}},ch={class:"card mb-4 p-4"},fh={class:"mb-3"},mh=["value"];function ph(r,e,i,u,n,s){return g(),h("div",ch,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",fh,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),R(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>s.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(g(!0),h(ee,null,ve(i.categories.filter(t=>!i.currentId||t.id!==i.currentId),t=>(g(),h("option",{key:t.id,value:t.id},I(s.getCategoryName(t)),9,mh))),128))],512),[[yt,s.parent_id]])]),o("div",null,[e[5]||(e[5]=o("label",{class:"form-label"},"Статус",-1)),R(o("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>s.status=t)},e[4]||(e[4]=[o("option",{value:1},"Опубліковано",-1),o("option",{value:0},"Неактивний",-1)]),512),[[yt,s.status]])])])}const vh=se(dh,[["render",ph]]),gh={name:"CategoryEdit",components:{CategoryHeader:wv,CategoryTitles:Vv,CategorySEO:Kv,CategoryDescription:uh,CategoryParent:vh},props:{category:{type:Object,default:null},categories:{type:Array,default:()=>[]}},data(){var i,u,n,s,t,l;const r=((u=(i=this.category)==null?void 0:i.translations)==null?void 0:u.find(a=>a.locale==="uk"))||{},e=((s=(n=this.category)==null?void 0:n.translations)==null?void 0:s.find(a=>a.locale==="ru"))||{};return{form:{name_uk:r.name||"",slug_uk:r.slug||"",meta_title_uk:r.meta_title||"",meta_description_uk:r.meta_description||"",name_ru:e.name||"",slug_ru:e.slug||"",meta_title_ru:e.meta_title||"",meta_description_ru:e.meta_description||"",parent_id:((t=this.category)==null?void 0:t.parent_id)||null,status:typeof((l=this.category)==null?void 0:l.status)<"u"?Number(this.category.status):1,description:{uk:r.description?JSON.parse(r.description):[],ru:e.description?JSON.parse(e.description):[]}},errors:{}}},computed:{isEdit(){return!!this.category},headerTitle(){return this.isEdit?"Редагувати категорію":"Додати категорію"}},methods:{clearError(r){this.errors[r]=null},async saveCategory(){try{await be.put(`/admin/categories/${this.category.id}`,this.form),alert("Категорію успішно оновлено!"),this.errors={}}catch(r){console.error("Помилка збереження категорії:",r),r.response&&r.response.data.errors?this.errors=r.response.data.errors:alert("Невідома помилка при збереженні!")}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function hh(r,e,i,u,n,s){var c,m;const t=ce("CategoryHeader"),l=ce("CategoryTitles"),a=ce("CategorySEO"),d=ce("CategoryParent"),f=ce("CategoryDescription");return g(),h("div",null,[Q(t,{title:s.headerTitle,"publish-label":s.isEdit?"Оновити категорію":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["title","publish-label","onSubmit","onCancel","onDraft"]),Q(l,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(a,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(d,{form:n.form,categories:i.categories,"current-id":((c=i.category)==null?void 0:c.id)||null,"onUpdate:form":e[0]||(e[0]=p=>{n.form.parent_id=p.parent_id,n.form.status=p.status})},null,8,["form","categories","current-id"]),Q(f,{modelValue:n.form.description,"onUpdate:modelValue":e[1]||(e[1]=p=>n.form.description=p),"category-id":((m=i.category)==null?void 0:m.id)||null},null,8,["modelValue","category-id"])])}const bh=se(gh,[["render",hh]]),yh={name:"CategoryHeader",props:{title:{type:String,default:"Додати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},xh={class:"d-flex justify-content-between align-items-center mb-4"},Sh={class:"fw-bold mb-0"},wh={class:"top-actions"};function Eh(r,e,i,u,n,s){return g(),h("div",xh,[o("div",null,[o("h5",Sh,I(i.title),1)]),o("div",wh,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>r.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>r.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>r.$emit("submit"))},I(i.publishLabel),1)])])}const Oh=se(yh,[["render",Eh],["__scopeId","data-v-34db45cf"]]),kh={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Ch={class:"card mb-4 p-3"},$h={class:"mb-3"},Ih={key:0,class:"invalid-feedback"},Ph={class:"mb-3"},Th={key:0,class:"invalid-feedback"};function Ah(r,e,i,u,n,s){var t,l,a,d;return g(),h("div",Ch,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",$h,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),"onUpdate:modelValue":e[0]||(e[0]=f=>i.form.name_uk=f),onInput:e[1]||(e[1]=f=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[B,i.form.name_uk]]),(l=i.errors)!=null&&l.name_uk?(g(),h("div",Ih,I(i.errors.name_uk),1)):V("",!0)]),o("div",Ph,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.name_ru}]),"onUpdate:modelValue":e[2]||(e[2]=f=>i.form.name_ru=f),onInput:e[3]||(e[3]=f=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[B,i.form.name_ru]]),(d=i.errors)!=null&&d.name_ru?(g(),h("div",Th,I(i.errors.name_ru),1)):V("",!0)])])}const Dh=se(kh,[["render",Ah]]),Uh={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(r){this.$emit("clear-error",r)}}},Vh={class:"card mb-4 p-3"},Lh={class:"mb-3"},Mh={key:0,class:"invalid-feedback"},jh={class:"mb-3"},Nh={key:0,class:"invalid-feedback"},Rh={class:"mb-3"},Fh={key:0,class:"invalid-feedback"},Bh={class:"mb-3"},_h={key:0,class:"invalid-feedback"};function zh(r,e,i,u,n,s){var t,l,a,d,f,c,m,p;return g(),h("div",Vh,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",Lh,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=v=>i.form.meta_title_uk=v),onInput:e[1]||(e[1]=v=>s.clearError("meta_title_uk"))},null,34),[[B,i.form.meta_title_uk]]),(l=i.errors)!=null&&l.meta_title_uk?(g(),h("div",Mh,I(i.errors.meta_title_uk),1)):V("",!0)]),o("div",jh,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),R(o("textarea",{class:W(["form-control",{"is-invalid":(a=i.errors)==null?void 0:a.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=v=>i.form.meta_description_uk=v),onInput:e[3]||(e[3]=v=>s.clearError("meta_description_uk"))},null,34),[[B,i.form.meta_description_uk]]),(d=i.errors)!=null&&d.meta_description_uk?(g(),h("div",Nh,I(i.errors.meta_description_uk),1)):V("",!0)]),o("div",Rh,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),R(o("input",{type:"text",class:W(["form-control",{"is-invalid":(f=i.errors)==null?void 0:f.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=v=>i.form.meta_title_ru=v),onInput:e[5]||(e[5]=v=>s.clearError("meta_title_ru"))},null,34),[[B,i.form.meta_title_ru]]),(c=i.errors)!=null&&c.meta_title_ru?(g(),h("div",Fh,I(i.errors.meta_title_ru),1)):V("",!0)]),o("div",Bh,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),R(o("textarea",{class:W(["form-control",{"is-invalid":(m=i.errors)==null?void 0:m.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=v=>i.form.meta_description_ru=v),onInput:e[7]||(e[7]=v=>s.clearError("meta_description_ru"))},null,34),[[B,i.form.meta_description_ru]]),(p=i.errors)!=null&&p.meta_description_ru?(g(),h("div",_h,I(i.errors.meta_description_ru),1)):V("",!0)])])}const Gh=se(Uh,[["render",zh]]),Hh={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0}},methods:{getCategoryName(r){var e;if((e=r.translations)!=null&&e.length){const i=r.translations.find(u=>u.locale==="uk");return(i==null?void 0:i.name)||r.slug||`#${r.id}`}return r.name||r.slug||`#${r.id}`}}},Kh={class:"card mb-4 p-4"},Wh={class:"mb-3"},Xh=["value"],Yh={class:"d-flex align-items-center gap-3 mt-3"},Jh={class:"status-switch"},Qh={class:"switch mb-0"};function Zh(r,e,i,u,n,s){return g(),h("div",Kh,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",Wh,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),R(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(g(!0),h(ee,null,ve(i.categories,t=>(g(),h("option",{key:t.id,value:t.id},I(s.getCategoryName(t)),9,Xh))),128))],512),[[yt,i.form.parent_id]])]),o("div",Yh,[e[5]||(e[5]=o("label",{class:"form-label mb-0"},"Статус",-1)),o("div",Jh,[o("label",Qh,[R(o("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.status=t),"true-value":1,"false-value":0},null,512),[[yr,i.form.status]]),e[4]||(e[4]=o("span",{class:"slider"},null,-1))]),o("span",{class:W(["status-label",{published:i.form.status==1,unpublished:i.form.status==0}])},I(i.form.status==1?"Опубліковано":"Неактивний"),3)])])])}const qh=se(Hh,[["render",Zh],["__scopeId","data-v-a67f50b8"]]),eb={name:"CategoryAdd",components:{CategoryHeader:Oh,CategoryTitles:Dh,CategorySEO:Gh,CategoryParent:qh},props:{categories:{type:Array,default:()=>[]}},data(){return{form:{name_uk:"",slug_uk:"",meta_title_uk:"",meta_description_uk:"",name_ru:"",slug_ru:"",meta_title_ru:"",meta_description_ru:"",parent_id:null,status:1,description:{uk:[],ru:[]}},errors:{},loading:!1}},methods:{clearError(r){this.errors[r]=null},async saveCategory(){var r,e,i,u;if(!((r=this.form.name_uk)!=null&&r.trim())||!((e=this.form.name_ru)!=null&&e.trim())){alert("Заповніть всі обов’язкові поля (назва укр/рос)");return}console.log("Дані форми перед відправкою:",this.form),this.loading=!0;try{const n=await be.post("/admin/categories",this.form);alert("Категорію успішно створено!"),this.errors={}}catch(n){(u=(i=n.response)==null?void 0:i.data)!=null&&u.errors?this.errors=n.response.data.errors:alert("Невідома помилка при збереженні!")}finally{this.loading=!1}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function tb(r,e,i,u,n,s){const t=ce("CategoryHeader"),l=ce("CategoryTitles"),a=ce("CategorySEO"),d=ce("CategoryParent");return g(),h("div",null,[Q(t,{title:"Додати категорію","publish-label":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["onSubmit","onCancel","onDraft"]),Q(l,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(a,{form:n.form,errors:n.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(d,{form:n.form,categories:i.categories,"onUpdate:form":e[0]||(e[0]=f=>{n.form.parent_id=f.parent_id,n.form.status=f.status})},null,8,["form","categories"])])}const rb=se(eb,[["render",tb]]);be.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.getElementById("app")){const r=Lt({});r.component("product-form",cu),r.mount("#app")}if(document.getElementById("product-index-app")){const r=Lt({});r.component("product-index",Xu),r.mount("#product-index-app")}if(document.getElementById("product-edit-app")){const r=Lt({});r.component("product-edit",Wp),r.mount("#product-edit-app")}if(document.getElementById("category-index-app")){const r=Lt({});r.component("category-index",gv),r.mount("#category-index-app")}if(document.getElementById("category-edit-app")){const r=Lt({});r.component("category-edit",bh),r.mount("#category-edit-app")}if(document.getElementById("category-add-app")){const r=Lt({});r.component("category-add",rb),r.mount("#category-add-app")}
