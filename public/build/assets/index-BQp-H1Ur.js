import{_ as le,x as y,y as h,z as o,K as U,H as $,L,E as Y,D as T,r as Ae,w as lt,p as er,F as re,I as ve,v as Q,C as pe,B as oe,M as Xe,S as _r,U as tr,V as Ge,W as Cn,X as sr,N as Zr,A as Ke,G as Pr,Y as In,P as Pe,Z as de,$ as Et,a as Ot,d as Kt,a0 as Pn,J as Dt,Q as Or,R as Ut}from"./index-DIpXTXv3.js";/* empty css              */const Tn={name:"ProductHeader"},An={class:"d-flex justify-content-between align-items-center mb-4"},Dn={class:"top-actions"};function $n(n,e,i,d,r,s){return h(),y("div",An,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",Dn,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>n.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const Vn=le(Tn,[["render",$n],["__scopeId","data-v-e2ab9659"]]),Un={name:"ProductTitles",props:{form:Object,errors:{type:Object,default:()=>({})}},methods:{clearError(n){this.form[n]&&(this.$emit("update:errors",{...this.errors,[n]:null}),this.errors[n]=null)}}},Mn={class:"card mb-4 p-3"},jn={class:"mb-3"},Ln={key:0,class:"invalid-feedback"},Bn={class:"mb-3"},Fn={key:0,class:"invalid-feedback"};function Rn(n,e,i,d,r,s){return h(),y("div",Mn,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",jn,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":i.errors.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.name_uk=t),onInput:e[1]||(e[1]=t=>s.clearError("name_uk"))},null,34),[[L,i.form.name_uk]]),i.errors.name_uk?(h(),y("div",Ln,T(i.errors.name_uk),1)):$("",!0)]),o("div",Bn,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":i.errors.name_ru}]),name:"name_ru","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.name_ru=t),onInput:e[3]||(e[3]=t=>s.clearError("name_ru"))},null,34),[[L,i.form.name_ru]]),i.errors.name_ru?(h(),y("div",Fn,T(i.errors.name_ru),1)):$("",!0)])])}const Nn=le(Un,[["render",Rn]]),Gn={name:"ProductSeo",props:{form:{type:Object,required:!0}}},zn={class:"card mb-4 p-3"},Kn={class:"mb-3"},Hn={class:"mb-3"},_n={class:"mb-3"},Wn={class:"mb-3"};function Xn(n,e,i,d,r,s){return h(),y("div",zn,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",Kn,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[L,i.form.meta_title_uk]])]),o("div",Hn,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[L,i.form.meta_description_uk]])]),o("div",_n,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[L,i.form.meta_title_ru]])]),o("div",Wn,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[L,i.form.meta_description_ru]])])])}const Yn=le(Gn,[["render",Xn]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qr(n,e){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);e&&(d=d.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),i.push.apply(i,d)}return i}function at(n){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qr(Object(i),!0).forEach(function(d){Jn(n,d,i[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):qr(Object(i)).forEach(function(d){Object.defineProperty(n,d,Object.getOwnPropertyDescriptor(i,d))})}return n}function mr(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mr=function(e){return typeof e}:mr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mr(n)}function Jn(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function qe(){return qe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d])}return n},qe.apply(this,arguments)}function Qn(n,e){if(n==null)return{};var i={},d=Object.keys(n),r,s;for(s=0;s<d.length;s++)r=d[s],!(e.indexOf(r)>=0)&&(i[r]=n[r]);return i}function Zn(n,e){if(n==null)return{};var i=Qn(n,e),d,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)d=s[r],!(e.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(n,d)&&(i[d]=n[d])}return i}function qn(n){return eo(n)||to(n)||ro(n)||no()}function eo(n){if(Array.isArray(n))return Nr(n)}function to(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ro(n,e){if(n){if(typeof n=="string")return Nr(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Nr(n,e)}}function Nr(n,e){(e==null||e>n.length)&&(e=n.length);for(var i=0,d=new Array(e);i<e;i++)d[i]=n[i];return d}function no(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oo="1.14.0";function dt(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ut=dt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),rr=dt(/Edge/i),en=dt(/firefox/i),Yt=dt(/safari/i)&&!dt(/chrome/i)&&!dt(/android/i),mn=dt(/iP(ad|od|hone)/i),io=dt(/chrome/i)&&dt(/android/i),pn={capture:!1,passive:!1};function ae(n,e,i){n.addEventListener(e,i,!ut&&pn)}function se(n,e,i){n.removeEventListener(e,i,!ut&&pn)}function yr(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function so(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function nt(n,e,i,d){if(n){i=i||document;do{if(e!=null&&(e[0]===">"?n.parentNode===i&&yr(n,e):yr(n,e))||d&&n===i)return n;if(n===i)break}while(n=so(n))}return null}var tn=/\s+/g;function we(n,e,i){if(n&&e)if(n.classList)n.classList[i?"add":"remove"](e);else{var d=(" "+n.className+" ").replace(tn," ").replace(" "+e+" "," ");n.className=(d+(i?" "+e:"")).replace(tn," ")}}function K(n,e,i){var d=n&&n.style;if(d){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(i=n.currentStyle),e===void 0?i:i[e];!(e in d)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),d[e]=i+(typeof i=="string"?"":"px")}}function wt(n,e){var i="";if(typeof n=="string")i=n;else do{var d=K(n,"transform");d&&d!=="none"&&(i=d+" "+i)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(i)}function vn(n,e,i){if(n){var d=n.getElementsByTagName(e),r=0,s=d.length;if(i)for(;r<s;r++)i(d[r],r);return d}return[]}function st(){var n=document.scrollingElement;return n||document.documentElement}function xe(n,e,i,d,r){if(!(!n.getBoundingClientRect&&n!==window)){var s,t,a,l,u,c,f;if(n!==window&&n.parentNode&&n!==st()?(s=n.getBoundingClientRect(),t=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,f=s.width):(t=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(e||i)&&n!==window&&(r=r||n.parentNode,!ut))do if(r&&r.getBoundingClientRect&&(K(r,"transform")!=="none"||i&&K(r,"position")!=="static")){var p=r.getBoundingClientRect();t-=p.top+parseInt(K(r,"border-top-width")),a-=p.left+parseInt(K(r,"border-left-width")),l=t+s.height,u=a+s.width;break}while(r=r.parentNode);if(d&&n!==window){var v=wt(r||n),m=v&&v.a,g=v&&v.d;v&&(t/=g,a/=m,f/=m,c/=g,l=t+c,u=a+f)}return{top:t,left:a,bottom:l,right:u,width:f,height:c}}}function rn(n,e,i){for(var d=gt(n,!0),r=xe(n)[e];d;){var s=xe(d)[i],t=void 0;if(t=r>=s,!t)return d;if(d===st())break;d=gt(d,!1)}return!1}function $t(n,e,i,d){for(var r=0,s=0,t=n.children;s<t.length;){if(t[s].style.display!=="none"&&t[s]!==W.ghost&&(d||t[s]!==W.dragged)&&nt(t[s],i.draggable,n,!1)){if(r===e)return t[s];r++}s++}return null}function Wr(n,e){for(var i=n.lastElementChild;i&&(i===W.ghost||K(i,"display")==="none"||e&&!yr(i,e));)i=i.previousElementSibling;return i||null}function Ie(n,e){var i=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==W.clone&&(!e||yr(n,e))&&i++;return i}function nn(n){var e=0,i=0,d=st();if(n)do{var r=wt(n),s=r.a,t=r.d;e+=n.scrollLeft*s,i+=n.scrollTop*t}while(n!==d&&(n=n.parentNode));return[e,i]}function lo(n,e){for(var i in n)if(n.hasOwnProperty(i)){for(var d in e)if(e.hasOwnProperty(d)&&e[d]===n[i][d])return Number(i)}return-1}function gt(n,e){if(!n||!n.getBoundingClientRect)return st();var i=n,d=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var r=K(i);if(i.clientWidth<i.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return st();if(d||e)return i;d=!0}}while(i=i.parentNode);return st()}function ao(n,e){if(n&&e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function Tr(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Jt;function gn(n,e){return function(){if(!Jt){var i=arguments,d=this;i.length===1?n.call(d,i[0]):n.apply(d,i),Jt=setTimeout(function(){Jt=void 0},e)}}}function uo(){clearTimeout(Jt),Jt=void 0}function hn(n,e,i){n.scrollLeft+=e,n.scrollTop+=i}function Xr(n){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):i?i(n).clone(!0)[0]:n.cloneNode(!0)}function on(n,e){K(n,"position","absolute"),K(n,"top",e.top),K(n,"left",e.left),K(n,"width",e.width),K(n,"height",e.height)}function Ar(n){K(n,"position",""),K(n,"top",""),K(n,"left",""),K(n,"width",""),K(n,"height","")}var Re="Sortable"+new Date().getTime();function co(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var d=[].slice.call(this.el.children);d.forEach(function(r){if(!(K(r,"display")==="none"||r===W.ghost)){n.push({target:r,rect:xe(r)});var s=at({},n[n.length-1].rect);if(r.thisAnimationDuration){var t=wt(r,!0);t&&(s.top-=t.f,s.left-=t.e)}r.fromRect=s}})}},addAnimationState:function(d){n.push(d)},removeAnimationState:function(d){n.splice(lo(n,{target:d}),1)},animateAll:function(d){var r=this;if(!this.options.animation){clearTimeout(e),typeof d=="function"&&d();return}var s=!1,t=0;n.forEach(function(a){var l=0,u=a.target,c=u.fromRect,f=xe(u),p=u.prevFromRect,v=u.prevToRect,m=a.rect,g=wt(u,!0);g&&(f.top-=g.f,f.left-=g.e),u.toRect=f,u.thisAnimationDuration&&Tr(p,f)&&!Tr(c,f)&&(m.top-f.top)/(m.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(l=mo(m,p,v,r.options)),Tr(f,c)||(u.prevFromRect=c,u.prevToRect=f,l||(l=r.options.animation),r.animate(u,m,f,l)),l&&(s=!0,t=Math.max(t,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof d=="function"&&d()},t):typeof d=="function"&&d(),n=[]},animate:function(d,r,s,t){if(t){K(d,"transition",""),K(d,"transform","");var a=wt(this.el),l=a&&a.a,u=a&&a.d,c=(r.left-s.left)/(l||1),f=(r.top-s.top)/(u||1);d.animatingX=!!c,d.animatingY=!!f,K(d,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=fo(d),K(d,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),K(d,"transform","translate3d(0,0,0)"),typeof d.animated=="number"&&clearTimeout(d.animated),d.animated=setTimeout(function(){K(d,"transition",""),K(d,"transform",""),d.animated=!1,d.animatingX=!1,d.animatingY=!1},t)}}}}function fo(n){return n.offsetWidth}function mo(n,e,i,d){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*d.animation}var Ct=[],Dr={initializeByDefault:!0},nr={mount:function(e){for(var i in Dr)Dr.hasOwnProperty(i)&&!(i in e)&&(e[i]=Dr[i]);Ct.forEach(function(d){if(d.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ct.push(e)},pluginEvent:function(e,i,d){var r=this;this.eventCanceled=!1,d.cancel=function(){r.eventCanceled=!0};var s=e+"Global";Ct.forEach(function(t){i[t.pluginName]&&(i[t.pluginName][s]&&i[t.pluginName][s](at({sortable:i},d)),i.options[t.pluginName]&&i[t.pluginName][e]&&i[t.pluginName][e](at({sortable:i},d)))})},initializePlugins:function(e,i,d,r){Ct.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,i,e.options);u.sortable=e,u.options=e.options,e[l]=u,qe(d,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var t=this.modifyOption(e,s,e.options[s]);typeof t<"u"&&(e.options[s]=t)}},getEventProperties:function(e,i){var d={};return Ct.forEach(function(r){typeof r.eventProperties=="function"&&qe(d,r.eventProperties.call(i[r.pluginName],e))}),d},modifyOption:function(e,i,d){var r;return Ct.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[i]=="function"&&(r=s.optionListeners[i].call(e[s.pluginName],d))}),r}};function Ht(n){var e=n.sortable,i=n.rootEl,d=n.name,r=n.targetEl,s=n.cloneEl,t=n.toEl,a=n.fromEl,l=n.oldIndex,u=n.newIndex,c=n.oldDraggableIndex,f=n.newDraggableIndex,p=n.originalEvent,v=n.putSortable,m=n.extraEventProperties;if(e=e||i&&i[Re],!!e){var g,b=e.options,S="on"+d.charAt(0).toUpperCase()+d.substr(1);window.CustomEvent&&!ut&&!rr?g=new CustomEvent(d,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(d,!0,!0)),g.to=t||i,g.from=a||i,g.item=r||i,g.clone=s,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=f,g.originalEvent=p,g.pullMode=v?v.lastPutMode:void 0;var O=at(at({},m),nr.getEventProperties(d,e));for(var V in O)g[V]=O[V];i&&i.dispatchEvent(g),b[S]&&b[S].call(e,g)}}var po=["evt"],_e=function(e,i){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=d.evt,s=Zn(d,po);nr.pluginEvent.bind(W)(e,i,at({dragEl:R,parentEl:ke,ghostEl:ne,rootEl:ye,nextEl:St,lastDownEl:pr,cloneEl:Ce,cloneHidden:vt,dragStarted:_t,putSortable:Be,activeSortable:W.active,originalEvent:r,oldIndex:At,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:pt,hideGhostForTarget:Sn,unhideGhostForTarget:wn,cloneNowHidden:function(){vt=!0},cloneNowShown:function(){vt=!1},dispatchSortableEvent:function(a){ze({sortable:i,name:a,originalEvent:r})}},s))};function ze(n){Ht(at({putSortable:Be,cloneEl:Ce,targetEl:R,rootEl:ye,oldIndex:At,oldDraggableIndex:Qt,newIndex:Qe,newDraggableIndex:pt},n))}var R,ke,ne,ye,St,pr,Ce,vt,At,Qe,Qt,pt,lr,Be,Tt=!1,xr=!1,Sr=[],yt,tt,$r,Vr,sn,ln,_t,It,Zt,qt=!1,ar=!1,vr,Fe,Ur=[],Gr=!1,wr=[],kr=typeof document<"u",dr=mn,an=rr||ut?"cssFloat":"float",vo=kr&&!io&&!mn&&"draggable"in document.createElement("div"),bn=function(){if(kr){if(ut)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),yn=function(e,i){var d=K(e),r=parseInt(d.width)-parseInt(d.paddingLeft)-parseInt(d.paddingRight)-parseInt(d.borderLeftWidth)-parseInt(d.borderRightWidth),s=$t(e,0,i),t=$t(e,1,i),a=s&&K(s),l=t&&K(t),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+xe(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+xe(t).width;if(d.display==="flex")return d.flexDirection==="column"||d.flexDirection==="column-reverse"?"vertical":"horizontal";if(d.display==="grid")return d.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return t&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&d[an]==="none"||t&&d[an]==="none"&&u+c>r)?"vertical":"horizontal"},go=function(e,i,d){var r=d?e.left:e.top,s=d?e.right:e.bottom,t=d?e.width:e.height,a=d?i.left:i.top,l=d?i.right:i.bottom,u=d?i.width:i.height;return r===a||s===l||r+t/2===a+u/2},ho=function(e,i){var d;return Sr.some(function(r){var s=r[Re].options.emptyInsertThreshold;if(!(!s||Wr(r))){var t=xe(r),a=e>=t.left-s&&e<=t.right+s,l=i>=t.top-s&&i<=t.bottom+s;if(a&&l)return d=r}}),d},xn=function(e){function i(s,t){return function(a,l,u,c){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(t||f))return!0;if(s==null||s===!1)return!1;if(t&&s==="clone")return s;if(typeof s=="function")return i(s(a,l,u,c),t)(a,l,u,c);var p=(t?a:l).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var d={},r=e.group;(!r||mr(r)!="object")&&(r={name:r}),d.name=r.name,d.checkPull=i(r.pull,!0),d.checkPut=i(r.put),d.revertClone=r.revertClone,e.group=d},Sn=function(){!bn&&ne&&K(ne,"display","none")},wn=function(){!bn&&ne&&K(ne,"display","")};kr&&document.addEventListener("click",function(n){if(xr)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),xr=!1,!1},!0);var xt=function(e){if(R){e=e.touches?e.touches[0]:e;var i=ho(e.clientX,e.clientY);if(i){var d={};for(var r in e)e.hasOwnProperty(r)&&(d[r]=e[r]);d.target=d.rootEl=i,d.preventDefault=void 0,d.stopPropagation=void 0,i[Re]._onDragOver(d)}}},bo=function(e){R&&R.parentNode[Re]._isOutsideThisEl(e.target)};function W(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=qe({},e),n[Re]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yn(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,a){t.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&!Yt,emptyInsertThreshold:5};nr.initializePlugins(this,n,i);for(var d in i)!(d in e)&&(e[d]=i[d]);xn(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:vo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ae(n,"pointerdown",this._onTapStart):(ae(n,"mousedown",this._onTapStart),ae(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(ae(n,"dragover",this),ae(n,"dragenter",this)),Sr.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),qe(this,co())}W.prototype={constructor:W,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(It=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,R):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,d=this.el,r=this.options,s=r.preventOnFilter,t=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(Co(d),!R&&!(/mousedown|pointerdown/.test(t)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Yt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=nt(l,r.draggable,d,!1),!(l&&l.animated)&&pr!==l)){if(At=Ie(l),Qt=Ie(l,r.draggable),typeof c=="function"){if(c.call(this,e,l,this)){ze({sortable:i,rootEl:u,name:"filter",targetEl:l,toEl:d,fromEl:d}),_e("filter",i,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=nt(u,f.trim(),d,!1),f)return ze({sortable:i,rootEl:f,name:"filter",targetEl:l,fromEl:d,toEl:d}),_e("filter",i,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}r.handle&&!nt(u,r.handle,d,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,d){var r=this,s=r.el,t=r.options,a=s.ownerDocument,l;if(d&&!R&&d.parentNode===s){var u=xe(d);if(ye=s,R=d,ke=R.parentNode,St=R.nextSibling,pr=d,lr=t.group,W.dragged=R,yt={target:R,clientX:(i||e).clientX,clientY:(i||e).clientY},sn=yt.clientX-u.left,ln=yt.clientY-u.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,R.style["will-change"]="all",l=function(){if(_e("delayEnded",r,{evt:e}),W.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!en&&r.nativeDraggable&&(R.draggable=!0),r._triggerDragStart(e,i),ze({sortable:r,name:"choose",originalEvent:e}),we(R,t.chosenClass,!0)},t.ignore.split(",").forEach(function(c){vn(R,c.trim(),Mr)}),ae(a,"dragover",xt),ae(a,"mousemove",xt),ae(a,"touchmove",xt),ae(a,"mouseup",r._onDrop),ae(a,"touchend",r._onDrop),ae(a,"touchcancel",r._onDrop),en&&this.nativeDraggable&&(this.options.touchStartThreshold=4,R.draggable=!0),_e("delayStart",this,{evt:e}),t.delay&&(!t.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(rr||ut))){if(W.eventCanceled){this._onDrop();return}ae(a,"mouseup",r._disableDelayedDrag),ae(a,"touchend",r._disableDelayedDrag),ae(a,"touchcancel",r._disableDelayedDrag),ae(a,"mousemove",r._delayedDragTouchMoveHandler),ae(a,"touchmove",r._delayedDragTouchMoveHandler),t.supportPointer&&ae(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,t.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){R&&Mr(R),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;se(e,"mouseup",this._disableDelayedDrag),se(e,"touchend",this._disableDelayedDrag),se(e,"touchcancel",this._disableDelayedDrag),se(e,"mousemove",this._delayedDragTouchMoveHandler),se(e,"touchmove",this._delayedDragTouchMoveHandler),se(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?ae(document,"pointermove",this._onTouchMove):i?ae(document,"touchmove",this._onTouchMove):ae(document,"mousemove",this._onTouchMove):(ae(R,"dragend",this),ae(ye,"dragstart",this._onDragStart));try{document.selection?gr(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Tt=!1,ye&&R){_e("dragStarted",this,{evt:i}),this.nativeDraggable&&ae(document,"dragover",bo);var d=this.options;!e&&we(R,d.dragClass,!1),we(R,d.ghostClass,!0),W.active=this,e&&this._appendGhost(),ze({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(tt){this._lastX=tt.clientX,this._lastY=tt.clientY,Sn();for(var e=document.elementFromPoint(tt.clientX,tt.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(tt.clientX,tt.clientY),e!==i);)i=e;if(R.parentNode[Re]._isOutsideThisEl(e),i)do{if(i[Re]){var d=void 0;if(d=i[Re]._onDragOver({clientX:tt.clientX,clientY:tt.clientY,target:e,rootEl:i}),d&&!this.options.dragoverBubble)break}e=i}while(i=i.parentNode);wn()}},_onTouchMove:function(e){if(yt){var i=this.options,d=i.fallbackTolerance,r=i.fallbackOffset,s=e.touches?e.touches[0]:e,t=ne&&wt(ne,!0),a=ne&&t&&t.a,l=ne&&t&&t.d,u=dr&&Fe&&nn(Fe),c=(s.clientX-yt.clientX+r.x)/(a||1)+(u?u[0]-Ur[0]:0)/(a||1),f=(s.clientY-yt.clientY+r.y)/(l||1)+(u?u[1]-Ur[1]:0)/(l||1);if(!W.active&&!Tt){if(d&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<d)return;this._onDragStart(e,!0)}if(ne){t?(t.e+=c-($r||0),t.f+=f-(Vr||0)):t={a:1,b:0,c:0,d:1,e:c,f};var p="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");K(ne,"webkitTransform",p),K(ne,"mozTransform",p),K(ne,"msTransform",p),K(ne,"transform",p),$r=c,Vr=f,tt=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:ye,i=xe(R,!0,dr,!0,e),d=this.options;if(dr){for(Fe=e;K(Fe,"position")==="static"&&K(Fe,"transform")==="none"&&Fe!==document;)Fe=Fe.parentNode;Fe!==document.body&&Fe!==document.documentElement?(Fe===document&&(Fe=st()),i.top+=Fe.scrollTop,i.left+=Fe.scrollLeft):Fe=st(),Ur=nn(Fe)}ne=R.cloneNode(!0),we(ne,d.ghostClass,!1),we(ne,d.fallbackClass,!0),we(ne,d.dragClass,!0),K(ne,"transition",""),K(ne,"transform",""),K(ne,"box-sizing","border-box"),K(ne,"margin",0),K(ne,"top",i.top),K(ne,"left",i.left),K(ne,"width",i.width),K(ne,"height",i.height),K(ne,"opacity","0.8"),K(ne,"position",dr?"absolute":"fixed"),K(ne,"zIndex","100000"),K(ne,"pointerEvents","none"),W.ghost=ne,e.appendChild(ne),K(ne,"transform-origin",sn/parseInt(ne.style.width)*100+"% "+ln/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,i){var d=this,r=e.dataTransfer,s=d.options;if(_e("dragStart",this,{evt:e}),W.eventCanceled){this._onDrop();return}_e("setupClone",this),W.eventCanceled||(Ce=Xr(R),Ce.draggable=!1,Ce.style["will-change"]="",this._hideClone(),we(Ce,this.options.chosenClass,!1),W.clone=Ce),d.cloneId=gr(function(){_e("clone",d),!W.eventCanceled&&(d.options.removeCloneOnHide||ye.insertBefore(Ce,R),d._hideClone(),ze({sortable:d,name:"clone"}))}),!i&&we(R,s.dragClass,!0),i?(xr=!0,d._loopId=setInterval(d._emulateDragOver,50)):(se(document,"mouseup",d._onDrop),se(document,"touchend",d._onDrop),se(document,"touchcancel",d._onDrop),r&&(r.effectAllowed="move",s.setData&&s.setData.call(d,r,R)),ae(document,"drop",d),K(R,"transform","translateZ(0)")),Tt=!0,d._dragStartId=gr(d._dragStarted.bind(d,i,e)),ae(document,"selectstart",d),_t=!0,Yt&&K(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,d=e.target,r,s,t,a=this.options,l=a.group,u=W.active,c=lr===l,f=a.sort,p=Be||u,v,m=this,g=!1;if(Gr)return;function b(fe,he){_e(fe,m,at({evt:e,isOwner:c,axis:v?"vertical":"horizontal",revert:t,dragRect:r,targetRect:s,canSort:f,fromSortable:p,target:d,completed:O,onMove:function(Ee,Oe){return ur(ye,i,R,r,Ee,xe(Ee),e,Oe)},changed:V},he))}function S(){b("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function O(fe){return b("dragOverCompleted",{insertion:fe}),fe&&(c?u._hideClone():u._showClone(m),m!==p&&(we(R,Be?Be.options.ghostClass:u.options.ghostClass,!1),we(R,a.ghostClass,!0)),Be!==m&&m!==W.active?Be=m:m===W.active&&Be&&(Be=null),p===m&&(m._ignoreWhileAnimating=d),m.animateAll(function(){b("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(d===R&&!R.animated||d===i&&!d.animated)&&(It=null),!a.dragoverBubble&&!e.rootEl&&d!==document&&(R.parentNode[Re]._isOutsideThisEl(e.target),!fe&&xt(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function V(){Qe=Ie(R),pt=Ie(R,a.draggable),ze({sortable:m,name:"change",toEl:i,newIndex:Qe,newDraggableIndex:pt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),d=nt(d,a.draggable,i,!0),b("dragOver"),W.eventCanceled)return g;if(R.contains(e.target)||d.animated&&d.animatingX&&d.animatingY||m._ignoreWhileAnimating===d)return O(!1);if(xr=!1,u&&!a.disabled&&(c?f||(t=ke!==ye):Be===this||(this.lastPutMode=lr.checkPull(this,u,R,e))&&l.checkPut(this,u,R,e))){if(v=this._getDirection(e,d)==="vertical",r=xe(R),b("dragOverValid"),W.eventCanceled)return g;if(t)return ke=ye,S(),this._hideClone(),b("revert"),W.eventCanceled||(St?ye.insertBefore(R,St):ye.appendChild(R)),O(!0);var A=Wr(i,a.draggable);if(!A||wo(e,v,this)&&!A.animated){if(A===R)return O(!1);if(A&&i===e.target&&(d=A),d&&(s=xe(d)),ur(ye,i,R,r,d,s,e,!!d)!==!1)return S(),i.appendChild(R),ke=i,V(),O(!0)}else if(A&&So(e,v,this)){var w=$t(i,0,a,!0);if(w===R)return O(!1);if(d=w,s=xe(d),ur(ye,i,R,r,d,s,e,!1)!==!1)return S(),i.insertBefore(R,w),ke=i,V(),O(!0)}else if(d.parentNode===i){s=xe(d);var E=0,x,P=R.parentNode!==i,k=!go(R.animated&&R.toRect||r,d.animated&&d.toRect||s,v),j=v?"top":"left",B=rn(d,"top","top")||rn(R,"top","top"),ee=B?B.scrollTop:void 0;It!==d&&(x=s[j],qt=!1,ar=!k&&a.invertSwap||P),E=Eo(e,d,s,v,k?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,ar,It===d);var F;if(E!==0){var N=Ie(R);do N-=E,F=ke.children[N];while(F&&(K(F,"display")==="none"||F===ne))}if(E===0||F===d)return O(!1);It=d,Zt=E;var q=d.nextElementSibling,G=!1;G=E===1;var _=ur(ye,i,R,r,d,s,e,G);if(_!==!1)return(_===1||_===-1)&&(G=_===1),Gr=!0,setTimeout(xo,30),S(),G&&!q?i.appendChild(R):d.parentNode.insertBefore(R,G?q:d),B&&hn(B,0,ee-B.scrollTop),ke=R.parentNode,x!==void 0&&!ar&&(vr=Math.abs(x-xe(d)[j])),V(),O(!0)}if(i.contains(R))return O(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){se(document,"mousemove",this._onTouchMove),se(document,"touchmove",this._onTouchMove),se(document,"pointermove",this._onTouchMove),se(document,"dragover",xt),se(document,"mousemove",xt),se(document,"touchmove",xt)},_offUpEvents:function(){var e=this.el.ownerDocument;se(e,"mouseup",this._onDrop),se(e,"touchend",this._onDrop),se(e,"pointerup",this._onDrop),se(e,"touchcancel",this._onDrop),se(document,"selectstart",this)},_onDrop:function(e){var i=this.el,d=this.options;if(Qe=Ie(R),pt=Ie(R,d.draggable),_e("drop",this,{evt:e}),ke=R&&R.parentNode,Qe=Ie(R),pt=Ie(R,d.draggable),W.eventCanceled){this._nulling();return}Tt=!1,ar=!1,qt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zr(this.cloneId),zr(this._dragStartId),this.nativeDraggable&&(se(document,"drop",this),se(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Yt&&K(document.body,"user-select",""),K(R,"transform",""),e&&(_t&&(e.cancelable&&e.preventDefault(),!d.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(ye===ke||Be&&Be.lastPutMode!=="clone")&&Ce&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),R&&(this.nativeDraggable&&se(R,"dragend",this),Mr(R),R.style["will-change"]="",_t&&!Tt&&we(R,Be?Be.options.ghostClass:this.options.ghostClass,!1),we(R,this.options.chosenClass,!1),ze({sortable:this,name:"unchoose",toEl:ke,newIndex:null,newDraggableIndex:null,originalEvent:e}),ye!==ke?(Qe>=0&&(ze({rootEl:ke,name:"add",toEl:ke,fromEl:ye,originalEvent:e}),ze({sortable:this,name:"remove",toEl:ke,originalEvent:e}),ze({rootEl:ke,name:"sort",toEl:ke,fromEl:ye,originalEvent:e}),ze({sortable:this,name:"sort",toEl:ke,originalEvent:e})),Be&&Be.save()):Qe!==At&&Qe>=0&&(ze({sortable:this,name:"update",toEl:ke,originalEvent:e}),ze({sortable:this,name:"sort",toEl:ke,originalEvent:e})),W.active&&((Qe==null||Qe===-1)&&(Qe=At,pt=Qt),ze({sortable:this,name:"end",toEl:ke,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){_e("nulling",this),ye=R=ke=ne=St=Ce=pr=vt=yt=tt=_t=Qe=pt=At=Qt=It=Zt=Be=lr=W.dragged=W.ghost=W.clone=W.active=null,wr.forEach(function(e){e.checked=!0}),wr.length=$r=Vr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":R&&(this._onDragOver(e),yo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,d=this.el.children,r=0,s=d.length,t=this.options;r<s;r++)i=d[r],nt(i,t.draggable,this.el,!1)&&e.push(i.getAttribute(t.dataIdAttr)||ko(i));return e},sort:function(e,i){var d={},r=this.el;this.toArray().forEach(function(s,t){var a=r.children[t];nt(a,this.options.draggable,r,!1)&&(d[s]=a)},this),i&&this.captureAnimationState(),e.forEach(function(s){d[s]&&(r.removeChild(d[s]),r.appendChild(d[s]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return nt(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var d=this.options;if(i===void 0)return d[e];var r=nr.modifyOption(this,e,i);typeof r<"u"?d[e]=r:d[e]=i,e==="group"&&xn(d)},destroy:function(){_e("destroy",this);var e=this.el;e[Re]=null,se(e,"mousedown",this._onTapStart),se(e,"touchstart",this._onTapStart),se(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(se(e,"dragover",this),se(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Sr.splice(Sr.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!vt){if(_e("hideClone",this),W.eventCanceled)return;K(Ce,"display","none"),this.options.removeCloneOnHide&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),vt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(vt){if(_e("showClone",this),W.eventCanceled)return;R.parentNode==ye&&!this.options.group.revertClone?ye.insertBefore(Ce,R):St?ye.insertBefore(Ce,St):ye.appendChild(Ce),this.options.group.revertClone&&this.animate(R,Ce),K(Ce,"display",""),vt=!1}}};function yo(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function ur(n,e,i,d,r,s,t,a){var l,u=n[Re],c=u.options.onMove,f;return window.CustomEvent&&!ut&&!rr?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=i,l.draggedRect=d,l.related=r||e,l.relatedRect=s||xe(e),l.willInsertAfter=a,l.originalEvent=t,n.dispatchEvent(l),c&&(f=c.call(u,l,t)),f}function Mr(n){n.draggable=!1}function xo(){Gr=!1}function So(n,e,i){var d=xe($t(i.el,0,i.options,!0)),r=10;return e?n.clientX<d.left-r||n.clientY<d.top&&n.clientX<d.right:n.clientY<d.top-r||n.clientY<d.bottom&&n.clientX<d.left}function wo(n,e,i){var d=xe(Wr(i.el,i.options.draggable)),r=10;return e?n.clientX>d.right+r||n.clientX<=d.right&&n.clientY>d.bottom&&n.clientX>=d.left:n.clientX>d.right&&n.clientY>d.top||n.clientX<=d.right&&n.clientY>d.bottom+r}function Eo(n,e,i,d,r,s,t,a){var l=d?n.clientY:n.clientX,u=d?i.height:i.width,c=d?i.top:i.left,f=d?i.bottom:i.right,p=!1;if(!t){if(a&&vr<u*r){if(!qt&&(Zt===1?l>c+u*s/2:l<f-u*s/2)&&(qt=!0),qt)p=!0;else if(Zt===1?l<c+vr:l>f-vr)return-Zt}else if(l>c+u*(1-r)/2&&l<f-u*(1-r)/2)return Oo(e)}return p=p||t,p&&(l<c+u*s/2||l>f-u*s/2)?l>c+u/2?1:-1:0}function Oo(n){return Ie(R)<Ie(n)?1:-1}function ko(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,i=e.length,d=0;i--;)d+=e.charCodeAt(i);return d.toString(36)}function Co(n){wr.length=0;for(var e=n.getElementsByTagName("input"),i=e.length;i--;){var d=e[i];d.checked&&wr.push(d)}}function gr(n){return setTimeout(n,0)}function zr(n){return clearTimeout(n)}kr&&ae(document,"touchmove",function(n){(W.active||Tt)&&n.cancelable&&n.preventDefault()});W.utils={on:ae,off:se,css:K,find:vn,is:function(e,i){return!!nt(e,i,e,!1)},extend:ao,throttle:gn,closest:nt,toggleClass:we,clone:Xr,index:Ie,nextTick:gr,cancelNextTick:zr,detectDirection:yn,getChild:$t};W.get=function(n){return n[Re]};W.mount=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(d){if(!d.prototype||!d.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(d));d.utils&&(W.utils=at(at({},W.utils),d.utils)),nr.mount(d)})};W.create=function(n,e){return new W(n,e)};W.version=oo;var $e=[],Wt,Kr,Hr=!1,jr,Lr,Er,Xt;function Io(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(i){var d=i.originalEvent;this.sortable.nativeDraggable?ae(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ae(document,"pointermove",this._handleFallbackAutoScroll):d.touches?ae(document,"touchmove",this._handleFallbackAutoScroll):ae(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var d=i.originalEvent;!this.options.dragOverBubble&&!d.rootEl&&this._handleAutoScroll(d)},drop:function(){this.sortable.nativeDraggable?se(document,"dragover",this._handleAutoScroll):(se(document,"pointermove",this._handleFallbackAutoScroll),se(document,"touchmove",this._handleFallbackAutoScroll),se(document,"mousemove",this._handleFallbackAutoScroll)),dn(),hr(),uo()},nulling:function(){Er=Kr=Wt=Hr=Xt=jr=Lr=null,$e.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,d){var r=this,s=(i.touches?i.touches[0]:i).clientX,t=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(s,t);if(Er=i,d||this.options.forceAutoScrollFallback||rr||ut||Yt){Br(i,this.options,a,d);var l=gt(a,!0);Hr&&(!Xt||s!==jr||t!==Lr)&&(Xt&&dn(),Xt=setInterval(function(){var u=gt(document.elementFromPoint(s,t),!0);u!==l&&(l=u,hr()),Br(i,r.options,u,d)},10),jr=s,Lr=t)}else{if(!this.options.bubbleScroll||gt(a,!0)===st()){hr();return}Br(i,this.options,gt(a,!1),!1)}}},qe(n,{pluginName:"scroll",initializeByDefault:!0})}function hr(){$e.forEach(function(n){clearInterval(n.pid)}),$e=[]}function dn(){clearInterval(Xt)}var Br=gn(function(n,e,i,d){if(e.scroll){var r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,t=e.scrollSensitivity,a=e.scrollSpeed,l=st(),u=!1,c;Kr!==i&&(Kr=i,hr(),Wt=e.scroll,c=e.scrollFn,Wt===!0&&(Wt=gt(i,!0)));var f=0,p=Wt;do{var v=p,m=xe(v),g=m.top,b=m.bottom,S=m.left,O=m.right,V=m.width,A=m.height,w=void 0,E=void 0,x=v.scrollWidth,P=v.scrollHeight,k=K(v),j=v.scrollLeft,B=v.scrollTop;v===l?(w=V<x&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),E=A<P&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(w=V<x&&(k.overflowX==="auto"||k.overflowX==="scroll"),E=A<P&&(k.overflowY==="auto"||k.overflowY==="scroll"));var ee=w&&(Math.abs(O-r)<=t&&j+V<x)-(Math.abs(S-r)<=t&&!!j),F=E&&(Math.abs(b-s)<=t&&B+A<P)-(Math.abs(g-s)<=t&&!!B);if(!$e[f])for(var N=0;N<=f;N++)$e[N]||($e[N]={});($e[f].vx!=ee||$e[f].vy!=F||$e[f].el!==v)&&($e[f].el=v,$e[f].vx=ee,$e[f].vy=F,clearInterval($e[f].pid),(ee!=0||F!=0)&&(u=!0,$e[f].pid=setInterval((function(){d&&this.layer===0&&W.active._onTouchMove(Er);var q=$e[this.layer].vy?$e[this.layer].vy*a:0,G=$e[this.layer].vx?$e[this.layer].vx*a:0;typeof c=="function"&&c.call(W.dragged.parentNode[Re],G,q,n,Er,$e[this.layer].el)!=="continue"||hn($e[this.layer].el,G,q)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&p!==l&&(p=gt(p,!1)));Hr=u}},30),En=function(e){var i=e.originalEvent,d=e.putSortable,r=e.dragEl,s=e.activeSortable,t=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var u=d||s;a();var c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,f=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(f)&&(t("spill"),this.onSpill({dragEl:r,putSortable:d}))}};function Yr(){}Yr.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,d=e.putSortable;this.sortable.captureAnimationState(),d&&d.captureAnimationState();var r=$t(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(i,r):this.sortable.el.appendChild(i),this.sortable.animateAll(),d&&d.animateAll()},drop:En};qe(Yr,{pluginName:"revertOnSpill"});function Jr(){}Jr.prototype={onSpill:function(e){var i=e.dragEl,d=e.putSortable,r=d||this.sortable;r.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),r.animateAll()},drop:En};qe(Jr,{pluginName:"removeOnSpill"});var Ze;function Po(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(i){var d=i.dragEl;Ze=d},dragOverValid:function(i){var d=i.completed,r=i.target,s=i.onMove,t=i.activeSortable,a=i.changed,l=i.cancel;if(t.options.swap){var u=this.sortable.el,c=this.options;if(r&&r!==u){var f=Ze;s(r)!==!1?(we(r,c.swapClass,!0),Ze=r):Ze=null,f&&f!==Ze&&we(f,c.swapClass,!1)}a(),d(!0),l()}},drop:function(i){var d=i.activeSortable,r=i.putSortable,s=i.dragEl,t=r||this.sortable,a=this.options;Ze&&we(Ze,a.swapClass,!1),Ze&&(a.swap||r&&r.options.swap)&&s!==Ze&&(t.captureAnimationState(),t!==d&&d.captureAnimationState(),To(s,Ze),t.animateAll(),t!==d&&d.animateAll())},nulling:function(){Ze=null}},qe(n,{pluginName:"swap",eventProperties:function(){return{swapItem:Ze}}})}function To(n,e){var i=n.parentNode,d=e.parentNode,r,s;!i||!d||i.isEqualNode(e)||d.isEqualNode(n)||(r=Ie(n),s=Ie(e),i.isEqualNode(d)&&r<s&&s++,i.insertBefore(e,i.children[r]),d.insertBefore(n,d.children[s]))}var te=[],Je=[],Nt,rt,Gt=!1,We=!1,Pt=!1,ge,zt,cr;function Ao(){function n(e){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));e.options.supportPointer?ae(document,"pointerup",this._deselectMultiDrag):(ae(document,"mouseup",this._deselectMultiDrag),ae(document,"touchend",this._deselectMultiDrag)),ae(document,"keydown",this._checkKeyDown),ae(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(r,s){var t="";te.length&&rt===e?te.forEach(function(a,l){t+=(l?", ":"")+a.textContent}):t=s.textContent,r.setData("Text",t)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var d=i.dragEl;ge=d},delayEnded:function(){this.isMultiDrag=~te.indexOf(ge)},setupClone:function(i){var d=i.sortable,r=i.cancel;if(this.isMultiDrag){for(var s=0;s<te.length;s++)Je.push(Xr(te[s])),Je[s].sortableIndex=te[s].sortableIndex,Je[s].draggable=!1,Je[s].style["will-change"]="",we(Je[s],this.options.selectedClass,!1),te[s]===ge&&we(Je[s],this.options.chosenClass,!1);d._hideClone(),r()}},clone:function(i){var d=i.sortable,r=i.rootEl,s=i.dispatchSortableEvent,t=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||te.length&&rt===d&&(un(!0,r),s("clone"),t()))},showClone:function(i){var d=i.cloneNowShown,r=i.rootEl,s=i.cancel;this.isMultiDrag&&(un(!1,r),Je.forEach(function(t){K(t,"display","")}),d(),cr=!1,s())},hideClone:function(i){var d=this;i.sortable;var r=i.cloneNowHidden,s=i.cancel;this.isMultiDrag&&(Je.forEach(function(t){K(t,"display","none"),d.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),r(),cr=!0,s())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&rt&&rt.multiDrag._deselectMultiDrag(),te.forEach(function(d){d.sortableIndex=Ie(d)}),te=te.sort(function(d,r){return d.sortableIndex-r.sortableIndex}),Pt=!0},dragStarted:function(i){var d=this,r=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){te.forEach(function(t){t!==ge&&K(t,"position","absolute")});var s=xe(ge,!1,!0,!0);te.forEach(function(t){t!==ge&&on(t,s)}),We=!0,Gt=!0}r.animateAll(function(){We=!1,Gt=!1,d.options.animation&&te.forEach(function(t){Ar(t)}),d.options.sort&&fr()})}},dragOver:function(i){var d=i.target,r=i.completed,s=i.cancel;We&&~te.indexOf(d)&&(r(!1),s())},revert:function(i){var d=i.fromSortable,r=i.rootEl,s=i.sortable,t=i.dragRect;te.length>1&&(te.forEach(function(a){s.addAnimationState({target:a,rect:We?xe(a):t}),Ar(a),a.fromRect=t,d.removeAnimationState(a)}),We=!1,Do(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(i){var d=i.sortable,r=i.isOwner,s=i.insertion,t=i.activeSortable,a=i.parentEl,l=i.putSortable,u=this.options;if(s){if(r&&t._hideClone(),Gt=!1,u.animation&&te.length>1&&(We||!r&&!t.options.sort&&!l)){var c=xe(ge,!1,!0,!0);te.forEach(function(p){p!==ge&&(on(p,c),a.appendChild(p))}),We=!0}if(!r)if(We||fr(),te.length>1){var f=cr;t._showClone(d),t.options.animation&&!cr&&f&&Je.forEach(function(p){t.addAnimationState({target:p,rect:zt}),p.fromRect=zt,p.thisAnimationDuration=null})}else t._showClone(d)}},dragOverAnimationCapture:function(i){var d=i.dragRect,r=i.isOwner,s=i.activeSortable;if(te.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!r&&s.multiDrag.isMultiDrag){zt=qe({},d);var t=wt(ge,!0);zt.top-=t.f,zt.left-=t.e}},dragOverAnimationComplete:function(){We&&(We=!1,fr())},drop:function(i){var d=i.originalEvent,r=i.rootEl,s=i.parentEl,t=i.sortable,a=i.dispatchSortableEvent,l=i.oldIndex,u=i.putSortable,c=u||this.sortable;if(d){var f=this.options,p=s.children;if(!Pt)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),we(ge,f.selectedClass,!~te.indexOf(ge)),~te.indexOf(ge))te.splice(te.indexOf(ge),1),Nt=null,Ht({sortable:t,rootEl:r,name:"deselect",targetEl:ge});else{if(te.push(ge),Ht({sortable:t,rootEl:r,name:"select",targetEl:ge}),d.shiftKey&&Nt&&t.el.contains(Nt)){var v=Ie(Nt),m=Ie(ge);if(~v&&~m&&v!==m){var g,b;for(m>v?(b=v,g=m):(b=m,g=v+1);b<g;b++)~te.indexOf(p[b])||(we(p[b],f.selectedClass,!0),te.push(p[b]),Ht({sortable:t,rootEl:r,name:"select",targetEl:p[b]}))}}else Nt=ge;rt=c}if(Pt&&this.isMultiDrag){if(We=!1,(s[Re].options.sort||s!==r)&&te.length>1){var S=xe(ge),O=Ie(ge,":not(."+this.options.selectedClass+")");if(!Gt&&f.animation&&(ge.thisAnimationDuration=null),c.captureAnimationState(),!Gt&&(f.animation&&(ge.fromRect=S,te.forEach(function(A){if(A.thisAnimationDuration=null,A!==ge){var w=We?xe(A):S;A.fromRect=w,c.addAnimationState({target:A,rect:w})}})),fr(),te.forEach(function(A){p[O]?s.insertBefore(A,p[O]):s.appendChild(A),O++}),l===Ie(ge))){var V=!1;te.forEach(function(A){if(A.sortableIndex!==Ie(A)){V=!0;return}}),V&&a("update")}te.forEach(function(A){Ar(A)}),c.animateAll()}rt=c}(r===s||u&&u.lastPutMode!=="clone")&&Je.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Pt=!1,Je.length=0},destroyGlobal:function(){this._deselectMultiDrag(),se(document,"pointerup",this._deselectMultiDrag),se(document,"mouseup",this._deselectMultiDrag),se(document,"touchend",this._deselectMultiDrag),se(document,"keydown",this._checkKeyDown),se(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof Pt<"u"&&Pt)&&rt===this.sortable&&!(i&&nt(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;te.length;){var d=te[0];we(d,this.options.selectedClass,!1),te.shift(),Ht({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:d})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},qe(n,{pluginName:"multiDrag",utils:{select:function(i){var d=i.parentNode[Re];!d||!d.options.multiDrag||~te.indexOf(i)||(rt&&rt!==d&&(rt.multiDrag._deselectMultiDrag(),rt=d),we(i,d.options.selectedClass,!0),te.push(i))},deselect:function(i){var d=i.parentNode[Re],r=te.indexOf(i);!d||!d.options.multiDrag||!~r||(we(i,d.options.selectedClass,!1),te.splice(r,1))}},eventProperties:function(){var i=this,d=[],r=[];return te.forEach(function(s){d.push({multiDragElement:s,index:s.sortableIndex});var t;We&&s!==ge?t=-1:We?t=Ie(s,":not(."+i.options.selectedClass+")"):t=Ie(s),r.push({multiDragElement:s,index:t})}),{items:qn(te),clones:[].concat(Je),oldIndicies:d,newIndicies:r}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function Do(n,e){te.forEach(function(i,d){var r=e.children[i.sortableIndex+(n?Number(d):0)];r?e.insertBefore(i,r):e.appendChild(i)})}function un(n,e){Je.forEach(function(i,d){var r=e.children[i.sortableIndex+(n?Number(d):0)];r?e.insertBefore(i,r):e.appendChild(i)})}function fr(){te.forEach(function(n){n!==ge&&n.parentNode&&n.parentNode.removeChild(n)})}W.mount(new Io);W.mount(Jr,Yr);const $o=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ao,Sortable:W,Swap:Po,default:W},Symbol.toStringTag,{value:"Module"})),Vo={class:"card mb-4 p-3"},Uo={class:"mb-3"},Mo={class:"text-muted"},jo=["src"],Lo=["onClick"],Bo={class:"badge-main"},Fo={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae([...i.modelValue]);lt(()=>i.modelValue,u=>{u!==r.value&&(r.value=[...u])});function s(){r.value.forEach((u,c)=>{u.position=c,u.is_main=c===0}),d("update:modelValue",[...r.value])}function t(u){Array.from(u.target.files).forEach(f=>{r.value.push({id:Date.now()+Math.random(),file:f,url:URL.createObjectURL(f),position:r.value.length,is_main:!1})}),s(),u.target.value=""}function a(u){r.value.splice(u,1),s()}const l=Ae(null);return er(()=>{W.create(l.value,{animation:150,onEnd:u=>{const c=r.value.splice(u.oldIndex,1)[0];r.value.splice(u.newIndex,0,c),s()}})}),(u,c)=>(h(),y("div",Vo,[c[0]||(c[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",Uo,[o("input",{type:"file",class:"form-control",multiple:"",onChange:t},null,32),o("small",Mo,"Файлів: "+T(r.value.length),1)]),o("div",{ref_key:"containerRef",ref:l,class:"d-flex gap-2 flex-wrap"},[(h(!0),y(re,null,ve(r.value,(f,p)=>(h(),y("div",{key:f.id,class:"image-item"},[o("img",{src:f.url,alt:""},null,8,jo),o("button",{type:"button",class:"remove-btn",onClick:v=>a(p)},"×",8,Lo),o("span",Bo,T(p===0?"Головне":"#"+(p+1)),1)]))),128))],512)]))}},Ro=le(Fo,[["__scopeId","data-v-290a1175"]]),No={name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],data(){return{lang:"uk",activeTab:"text",editIdx:null,form:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},tabs:{uk:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка зліва"},{value:"two_images",label:"Дві картинки"}],ru:[{value:"text",label:"Текст"},{value:"image_right",label:"Картинка справа"},{value:"image_left",label:"Картинка слева"},{value:"two_images",label:"Две картинки"}]}}},computed:{getTabs(){return this.lang==="uk"?this.tabs.uk:this.tabs.ru},descriptionBlocks:{get(){return this.modelValue},set(n){this.$emit("update:modelValue",n)}}},watch:{activeTab(){this.resetForm(),this.editIdx=null},lang(){this.resetForm(),this.editIdx=null}},methods:{onImageChange(n,e,i=1){const d=n.target.files[0];if(!d)return;const r=new FileReader;r.onload=s=>{e==="two_images"?i===1?this.form.imageUrl1=s.target.result:this.form.imageUrl2=s.target.result:this.form.imageUrl=s.target.result},r.readAsDataURL(d)},addBlock(){const n={type:this.activeTab,_key:this.editIdx!==null?this.descriptionBlocks[this.lang][this.editIdx]._key:Date.now()+Math.random()};this.activeTab==="text"?(n.title=this.form.title,n.text=this.form.text):this.activeTab==="image_right"||this.activeTab==="image_left"?(n.title=this.form.title,n.text=this.form.text,n.imageUrl=this.form.imageUrl):this.activeTab==="two_images"&&(n.imageUrl1=this.form.imageUrl1,n.imageUrl2=this.form.imageUrl2);const e={...this.descriptionBlocks},i=[...e[this.lang]||[]];this.editIdx!==null?i[this.editIdx]=n:i.push(n),e[this.lang]=i,this.descriptionBlocks=e,this.resetForm(),this.editIdx=null,this.$nextTick(()=>{const d=this.$refs.lastBlock;d&&d.scrollIntoView&&d.scrollIntoView({behavior:"smooth",block:"center"})})},resetForm(){this.form={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},getLabel(n){return{uk:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка зліва",image1:"Перша картинка",image2:"Друга картинка",add:this.editIdx!==null?"Оновити":"Додати"},ru:{title:"Заголовок",text:"Текст",image_right:"Картинка справа",image_left:"Картинка слева",image1:"Первая картинка",image2:"Вторая картинка",add:this.editIdx!==null?"Обновить":"Добавить"}}[this.lang][n]},getBlockTypeLabel(n){return{text:{uk:"Текст",ru:"Текст"},image_right:{uk:"Картинка справа",ru:"Картинка справа"},image_left:{uk:"Картинка зліва",ru:"Картинка слева"},two_images:{uk:"Дві картинки",ru:"Две картинки"}}[n][this.lang]},deleteBlock(n){const e={...this.descriptionBlocks};e[this.lang]=[...e[this.lang]||[]],e[this.lang].splice(n,1),this.descriptionBlocks=e,this.resetForm(),this.editIdx=null},editBlock(n){const e=this.descriptionBlocks[this.lang][n];this.activeTab=e.type,this.editIdx=n,this.form={title:e.title||"",text:e.text||"",imageUrl:e.imageUrl||"",imageUrl1:e.imageUrl1||"",imageUrl2:e.imageUrl2||""},this.$nextTick(()=>{const i=this.$el.querySelector("form");i&&i.scrollIntoView({behavior:"smooth",block:"center"})})}}},Go={class:"card mb-4 p-4"},zo={class:"nav nav-tabs mb-3"},Ko={class:"nav-item"},Ho={class:"nav-item"},_o={class:"mb-3 d-flex align-items-center gap-2 flex-wrap"},Wo=["onClick"],Xo={class:"mb-3"},Yo={class:"form-label"},Jo={class:"mb-3"},Qo={class:"form-label"},Zo={type:"submit",class:"btn btn-success"},qo={class:"row"},ei={class:"col-md-7 mb-3"},ti={class:"form-label"},ri={class:"form-label mt-3"},ni={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},oi={class:"form-label"},ii={key:0,class:"mt-3 w-100 d-flex justify-content-center"},si=["src"],li={type:"submit",class:"btn btn-success mt-2 w-100"},ai={class:"row"},di={class:"col-md-5 mb-3 d-flex flex-column align-items-center"},ui={class:"form-label"},ci={key:0,class:"mt-3 w-100 d-flex justify-content-center"},fi=["src"],mi={class:"col-md-7 mb-3"},pi={class:"form-label"},vi={class:"form-label mt-3"},gi={type:"submit",class:"btn btn-success mt-2 w-100"},hi={class:"row"},bi={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},yi={class:"form-label"},xi={key:0,class:"mt-3 w-100 d-flex justify-content-center"},Si=["src"],wi={class:"col-md-6 mb-3 d-flex flex-column align-items-center"},Ei={class:"form-label"},Oi={key:0,class:"mt-3 w-100 d-flex justify-content-center"},ki=["src"],Ci={type:"submit",class:"btn btn-success mt-2 w-100"},Ii={key:0,class:"desc-text-only"},Pi={class:"desc-title"},Ti={class:"desc-content"},Ai={key:1,class:"desc-two-cols"},Di={class:"desc-cols-text text-start"},$i={class:"desc-title"},Vi={class:"desc-content"},Ui={class:"desc-cols-img-wrap"},Mi=["src"],ji={key:2,class:"desc-two-cols"},Li={class:"desc-cols-img-wrap"},Bi=["src"],Fi={class:"desc-cols-text text-start"},Ri={class:"desc-title"},Ni={class:"desc-content"},Gi={key:3,class:"desc-two-images"},zi={class:"desc-cols-img-wrap"},Ki=["src"],Hi={class:"desc-cols-img-wrap"},_i=["src"],Wi={class:"mt-3 text-end"},Xi=["onClick"],Yi=["onClick"];function Ji(n,e,i,d,r,s){return h(),y("div",Go,[e[17]||(e[17]=o("h6",{class:"fw-bold mb-3"},"Опис товару",-1)),o("ul",zo,[o("li",Ko,[o("button",{class:Y(["nav-link",{active:r.lang==="uk"}]),onClick:e[0]||(e[0]=t=>r.lang="uk"),type:"button"},"Українська",2)]),o("li",Ho,[o("button",{class:Y(["nav-link",{active:r.lang==="ru"}]),onClick:e[1]||(e[1]=t=>r.lang="ru"),type:"button"},"Російська",2)])]),o("div",_o,[(h(!0),y(re,null,ve(s.getTabs,t=>(h(),y("button",{key:t.value,onClick:a=>r.activeTab=t.value,class:Y(["btn d-flex align-items-center",r.activeTab===t.value?"btn-primary":"btn-outline-primary"]),type:"button"},[pe(T(t.label)+" ",1),o("span",{class:Y(["badge ms-2",r.lang==="uk"?"bg-primary":"bg-danger"])},T(r.lang.toUpperCase()),3)],10,Wo))),128))]),r.activeTab==="text"?(h(),y("form",{key:0,onSubmit:e[4]||(e[4]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",Xo,[o("label",Yo,T(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.form.title=t)},null,512),[[L,r.form.title]])]),o("div",Jo,[o("label",Qo,T(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[3]||(e[3]=t=>r.form.text=t)},null,512),[[L,r.form.text]])]),o("button",Zo,T(s.getLabel("add")),1)],32)):$("",!0),r.activeTab==="image_right"?(h(),y("form",{key:1,onSubmit:e[8]||(e[8]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",qo,[o("div",ei,[o("label",ti,T(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=t=>r.form.title=t)},null,512),[[L,r.form.title]]),o("label",ri,T(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[6]||(e[6]=t=>r.form.text=t)},null,512),[[L,r.form.text]])]),o("div",ni,[o("label",oi,T(s.getLabel("image_right")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=t=>s.onImageChange(t,"image_right"))},null,32),r.form.imageUrl?(h(),y("div",ii,[o("img",{src:r.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,si)])):$("",!0)])]),o("button",li,T(s.getLabel("add")),1)],32)):$("",!0),r.activeTab==="image_left"?(h(),y("form",{key:2,onSubmit:e[12]||(e[12]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",ai,[o("div",di,[o("label",ui,T(s.getLabel("image_left")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[9]||(e[9]=t=>s.onImageChange(t,"image_left"))},null,32),r.form.imageUrl?(h(),y("div",ci,[o("img",{src:r.form.imageUrl,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,fi)])):$("",!0)]),o("div",mi,[o("label",pi,T(s.getLabel("title")),1),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[10]||(e[10]=t=>r.form.title=t)},null,512),[[L,r.form.title]]),o("label",vi,T(s.getLabel("text")),1),U(o("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":e[11]||(e[11]=t=>r.form.text=t)},null,512),[[L,r.form.text]])])]),o("button",gi,T(s.getLabel("add")),1)],32)):$("",!0),r.activeTab==="two_images"?(h(),y("form",{key:3,onSubmit:e[15]||(e[15]=oe((...t)=>s.addBlock&&s.addBlock(...t),["prevent"]))},[o("div",hi,[o("div",bi,[o("label",yi,T(s.getLabel("image1")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[13]||(e[13]=t=>s.onImageChange(t,"two_images",1))},null,32),r.form.imageUrl1?(h(),y("div",xi,[o("img",{src:r.form.imageUrl1,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,Si)])):$("",!0)]),o("div",wi,[o("label",Ei,T(s.getLabel("image2")),1),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[14]||(e[14]=t=>s.onImageChange(t,"two_images",2))},null,32),r.form.imageUrl2?(h(),y("div",Oi,[o("img",{src:r.form.imageUrl2,alt:"preview",style:{width:"400px","object-fit":"cover","border-radius":"12px",border:"1.5px solid #eee"}},null,8,ki)])):$("",!0)])]),o("button",Ci,T(s.getLabel("add")),1)],32)):$("",!0),Q(_r,{name:"fade",tag:"div",class:"mt-4",ref:"blockList"},{default:Xe(()=>[(h(!0),y(re,null,ve(s.descriptionBlocks[r.lang],(t,a)=>(h(),y("div",{key:t._key,class:"card p-3 mb-2 description-preview-block",ref_for:!0,ref:a===s.descriptionBlocks[r.lang].length-1?"lastBlock":null},[t.type==="text"?(h(),y("div",Ii,[o("div",Pi,T(t.title),1),o("div",Ti,T(t.text),1)])):$("",!0),t.type==="image_right"?(h(),y("div",Ai,[o("div",Di,[o("div",$i,T(t.title),1),o("div",Vi,T(t.text),1)]),o("div",Ui,[t.imageUrl?(h(),y("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,Mi)):$("",!0)])])):$("",!0),t.type==="image_left"?(h(),y("div",ji,[o("div",Li,[t.imageUrl?(h(),y("img",{key:0,src:t.imageUrl,alt:"",class:"desc-cols-img"},null,8,Bi)):$("",!0)]),o("div",Fi,[o("div",Ri,T(t.title),1),o("div",Ni,T(t.text),1)])])):$("",!0),t.type==="two_images"?(h(),y("div",Gi,[o("div",zi,[t.imageUrl1?(h(),y("img",{key:0,src:t.imageUrl1,alt:"",class:"desc-cols-img"},null,8,Ki)):$("",!0)]),o("div",Hi,[t.imageUrl2?(h(),y("img",{key:0,src:t.imageUrl2,alt:"",class:"desc-cols-img"},null,8,_i)):$("",!0)])])):$("",!0),o("div",Wi,[o("button",{class:"btn btn-outline-secondary btn-sm me-1",onClick:l=>s.editBlock(a)}," Редагувати ",8,Xi),o("button",{class:"btn btn-outline-danger btn-sm",onClick:l=>s.deleteBlock(a)},e[16]||(e[16]=[o("i",{class:"bi bi-trash"},null,-1)]),8,Yi)])]))),128))]),_:1},512)])}const Qi=le(No,[["render",Ji],["__scopeId","data-v-2bbe8ab4"]]),Zi={class:"card mb-4 p-4"},qi={class:"mb-3"},es={key:0,class:"invalid-feedback"},ts={class:"mb-3"},rs={class:"mb-3"},ns={key:0,class:"invalid-feedback"},os={class:"mb-3"},is={class:"mb-3"},ss={key:0,class:"invalid-feedback"},ls={class:"form-check form-switch mb-2"},as={class:"form-check form-switch"},ds={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(n){return(e,i)=>{var d,r,s,t,a,l;return h(),y("div",Zi,[o("div",qi,[i[7]||(i[7]=o("label",{class:"form-label"},"Ціна",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(d=n.errors)==null?void 0:d.price}]),"onUpdate:modelValue":i[0]||(i[0]=u=>n.form.price=u),placeholder:"Ціна"},null,2),[[L,n.form.price]]),(r=n.errors)!=null&&r.price?(h(),y("div",es,T(n.errors.price),1)):$("",!0)]),o("div",ts,[i[8]||(i[8]=o("label",{class:"form-label"},"Стара ціна",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[1]||(i[1]=u=>n.form.old_price=u)},null,512),[[L,n.form.old_price]])]),o("div",rs,[i[9]||(i[9]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(s=n.errors)==null?void 0:s.sku}]),"onUpdate:modelValue":i[2]||(i[2]=u=>n.form.sku=u)},null,2),[[L,n.form.sku]]),(t=n.errors)!=null&&t.sku?(h(),y("div",ns,T(n.errors.sku),1)):$("",!0)]),o("div",os,[i[10]||(i[10]=o("label",{class:"form-label"},"Штрихкод",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":i[3]||(i[3]=u=>n.form.barcode=u)},null,512),[[L,n.form.barcode]])]),o("div",is,[i[11]||(i[11]=o("label",{class:"form-label"},"Кількість",-1)),U(o("input",{type:"number",class:Y(["form-control",{"is-invalid":(a=n.errors)==null?void 0:a.quantity_in_stock}]),"onUpdate:modelValue":i[4]||(i[4]=u=>n.form.quantity_in_stock=u)},null,2),[[L,n.form.quantity_in_stock]]),(l=n.errors)!=null&&l.quantity_in_stock?(h(),y("div",ss,T(n.errors.quantity_in_stock),1)):$("",!0)]),o("div",ls,[U(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":i[5]||(i[5]=u=>n.form.is_available=u)},null,512),[[tr,n.form.is_available]]),i[12]||(i[12]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))]),o("div",as,[U(o("input",{class:"form-check-input",type:"checkbox",id:"popularSwitch","onUpdate:modelValue":i[6]||(i[6]=u=>n.form.is_popular=u)},null,512),[[tr,n.form.is_popular]]),i[13]||(i[13]=o("label",{class:"form-check-label",for:"popularSwitch"},"Популярне",-1))])])}}};function Fr(n){return n===0?!1:Array.isArray(n)&&n.length===0?!0:!n}function us(n){return(...e)=>!n(...e)}function cs(n,e){return n===void 0&&(n="undefined"),n===null&&(n="null"),n===!1&&(n="false"),n.toString().toLowerCase().indexOf(e.trim())!==-1}function fs(n){return n.filter(e=>!e.$isLabel)}function Rr(n,e){return i=>i.reduce((d,r)=>r[n]&&r[n].length?(d.push({$groupLabel:r[e],$isLabel:!0}),d.concat(r[n])):d,[])}const cn=(...n)=>e=>n.reduce((i,d)=>d(i),e);var ms={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(n,e){return Fr(n)?"":e?n[e]:n}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},preventAutofocus:{type:Boolean,default:!1},filteringSortFunc:{type:Function,default:null}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue(){return this.modelValue||this.modelValue===0?Array.isArray(this.modelValue)?this.modelValue:[this.modelValue]:[]},filteredOptions(){const n=this.search||"",e=n.toLowerCase().trim();let i=this.options.concat();return this.internalSearch?i=this.groupValues?this.filterAndFlat(i,e,this.label):this.filterOptions(i,e,this.label,this.customLabel):i=this.groupValues?Rr(this.groupValues,this.groupLabel)(i):i,i=this.hideSelected?i.filter(us(this.isSelected)):i,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?i.push({isTag:!0,label:n}):i.unshift({isTag:!0,label:n})),i.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(n=>n[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:{handler(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("update:modelValue",this.multiple?[]:null))},deep:!0},search(){this.$emit("search-change",this.search)}},emits:["open","search-change","close","select","update:modelValue","remove","tag"],methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(n,e,i){return cn(this.filterGroups(e,i,this.groupValues,this.groupLabel,this.customLabel),Rr(this.groupValues,this.groupLabel))(n)},flatAndStrip(n){return cn(Rr(this.groupValues,this.groupLabel),fs)(n)},updateSearch(n){this.search=n},isExistingOption(n){return this.options?this.optionKeys.indexOf(n)>-1:!1},isSelected(n){const e=this.trackBy?n[this.trackBy]:n;return this.valueKeys.indexOf(e)>-1},isOptionDisabled(n){return!!n.$isDisabled},getOptionLabel(n){if(Fr(n))return"";if(n.isTag)return n.label;if(n.$isLabel)return n.$groupLabel;const e=this.customLabel(n,this.label);return Fr(e)?"":e},select(n,e){if(n.$isLabel&&this.groupSelect){this.selectGroup(n);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||n.$isDisabled||n.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(n.isTag)this.$emit("tag",n.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(n)){e!=="Tab"&&this.removeElement(n);return}this.multiple?this.$emit("update:modelValue",this.internalValue.concat([n])):this.$emit("update:modelValue",n),this.$emit("select",n,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(n){const e=this.options.find(i=>i[this.groupLabel]===n.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const i=this.trackBy?e[this.groupValues].map(r=>r[this.trackBy]):e[this.groupValues],d=this.internalValue.filter(r=>i.indexOf(this.trackBy?r[this.trackBy]:r)===-1);this.$emit("update:modelValue",d)}else{const i=e[this.groupValues].filter(d=>!(this.isOptionDisabled(d)||this.isSelected(d)));this.max&&i.splice(this.max-this.internalValue.length),this.$emit("select",i,this.id),this.$emit("update:modelValue",this.internalValue.concat(i))}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(n){return n[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(n){return n[this.groupValues].every(this.isOptionDisabled)},removeElement(n,e=!0){if(this.disabled||n.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const i=typeof n=="object"?this.valueKeys.indexOf(n[this.trackBy]):this.valueKeys.indexOf(n);if(this.multiple){const d=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("update:modelValue",d)}else this.$emit("update:modelValue",null);this.$emit("remove",n,this.id),this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.preventAutofocus||this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.preventAutofocus||typeof this.$el<"u"&&this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search!==null&&typeof this.$refs.search<"u"&&this.$refs.search.blur():typeof this.$el<"u"&&this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const n=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>n||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(n-40,this.maxHeight))},filterOptions(n,e,i,d){return e?n.filter(r=>cs(d(r,i),e)).sort((r,s)=>typeof this.filteringSortFunc=="function"?this.filteringSortFunc(r,s):d(r,i).length-d(s,i).length):n},filterGroups(n,e,i,d,r){return s=>s.map(t=>{if(!t[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const a=this.filterOptions(t[i],n,e,r);return a.length?{[d]:t[d],[i]:a}:[]})}}},ps={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant",this.id+"-"+this.pointer.toString())}},methods:{optionHighlight(n,e){return{"multiselect__option--highlight":n===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(n,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const i=this.options.find(d=>d[this.groupLabel]===e.$groupLabel);return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":n===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement({key:n}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],n),this.pointerReset()},pointerForward(){var n;this.pointer<this.filteredOptions.length-1&&(this.pointer++,((n=this.$refs.list)==null?void 0:n.scrollTop)<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){var n;this.pointer>0?(this.pointer--,((n=this.$refs.list)==null?void 0:n.scrollTop)>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(n){this.pointer=n,this.pointerDirty=!0}}},Vt={name:"vue-multiselect",mixins:[ms,ps],compatConfig:{MODE:3,ATTR_ENUMERATED_COERCION:!1},props:{name:{type:String,default:""},modelValue:{type:null,default(){return[]}},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:n=>`and ${n} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1},useTeleport:{type:Boolean,default:!1}},data(){return{dropdownStyles:{},ready:!1}},computed:{hasOptionGroup(){return this.groupValues&&this.groupLabel&&this.groupSelect},isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.modelValue&&this.modelValue.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)},isRequired(){return this.required===!1?!1:this.internalValue.length<=0}},watch:{isOpen(n){n&&(this.useTeleport?(this.ready=!1,this.$nextTick(()=>{const e=this.$el.getBoundingClientRect();this.dropdownStyles={position:"absolute",top:`${e.bottom+window.scrollY}px`,left:`${e.left+window.scrollX}px`,width:`${e.width}px`,zIndex:9999},this.ready=!0})):this.ready=!0)}}};const vs=["tabindex","aria-expanded","aria-owns","aria-activedescendant"],gs={ref:"tags",class:"multiselect__tags"},hs={class:"multiselect__tags-wrap"},bs=["textContent"],ys=["onKeypress","onMousedown"],xs=["textContent"],Ss={class:"multiselect__spinner"},ws=["name","id","spellcheck","placeholder","required","value","disabled","tabindex","aria-label","aria-controls"],Es=["id","aria-multiselectable"],Os={key:0},ks={class:"multiselect__option"},Cs=["aria-selected","id","role"],Is=["onClick","onMouseenter","data-select","data-selected","data-deselect"],Ps=["data-select","data-deselect","onMouseenter","onMousedown"],Ts={class:"multiselect__option"},As={class:"multiselect__option"};function Ds(n,e,i,d,r,s){return h(),y("div",{tabindex:n.searchable?-1:i.tabindex,class:Y([{"multiselect--active":n.isOpen,"multiselect--disabled":i.disabled,"multiselect--above":s.isAbove,"multiselect--has-options-group":s.hasOptionGroup},"multiselect"]),onFocus:e[14]||(e[14]=t=>n.activate()),onBlur:e[15]||(e[15]=t=>n.searchable?!1:n.deactivate()),onKeydown:[e[16]||(e[16]=Ke(oe(t=>n.pointerForward(),["self","prevent"]),["down"])),e[17]||(e[17]=Ke(oe(t=>n.pointerBackward(),["self","prevent"]),["up"]))],onKeypress:e[18]||(e[18]=Ke(oe(t=>n.addPointerElement(t),["stop","self"]),["enter","tab"])),onKeyup:e[19]||(e[19]=Ke(t=>n.deactivate(),["esc"])),role:"combobox","aria-expanded":n.isOpen,"aria-owns":"listbox-"+n.id,"aria-activedescendant":n.isOpen&&n.pointer!==null?n.id+"-"+n.pointer:null},[Ge(n.$slots,"caret",{toggle:n.toggle},()=>[o("div",{onMousedown:e[0]||(e[0]=oe(t=>n.toggle(),["prevent","stop"])),class:"multiselect__select"},null,32)]),Ge(n.$slots,"clear",{search:n.search}),o("div",gs,[Ge(n.$slots,"selection",{search:n.search,remove:n.removeElement,values:s.visibleValues,isOpen:n.isOpen},()=>[U(o("div",hs,[(h(!0),y(re,null,ve(s.visibleValues,(t,a)=>Ge(n.$slots,"tag",{option:t,search:n.search,remove:n.removeElement},()=>[(h(),y("span",{class:"multiselect__tag",key:a,onMousedown:e[1]||(e[1]=oe(()=>{},["prevent"]))},[o("span",{textContent:T(n.getOptionLabel(t))},null,8,bs),o("i",{tabindex:"1",onKeypress:Ke(oe(l=>n.removeElement(t),["prevent"]),["enter"]),onMousedown:oe(l=>n.removeElement(t),["prevent"]),class:"multiselect__tag-icon"},null,40,ys)],32))])),256))],512),[[sr,s.visibleValues.length>0]]),n.internalValue&&n.internalValue.length>i.limit?Ge(n.$slots,"limit",{key:0},()=>[o("strong",{class:"multiselect__strong",textContent:T(i.limitText(n.internalValue.length-i.limit))},null,8,xs)]):$("v-if",!0)]),Q(Zr,{name:"multiselect__loading"},{default:Xe(()=>[Ge(n.$slots,"loading",{},()=>[U(o("div",Ss,null,512),[[sr,i.loading]])])]),_:3}),n.searchable?(h(),y("input",{key:0,ref:"search",name:i.name,id:n.id,type:"text",autocomplete:"off",spellcheck:i.spellcheck,placeholder:n.placeholder,required:s.isRequired,style:Pr(s.inputStyle),value:n.search,disabled:i.disabled,tabindex:i.tabindex,"aria-label":i.name+"-searchbox",onInput:e[2]||(e[2]=t=>n.updateSearch(t.target.value)),onFocus:e[3]||(e[3]=oe(t=>n.activate(),["prevent"])),onBlur:e[4]||(e[4]=oe(t=>n.deactivate(),["prevent"])),onKeyup:e[5]||(e[5]=Ke(t=>n.deactivate(),["esc"])),onKeydown:[e[6]||(e[6]=Ke(oe(t=>n.pointerForward(),["prevent"]),["down"])),e[7]||(e[7]=Ke(oe(t=>n.pointerBackward(),["prevent"]),["up"])),e[9]||(e[9]=Ke(oe(t=>n.removeLastElement(),["stop"]),["delete"]))],onKeypress:e[8]||(e[8]=Ke(oe(t=>n.addPointerElement(t),["prevent","stop","self"]),["enter"])),class:"multiselect__input","aria-controls":"listbox-"+n.id},null,44,ws)):$("v-if",!0),s.isSingleLabelVisible?(h(),y("span",{key:1,class:"multiselect__single",onMousedown:e[10]||(e[10]=oe((...t)=>n.toggle&&n.toggle(...t),["prevent"]))},[Ge(n.$slots,"singleLabel",{option:s.singleValue},()=>[pe(T(n.currentOptionLabel),1)])],32)):$("v-if",!0),s.isPlaceholderVisible?(h(),y("span",{key:2,class:"multiselect__placeholder",onMousedown:e[11]||(e[11]=oe((...t)=>n.toggle&&n.toggle(...t),["prevent"]))},[Ge(n.$slots,"placeholder",{},()=>[pe(T(n.placeholder),1)])],32)):$("v-if",!0)],512),(h(),Cn(In,{to:"body",disabled:!i.useTeleport},[Q(Zr,{name:"multiselect"},{default:Xe(()=>[n.isOpen&&r.ready?(h(),y("div",{key:0,class:"multiselect__content-wrapper",onFocus:e[12]||(e[12]=(...t)=>n.activate&&n.activate(...t)),tabindex:"-1",onMousedown:e[13]||(e[13]=oe(()=>{},["prevent"])),style:Pr([r.dropdownStyles,{maxHeight:n.optimizedHeight+"px"}]),ref:"list"},[o("ul",{class:"multiselect__content",style:Pr(s.contentStyle),role:"listbox",id:"listbox-"+n.id,"aria-multiselectable":n.multiple},[Ge(n.$slots,"beforeList"),n.multiple&&n.max===n.internalValue.length?(h(),y("li",Os,[o("span",ks,[Ge(n.$slots,"maxElements",{},()=>[pe("Maximum of "+T(n.max)+" options selected. First remove a selected option to select another.",1)])])])):$("v-if",!0),!n.max||n.internalValue.length<n.max?(h(!0),y(re,{key:1},ve(n.filteredOptions,(t,a)=>(h(),y("li",{class:"multiselect__element",key:a,"aria-selected":n.isSelected(t),id:n.id+"-"+a,role:t&&(t.$isLabel||t.$isDisabled)?null:"option"},[t&&(t.$isLabel||t.$isDisabled)?$("v-if",!0):(h(),y("span",{key:0,class:Y([n.optionHighlight(a,t),"multiselect__option"]),onClick:oe(l=>n.select(t),["stop"]),onMouseenter:oe(l=>n.pointerSet(a),["self"]),"data-select":t&&t.isTag?n.tagPlaceholder:s.selectLabelText,"data-selected":s.selectedLabelText,"data-deselect":s.deselectLabelText},[Ge(n.$slots,"option",{option:t,search:n.search,index:a},()=>[o("span",null,T(n.getOptionLabel(t)),1)])],42,Is)),t&&(t.$isLabel||t.$isDisabled)?(h(),y("span",{key:1,"data-select":n.groupSelect&&s.selectGroupLabelText,"data-deselect":n.groupSelect&&s.deselectGroupLabelText,class:Y([n.groupHighlight(a,t),"multiselect__option"]),onMouseenter:oe(l=>n.groupSelect&&n.pointerSet(a),["self"]),onMousedown:oe(l=>n.selectGroup(t),["prevent"])},[Ge(n.$slots,"option",{option:t,search:n.search,index:a},()=>[o("span",null,T(n.getOptionLabel(t)),1)])],42,Ps)):$("v-if",!0)],8,Cs))),128)):$("v-if",!0),U(o("li",null,[o("span",Ts,[Ge(n.$slots,"noResult",{search:n.search},()=>[e[20]||(e[20]=pe("No elements found. Consider changing the search query."))])])],512),[[sr,i.showNoResults&&n.filteredOptions.length===0&&n.search&&!i.loading]]),U(o("li",null,[o("span",As,[Ge(n.$slots,"noOptions",{},()=>[e[21]||(e[21]=pe("List is empty."))])])],512),[[sr,i.showNoOptions&&(n.options.length===0||s.hasOptionGroup===!0&&n.filteredOptions.length===0)&&!n.search&&!i.loading]]),Ge(n.$slots,"afterList")],12,Es)],36)):$("v-if",!0)]),_:3})],8,["disabled"]))],42,vs)}Vt.render=Ds;const $s={name:"ProductCategory",components:{Multiselect:Vt},props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{options:[],localSelected:[]}},computed:{hasError(){var n;return!!((n=this.errors)!=null&&n.categories)},errorText(){var n;return((n=this.errors)==null?void 0:n.categories)||""}},watch:{modelValue:{immediate:!0,handler(n){JSON.stringify(n)!==JSON.stringify(this.localSelected)&&(this.localSelected=Array.isArray(n)?[...n]:[])}},localSelected(n){JSON.stringify(n)!==JSON.stringify(this.modelValue)&&this.$emit("update:modelValue",n)}},mounted(){this.fetchCategories()},methods:{async fetchCategories(){try{const n=await Pe.get("/api/category-select/uk");this.options=n.data}catch(n){console.error("Не вдалося отримати категорії",n)}}}},Vs={class:"card mb-4 p-4"},Us={key:0,class:"invalid-feedback",style:{display:"block"}},Ms={key:1,class:"mt-2"};function js(n,e,i,d,r,s){const t=de("Multiselect");return h(),y("div",Vs,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Q(t,{modelValue:r.localSelected,"onUpdate:modelValue":e[0]||(e[0]=a=>r.localSelected=a),options:r.options,multiple:!0,placeholder:"Виберіть категорії",label:"name","track-by":"id",class:Y(["mb-2",{"is-invalid":s.hasError}])},null,8,["modelValue","options","class"]),s.hasError?(h(),y("div",Us,T(s.errorText),1)):$("",!0),r.localSelected.length?(h(),y("div",Ms,[(h(!0),y(re,null,ve(r.localSelected,a=>(h(),y("span",{key:a.id,class:"badge bg-primary me-1"},T(a.name),1))),128))])):$("",!0)])}const Ls=le($s,[["render",js],["__scopeId","data-v-cadacbff"]]),Bs={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(n=>String(n.id)===String(this.internalSelectedId))},ukTableRows(){const n=this.selectedGuide;return!n||!n.sizes||!n.sizes.uk?[]:Array.isArray(n.sizes.uk)?n.sizes.uk:Object.entries(n.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(n){this.internalSelectedId=n},internalSelectedId(n){this.$emit("update:modelValue",n)}},created(){Pe.get("/admin/size-guides").then(n=>{this.sizeGuides=n.data}).catch(n=>{console.error("Error fetching size guides:",n)})}},Fs={class:"card mb-4 p-4"},Rs={class:"mb-3"},Ns=["value"],Gs={key:0,class:"invalid-feedback",style:{display:"block"}},zs={key:0,class:"mt-3"},Ks={class:"form-label"},Hs={key:0},_s={class:"table table-sm mt-2"},Ws={key:1};function Xs(n,e,i,d,r,s){var t,a;return h(),y("div",Fs,[o("div",Rs,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),U(o("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.internalSelectedId=l),class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(h(!0),y(re,null,ve(r.sizeGuides,l=>(h(),y("option",{value:l.id,key:l.id},T(l.name),9,Ns))),128))],2),[[Et,r.internalSelectedId]]),(a=i.errors)!=null&&a.size_guide_id?(h(),y("div",Gs,T(i.errors.size_guide_id),1)):$("",!0)]),s.selectedGuide?(h(),y("div",zs,[o("label",Ks,"Розмірна сітка: "+T(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(h(),y("div",Hs,[o("table",_s,[o("thead",null,[o("tr",null,[(h(!0),y(re,null,ve(s.ukTableColumns,l=>(h(),y("th",{key:l},T(l),1))),128))])]),o("tbody",null,[(h(!0),y(re,null,ve(s.ukTableRows,(l,u)=>(h(),y("tr",{key:u},[(h(!0),y(re,null,ve(s.ukTableColumns,c=>(h(),y("td",{key:c},T(l[c]||"-"),1))),128))]))),128))])])])):(h(),y("div",Ws,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):$("",!0)])}const Ys=le(Bs,[["render",Xs]]),Js={class:"card mb-4 p-4"},Qs={class:"fw-bold mb-3 d-flex align-items-center gap-2"},Zs={key:0,class:"badge bg-secondary"},qs={class:"row g-3 align-items-start"},el={class:"col-md-5"},tl={class:"variant-form shadow-sm rounded-3 p-3 mb-3 bg-light"},rl={class:"mb-2"},nl=["onKeydown"],ol={id:"sizeOptions"},il=["value"],sl={class:"mb-2"},ll=["onKeydown"],al={id:"colorOptions"},dl=["value"],ul={class:"mb-2"},cl={class:"input-group"},fl=["onKeydown"],ml={class:"input-group-text"},pl={class:"mb-2"},vl={class:"input-group"},gl=["onKeydown"],hl={class:"input-group-text"},bl={class:"mb-3"},yl=["onKeydown"],xl={key:0,class:"small text-danger mb-2"},Sl={class:"d-grid gap-2"},wl=["disabled"],El={key:1,class:"d-grid gap-2"},Ol=["disabled"],kl={class:"col-md-7"},Cl={class:"variant-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Il={class:"w-100"},Pl={class:"row gy-2 gx-3 align-items-center"},Tl={class:"col-6 col-lg-4"},Al={class:"value d-flex align-items-center gap-2"},Dl={class:"mb-0"},$l={class:"col-6 col-lg-4"},Vl={class:"value price"},Ul={class:"mb-0"},Ml={key:0,class:"text-muted ms-2 text-decoration-line-through"},jl={class:"col-6 col-lg-4"},Ll={class:"value d-flex align-items-center gap-2"},Bl={class:"mb-0"},Fl={key:0,class:"badge bg-danger"},Rl={key:1,class:"badge bg-warning text-dark"},Nl={class:"col-6 col-lg-4"},Gl={class:"value"},zl={class:"mb-0"},Kl={class:"variant-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},Hl=["onClick"],_l=["onClick"],Wl={key:0,class:"text-muted mt-4 ms-2"},Xl={class:"d-flex justify-content-end small text-muted px-1"},Yl={class:"ms-1 fw-semibold"},Jl={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]},currency:{type:String,default:"грн"},sizePresets:{type:Array,default:()=>["35-36","36-37","37-38","38-39","40-41"]},colorPresets:{type:Array,default:()=>["Чорний","Білий","Бежевий","Сірий","Червоний","Синій"]}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ot({size:"",color:"",price_override:null,old_price:null,quantity:null}),s=Ae(i.modelValue.map((E,x)=>({...E,_id:x+1})));let t=s.value.length;const a=Ae(null),l=Ae(""),u=Kt(()=>i.sizePresets),c=Kt(()=>i.colorPresets);lt(s,E=>{d("update:modelValue",E.map(({_id:x,...P})=>P))},{deep:!0});const f=Kt(()=>!!(r.size&&r.price_override!==null&&r.price_override>=0&&r.quantity!==null&&r.quantity>=0)),p=Kt(()=>s.value.reduce((E,x)=>E+(Number(x.quantity)||0),0));function v(E){const x=Number(E);return Number.isNaN(x)?E:new Intl.NumberFormat("uk-UA").format(x)+" "+i.currency}function m(){r.size="",r.color="",r.price_override=null,r.old_price=null,r.quantity=null,l.value=""}function g(E,x,P=null){const k=(E||"").toLowerCase()+"|"+(x||"").toLowerCase();return s.value.some((j,B)=>(j.size||"").toLowerCase()+"|"+(j.color||"").toLowerCase()===k&&B!==P)}function b(){if(l.value="",!f.value){l.value="Заповніть обовʼязкові поля (розмір, ціна, кількість).";return}if(g(r.size,r.color)){l.value="Такий варіант уже існує (комбінація розмір + колір).";return}s.value.push({_id:++t,size:r.size,color:r.color,price_override:Number(r.price_override),old_price:r.old_price!==null&&r.old_price!==""?Number(r.old_price):null,quantity:Number(r.quantity)}),m()}function S(E){a.value=E;const x=s.value[E];r.size=x.size,r.color=x.color,r.price_override=x.price_override,r.old_price=x.old_price,r.quantity=x.quantity,l.value=""}function O(){if(a.value!==null){if(!f.value){l.value="Заповніть обовʼязкові поля.";return}if(g(r.size,r.color,a.value)){l.value="Комбінація розмір + колір уже існує.";return}s.value[a.value]={...s.value[a.value],size:r.size,color:r.color,price_override:Number(r.price_override),old_price:r.old_price!==null&&r.old_price!==""?Number(r.old_price):null,quantity:Number(r.quantity)},a.value=null,m()}}function V(){a.value=null,m()}function A(E){confirm("Видалити цей варіант?")&&w(E)}function w(E){s.value.splice(E,1),a.value===E&&(a.value=null,m())}return(E,x)=>(h(),y("div",Js,[o("h5",Qs,[x[5]||(x[5]=pe(" Варіанти товару ",-1)),s.value.length?(h(),y("span",Zs,T(s.value.length),1)):$("",!0)]),o("div",qs,[o("div",el,[o("div",tl,[o("div",rl,[x[6]||(x[6]=o("label",{class:"form-label mb-1"},"Розмір",-1)),U(o("input",{"onUpdate:modelValue":x[0]||(x[0]=P=>r.size=P),onKeydown:Ke(oe(b,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"36-37",list:"sizeOptions"},null,40,nl),[[L,r.size,void 0,{trim:!0}]]),o("datalist",ol,[(h(!0),y(re,null,ve(u.value,P=>(h(),y("option",{key:P,value:P},null,8,il))),128))])]),o("div",sl,[x[7]||(x[7]=o("label",{class:"form-label mb-1"},"Колір",-1)),U(o("input",{"onUpdate:modelValue":x[1]||(x[1]=P=>r.color=P),onKeydown:Ke(oe(b,["prevent"]),["enter"]),type:"text",class:"form-control",placeholder:"Колір (наприклад, Чорний)",list:"colorOptions"},null,40,ll),[[L,r.color,void 0,{trim:!0}]]),o("datalist",al,[(h(!0),y(re,null,ve(c.value,P=>(h(),y("option",{key:P,value:P},null,8,dl))),128))])]),o("div",ul,[x[8]||(x[8]=o("label",{class:"form-label mb-1"},"Ціна",-1)),o("div",cl,[U(o("input",{"onUpdate:modelValue":x[2]||(x[2]=P=>r.price_override=P),onKeydown:Ke(oe(b,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Ціна"},null,40,fl),[[L,r.price_override,void 0,{number:!0}]]),o("span",ml,T(n.currency),1)])]),o("div",pl,[x[9]||(x[9]=o("label",{class:"form-label mb-1"},"Стара ціна (необов’язково)",-1)),o("div",vl,[U(o("input",{"onUpdate:modelValue":x[3]||(x[3]=P=>r.old_price=P),onKeydown:Ke(oe(b,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Стара ціна"},null,40,gl),[[L,r.old_price,void 0,{number:!0}]]),o("span",hl,T(n.currency),1)])]),o("div",bl,[x[10]||(x[10]=o("label",{class:"form-label mb-1"},"Кількість",-1)),U(o("input",{"onUpdate:modelValue":x[4]||(x[4]=P=>r.quantity=P),onKeydown:Ke(oe(b,["prevent"]),["enter"]),type:"number",min:"0",step:"1",class:"form-control",placeholder:"Кількість"},null,40,yl),[[L,r.quantity,void 0,{number:!0}]])]),l.value?(h(),y("div",xl,[x[11]||(x[11]=o("i",{class:"bi bi-exclamation-triangle me-1"},null,-1)),pe(T(l.value),1)])):$("",!0),o("div",Sl,[a.value===null?(h(),y("button",{key:0,class:"btn btn-primary d-flex align-items-center justify-content-center gap-2",disabled:!f.value,onClick:b},x[12]||(x[12]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати варіант ",-1)]),8,wl)):(h(),y("div",El,[o("button",{class:"btn btn-success d-flex align-items-center justify-content-center gap-2",disabled:!f.value,onClick:O},x[13]||(x[13]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)]),8,Ol),o("button",{class:"btn btn-outline-secondary",onClick:V},"Скасувати")]))])])]),o("div",kl,[o("div",Cl,[Q(_r,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-0"},{default:Xe(()=>[(h(!0),y(re,null,ve(s.value,(P,k)=>(h(),y("div",{key:P._id,class:"variant-card shadow-sm rounded-4 px-3 py-3 bg-white d-flex align-items-center position-relative"},[o("div",Il,[o("div",Pl,[o("div",Tl,[x[14]||(x[14]=o("div",{class:"label"},"Розмір",-1)),o("div",Al,[o("h6",Dl,T(P.size),1)])]),o("div",$l,[x[15]||(x[15]=o("div",{class:"label"},"Ціна",-1)),o("div",Vl,[o("h6",Ul,T(v(P.price_override)),1),P.old_price?(h(),y("small",Ml,T(v(P.old_price)),1)):$("",!0)])]),o("div",jl,[x[16]||(x[16]=o("div",{class:"label"},"Кількість",-1)),o("div",Ll,[o("h6",Bl,T(P.quantity)+" шт",1),P.quantity===0?(h(),y("span",Fl,"Немає")):P.quantity>0&&P.quantity<5?(h(),y("span",Rl,"Мало")):$("",!0)])]),o("div",Nl,[x[17]||(x[17]=o("div",{class:"label"},"Колір",-1)),o("div",Gl,[o("h6",zl,T(P.color||"—"),1)])])])]),o("div",Kl,[o("button",{class:"btn-action btn-edit",title:"Редагувати",onClick:j=>S(k)},x[18]||(x[18]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,Hl),o("button",{class:"btn-action btn-remove",title:"Видалити",onClick:j=>A(k)},x[19]||(x[19]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,_l)])]))),128))]),_:1}),s.value.length?$("",!0):(h(),y("div",Wl,"Ще не додано жодного варіанта"))]),o("div",Xl,[x[20]||(x[20]=pe(" Загалом: ",-1)),o("span",Yl,T(p.value),1),x[21]||(x[21]=pe(" шт ",-1))])])])]))}},Ql=le(Jl,[["__scopeId","data-v-20369826"]]);function Zl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function On(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function d(){return this instanceof d?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(d){var r=Object.getOwnPropertyDescriptor(n,d);Object.defineProperty(i,d,r.get?r:{enumerable:!0,get:function(){return n[d]}})}),i}var br={exports:{}};const ql=On(Pn),ea=On($o);var ta=br.exports,fn;function ra(){return fn||(fn=1,function(n,e){(function(d,r){n.exports=r(ql,ea)})(typeof self<"u"?self:ta,function(i,d){return function(r){var s={};function t(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return r[a].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=r,t.c=s,t.d=function(a,l,u){t.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},t.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},t.t=function(a,l){if(l&1&&(a=t(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)t.d(u,c,(function(f){return a[f]}).bind(null,c));return u},t.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(l,"a",l),l},t.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},t.p="",t(t.s="fb15")}({"00ee":function(r,s,t){var a=t("b622"),l=a("toStringTag"),u={};u[l]="z",r.exports=String(u)==="[object z]"},"0366":function(r,s,t){var a=t("1c0b");r.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(f){return l.call(u,f)};case 2:return function(f,p){return l.call(u,f,p)};case 3:return function(f,p,v){return l.call(u,f,p,v)}}return function(){return l.apply(u,arguments)}}},"057f":function(r,s,t){var a=t("fc6a"),l=t("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(p){try{return l(p)}catch{return c.slice()}};r.exports.f=function(v){return c&&u.call(v)=="[object Window]"?f(v):l(a(v))}},"06cf":function(r,s,t){var a=t("83ab"),l=t("d1e7"),u=t("5c6c"),c=t("fc6a"),f=t("c04e"),p=t("5135"),v=t("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=a?m:function(b,S){if(b=c(b),S=f(S,!0),v)try{return m(b,S)}catch{}if(p(b,S))return u(!l.f.call(b,S),b[S])}},"0cfb":function(r,s,t){var a=t("83ab"),l=t("d039"),u=t("cc12");r.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(r,s,t){var a=t("23e7"),l=t("d58f").left,u=t("a640"),c=t("ae40"),f=u("reduce"),p=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!f||!p},{reduce:function(m){return l(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(r,s,t){var a=t("c6b6"),l=t("9263");r.exports=function(u,c){var f=u.exec;if(typeof f=="function"){var p=f.call(u,c);if(typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(r,s,t){var a=t("da84"),l=t("fdbc"),u=t("17c2"),c=t("9112");for(var f in l){var p=a[f],v=p&&p.prototype;if(v&&v.forEach!==u)try{c(v,"forEach",u)}catch{v.forEach=u}}},"17c2":function(r,s,t){var a=t("b727").forEach,l=t("a640"),u=t("ae40"),c=l("forEach"),f=u("forEach");r.exports=!c||!f?function(v){return a(this,v,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(r,s,t){var a=t("d066");r.exports=a("document","documentElement")},"1c0b":function(r,s){r.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(r,s,t){var a=t("b622"),l=a("iterator"),u=!1;try{var c=0,f={next:function(){return{done:!!c++}},return:function(){u=!0}};f[l]=function(){return this},Array.from(f,function(){throw 2})}catch{}r.exports=function(p,v){if(!v&&!u)return!1;var m=!1;try{var g={};g[l]=function(){return{next:function(){return{done:m=!0}}}},p(g)}catch{}return m}},"1d80":function(r,s){r.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(r,s,t){var a=t("d039"),l=t("b622"),u=t("2d00"),c=l("species");r.exports=function(f){return u>=51||!a(function(){var p=[],v=p.constructor={};return v[c]=function(){return{foo:1}},p[f](Boolean).foo!==1})}},"23cb":function(r,s,t){var a=t("a691"),l=Math.max,u=Math.min;r.exports=function(c,f){var p=a(c);return p<0?l(p+f,0):u(p,f)}},"23e7":function(r,s,t){var a=t("da84"),l=t("06cf").f,u=t("9112"),c=t("6eeb"),f=t("ce4e"),p=t("e893"),v=t("94ca");r.exports=function(m,g){var b=m.target,S=m.global,O=m.stat,V,A,w,E,x,P;if(S?A=a:O?A=a[b]||f(b,{}):A=(a[b]||{}).prototype,A)for(w in g){if(x=g[w],m.noTargetGet?(P=l(A,w),E=P&&P.value):E=A[w],V=v(S?w:b+(O?".":"#")+w,m.forced),!V&&E!==void 0){if(typeof x==typeof E)continue;p(x,E)}(m.sham||E&&E.sham)&&u(x,"sham",!0),c(A,w,x,m)}}},"241c":function(r,s,t){var a=t("ca84"),l=t("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(f){return a(f,u)}},"25f0":function(r,s,t){var a=t("6eeb"),l=t("825a"),u=t("d039"),c=t("ad6d"),f="toString",p=RegExp.prototype,v=p[f],m=u(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),g=v.name!=f;(m||g)&&a(RegExp.prototype,f,function(){var S=l(this),O=String(S.source),V=S.flags,A=String(V===void 0&&S instanceof RegExp&&!("flags"in p)?c.call(S):V);return"/"+O+"/"+A},{unsafe:!0})},"2ca0":function(r,s,t){var a=t("23e7"),l=t("06cf").f,u=t("50c4"),c=t("5a34"),f=t("1d80"),p=t("ab13"),v=t("c430"),m="".startsWith,g=Math.min,b=p("startsWith"),S=!v&&!b&&!!function(){var O=l(String.prototype,"startsWith");return O&&!O.writable}();a({target:"String",proto:!0,forced:!S&&!b},{startsWith:function(V){var A=String(f(this));c(V);var w=u(g(arguments.length>1?arguments[1]:void 0,A.length)),E=String(V);return m?m.call(A,E,w):A.slice(w,w+E.length)===E}})},"2d00":function(r,s,t){var a=t("da84"),l=t("342f"),u=a.process,c=u&&u.versions,f=c&&c.v8,p,v;f?(p=f.split("."),v=p[0]+p[1]):l&&(p=l.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=l.match(/Chrome\/(\d+)/),p&&(v=p[1]))),r.exports=v&&+v},"342f":function(r,s,t){var a=t("d066");r.exports=a("navigator","userAgent")||""},"35a1":function(r,s,t){var a=t("f5df"),l=t("3f8c"),u=t("b622"),c=u("iterator");r.exports=function(f){if(f!=null)return f[c]||f["@@iterator"]||l[a(f)]}},"37e8":function(r,s,t){var a=t("83ab"),l=t("9bf2"),u=t("825a"),c=t("df75");r.exports=a?Object.defineProperties:function(p,v){u(p);for(var m=c(v),g=m.length,b=0,S;g>b;)l.f(p,S=m[b++],v[S]);return p}},"3bbe":function(r,s,t){var a=t("861d");r.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(r,s,t){var a=t("6547").charAt,l=t("69f3"),u=t("7dd0"),c="String Iterator",f=l.set,p=l.getterFor(c);u(String,"String",function(v){f(this,{type:c,string:String(v),index:0})},function(){var m=p(this),g=m.string,b=m.index,S;return b>=g.length?{value:void 0,done:!0}:(S=a(g,b),m.index+=S.length,{value:S,done:!1})})},"3f8c":function(r,s){r.exports={}},4160:function(r,s,t){var a=t("23e7"),l=t("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(r,s,t){var a=t("da84");r.exports=a},"44ad":function(r,s,t){var a=t("d039"),l=t("c6b6"),u="".split;r.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(r,s,t){var a=t("b622"),l=t("7c73"),u=t("9bf2"),c=a("unscopables"),f=Array.prototype;f[c]==null&&u.f(f,c,{configurable:!0,value:l(null)}),r.exports=function(p){f[c][p]=!0}},"44e7":function(r,s,t){var a=t("861d"),l=t("c6b6"),u=t("b622"),c=u("match");r.exports=function(f){var p;return a(f)&&((p=f[c])!==void 0?!!p:l(f)=="RegExp")}},4930:function(r,s,t){var a=t("d039");r.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(r,s,t){var a=t("fc6a"),l=t("50c4"),u=t("23cb"),c=function(f){return function(p,v,m){var g=a(p),b=l(g.length),S=u(m,b),O;if(f&&v!=v){for(;b>S;)if(O=g[S++],O!=O)return!0}else for(;b>S;S++)if((f||S in g)&&g[S]===v)return f||S||0;return!f&&-1}};r.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(r,s,t){var a=t("23e7"),l=t("b727").filter,u=t("1dde"),c=t("ae40"),f=u("filter"),p=c("filter");a({target:"Array",proto:!0,forced:!f||!p},{filter:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(r,s,t){var a=t("0366"),l=t("7b0b"),u=t("9bdd"),c=t("e95a"),f=t("50c4"),p=t("8418"),v=t("35a1");r.exports=function(g){var b=l(g),S=typeof this=="function"?this:Array,O=arguments.length,V=O>1?arguments[1]:void 0,A=V!==void 0,w=v(b),E=0,x,P,k,j,B,ee;if(A&&(V=a(V,O>2?arguments[2]:void 0,2)),w!=null&&!(S==Array&&c(w)))for(j=w.call(b),B=j.next,P=new S;!(k=B.call(j)).done;E++)ee=A?u(j,V,[k.value,E],!0):k.value,p(P,E,ee);else for(x=f(b.length),P=new S(x);x>E;E++)ee=A?V(b[E],E):b[E],p(P,E,ee);return P.length=E,P}},"4fad":function(r,s,t){var a=t("23e7"),l=t("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(r,s,t){var a=t("a691"),l=Math.min;r.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(r,s){var t={}.hasOwnProperty;r.exports=function(a,l){return t.call(a,l)}},5319:function(r,s,t){var a=t("d784"),l=t("825a"),u=t("7b0b"),c=t("50c4"),f=t("a691"),p=t("1d80"),v=t("8aa5"),m=t("14c3"),g=Math.max,b=Math.min,S=Math.floor,O=/\$([$&'`]|\d\d?|<[^>]*>)/g,V=/\$([$&'`]|\d\d?)/g,A=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,E,x,P){var k=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,j=P.REPLACE_KEEPS_$0,B=k?"$":"$0";return[function(N,q){var G=p(this),_=N==null?void 0:N[w];return _!==void 0?_.call(N,G,q):E.call(String(G),N,q)},function(F,N){if(!k&&j||typeof N=="string"&&N.indexOf(B)===-1){var q=x(E,F,this,N);if(q.done)return q.value}var G=l(F),_=String(this),fe=typeof N=="function";fe||(N=String(N));var he=G.global;if(he){var Me=G.unicode;G.lastIndex=0}for(var Ee=[];;){var Oe=m(G,_);if(Oe===null||(Ee.push(Oe),!he))break;var Ve=String(Oe[0]);Ve===""&&(G.lastIndex=v(_,c(G.lastIndex),Me))}for(var Ue="",De=0,be=0;be<Ee.length;be++){Oe=Ee[be];for(var Se=String(Oe[0]),Ye=g(b(f(Oe.index),_.length),0),Ne=[],ct=1;ct<Oe.length;ct++)Ne.push(A(Oe[ct]));var ht=Oe.groups;if(fe){var ft=[Se].concat(Ne,Ye,_);ht!==void 0&&ft.push(ht);var je=String(N.apply(void 0,ft))}else je=ee(Se,_,Ye,Ne,ht,N);Ye>=De&&(Ue+=_.slice(De,Ye)+je,De=Ye+Se.length)}return Ue+_.slice(De)}];function ee(F,N,q,G,_,fe){var he=q+F.length,Me=G.length,Ee=V;return _!==void 0&&(_=u(_),Ee=O),E.call(fe,Ee,function(Oe,Ve){var Ue;switch(Ve.charAt(0)){case"$":return"$";case"&":return F;case"`":return N.slice(0,q);case"'":return N.slice(he);case"<":Ue=_[Ve.slice(1,-1)];break;default:var De=+Ve;if(De===0)return Oe;if(De>Me){var be=S(De/10);return be===0?Oe:be<=Me?G[be-1]===void 0?Ve.charAt(1):G[be-1]+Ve.charAt(1):Oe}Ue=G[De-1]}return Ue===void 0?"":Ue})}})},5692:function(r,s,t){var a=t("c430"),l=t("c6cd");(r.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(r,s,t){var a=t("d066"),l=t("241c"),u=t("7418"),c=t("825a");r.exports=a("Reflect","ownKeys")||function(p){var v=l.f(c(p)),m=u.f;return m?v.concat(m(p)):v}},"5a34":function(r,s,t){var a=t("44e7");r.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(r,s){r.exports=function(t,a){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:a}}},"5db7":function(r,s,t){var a=t("23e7"),l=t("a2bf"),u=t("7b0b"),c=t("50c4"),f=t("1c0b"),p=t("65f0");a({target:"Array",proto:!0},{flatMap:function(m){var g=u(this),b=c(g.length),S;return f(m),S=p(g,0),S.length=l(S,g,g,b,0,1,m,arguments.length>1?arguments[1]:void 0),S}})},6547:function(r,s,t){var a=t("a691"),l=t("1d80"),u=function(c){return function(f,p){var v=String(l(f)),m=a(p),g=v.length,b,S;return m<0||m>=g?c?"":void 0:(b=v.charCodeAt(m),b<55296||b>56319||m+1===g||(S=v.charCodeAt(m+1))<56320||S>57343?c?v.charAt(m):b:c?v.slice(m,m+2):(b-55296<<10)+(S-56320)+65536)}};r.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(r,s,t){var a=t("861d"),l=t("e8b5"),u=t("b622"),c=u("species");r.exports=function(f,p){var v;return l(f)&&(v=f.constructor,typeof v=="function"&&(v===Array||l(v.prototype))?v=void 0:a(v)&&(v=v[c],v===null&&(v=void 0))),new(v===void 0?Array:v)(p===0?0:p)}},"69f3":function(r,s,t){var a=t("7f9a"),l=t("da84"),u=t("861d"),c=t("9112"),f=t("5135"),p=t("f772"),v=t("d012"),m=l.WeakMap,g,b,S,O=function(k){return S(k)?b(k):g(k,{})},V=function(k){return function(j){var B;if(!u(j)||(B=b(j)).type!==k)throw TypeError("Incompatible receiver, "+k+" required");return B}};if(a){var A=new m,w=A.get,E=A.has,x=A.set;g=function(k,j){return x.call(A,k,j),j},b=function(k){return w.call(A,k)||{}},S=function(k){return E.call(A,k)}}else{var P=p("state");v[P]=!0,g=function(k,j){return c(k,P,j),j},b=function(k){return f(k,P)?k[P]:{}},S=function(k){return f(k,P)}}r.exports={set:g,get:b,has:S,enforce:O,getterFor:V}},"6eeb":function(r,s,t){var a=t("da84"),l=t("9112"),u=t("5135"),c=t("ce4e"),f=t("8925"),p=t("69f3"),v=p.get,m=p.enforce,g=String(String).split("String");(r.exports=function(b,S,O,V){var A=V?!!V.unsafe:!1,w=V?!!V.enumerable:!1,E=V?!!V.noTargetGet:!1;if(typeof O=="function"&&(typeof S=="string"&&!u(O,"name")&&l(O,"name",S),m(O).source=g.join(typeof S=="string"?S:"")),b===a){w?b[S]=O:c(S,O);return}else A?!E&&b[S]&&(w=!0):delete b[S];w?b[S]=O:l(b,S,O)})(Function.prototype,"toString",function(){return typeof this=="function"&&v(this).source||f(this)})},"6f53":function(r,s,t){var a=t("83ab"),l=t("df75"),u=t("fc6a"),c=t("d1e7").f,f=function(p){return function(v){for(var m=u(v),g=l(m),b=g.length,S=0,O=[],V;b>S;)V=g[S++],(!a||c.call(m,V))&&O.push(p?[V,m[V]]:m[V]);return O}};r.exports={entries:f(!0),values:f(!1)}},"73d9":function(r,s,t){var a=t("44d2");a("flatMap")},7418:function(r,s){s.f=Object.getOwnPropertySymbols},"746f":function(r,s,t){var a=t("428f"),l=t("5135"),u=t("e538"),c=t("9bf2").f;r.exports=function(f){var p=a.Symbol||(a.Symbol={});l(p,f)||c(p,f,{value:u.f(f)})}},7839:function(r,s){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(r,s,t){var a=t("1d80");r.exports=function(l){return Object(a(l))}},"7c73":function(r,s,t){var a=t("825a"),l=t("37e8"),u=t("7839"),c=t("d012"),f=t("1be4"),p=t("cc12"),v=t("f772"),m=">",g="<",b="prototype",S="script",O=v("IE_PROTO"),V=function(){},A=function(k){return g+S+m+k+g+"/"+S+m},w=function(k){k.write(A("")),k.close();var j=k.parentWindow.Object;return k=null,j},E=function(){var k=p("iframe"),j="java"+S+":",B;return k.style.display="none",f.appendChild(k),k.src=String(j),B=k.contentWindow.document,B.open(),B.write(A("document.F=Object")),B.close(),B.F},x,P=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}P=x?w(x):E();for(var k=u.length;k--;)delete P[b][u[k]];return P()};c[O]=!0,r.exports=Object.create||function(j,B){var ee;return j!==null?(V[b]=a(j),ee=new V,V[b]=null,ee[O]=j):ee=P(),B===void 0?ee:l(ee,B)}},"7dd0":function(r,s,t){var a=t("23e7"),l=t("9ed3"),u=t("e163"),c=t("d2bb"),f=t("d44e"),p=t("9112"),v=t("6eeb"),m=t("b622"),g=t("c430"),b=t("3f8c"),S=t("ae93"),O=S.IteratorPrototype,V=S.BUGGY_SAFARI_ITERATORS,A=m("iterator"),w="keys",E="values",x="entries",P=function(){return this};r.exports=function(k,j,B,ee,F,N,q){l(B,j,ee);var G=function(be){if(be===F&&Ee)return Ee;if(!V&&be in he)return he[be];switch(be){case w:return function(){return new B(this,be)};case E:return function(){return new B(this,be)};case x:return function(){return new B(this,be)}}return function(){return new B(this)}},_=j+" Iterator",fe=!1,he=k.prototype,Me=he[A]||he["@@iterator"]||F&&he[F],Ee=!V&&Me||G(F),Oe=j=="Array"&&he.entries||Me,Ve,Ue,De;if(Oe&&(Ve=u(Oe.call(new k)),O!==Object.prototype&&Ve.next&&(!g&&u(Ve)!==O&&(c?c(Ve,O):typeof Ve[A]!="function"&&p(Ve,A,P)),f(Ve,_,!0,!0),g&&(b[_]=P))),F==E&&Me&&Me.name!==E&&(fe=!0,Ee=function(){return Me.call(this)}),(!g||q)&&he[A]!==Ee&&p(he,A,Ee),b[j]=Ee,F)if(Ue={values:G(E),keys:N?Ee:G(w),entries:G(x)},q)for(De in Ue)(V||fe||!(De in he))&&v(he,De,Ue[De]);else a({target:j,proto:!0,forced:V||fe},Ue);return Ue}},"7f9a":function(r,s,t){var a=t("da84"),l=t("8925"),u=a.WeakMap;r.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(r,s,t){var a=t("861d");r.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(r,s,t){var a=t("d039");r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(r,s,t){var a=t("c04e"),l=t("9bf2"),u=t("5c6c");r.exports=function(c,f,p){var v=a(f);v in c?l.f(c,v,u(0,p)):c[v]=p}},"861d":function(r,s){r.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(r,s,t){var a,l,u;(function(c,f){l=[],a=f,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(r.exports=u)})(typeof self<"u"?self:this,function(){function c(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var p=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,v=/@([^@]*):(\d+):(\d+)\s*$/ig,m=p.exec(x.stack)||v.exec(x.stack),g=m&&m[1]||!1,b=m&&m[2]||!1,S=document.location.href.replace(document.location.hash,""),O,V,A,w=document.getElementsByTagName("script");g===S&&(O=document.documentElement.outerHTML,V=new RegExp("(?:[^\\n]+?\\n){0,"+(b-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=O.replace(V,"$1").trim());for(var E=0;E<w.length;E++)if(w[E].readyState==="interactive"||w[E].src===g||g===S&&w[E].innerHTML&&w[E].innerHTML.trim()===A)return w[E];return null}}return c})},8925:function(r,s,t){var a=t("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),r.exports=a.inspectSource},"8aa5":function(r,s,t){var a=t("6547").charAt;r.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(r,s){r.exports=i},"90e3":function(r,s){var t=0,a=Math.random();r.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++t+a).toString(36)}},9112:function(r,s,t){var a=t("83ab"),l=t("9bf2"),u=t("5c6c");r.exports=a?function(c,f,p){return l.f(c,f,u(1,p))}:function(c,f,p){return c[f]=p,c}},9263:function(r,s,t){var a=t("ad6d"),l=t("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,f=u,p=function(){var b=/a/,S=/b*/g;return u.call(b,"a"),u.call(S,"a"),b.lastIndex!==0||S.lastIndex!==0}(),v=l.UNSUPPORTED_Y||l.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=p||m||v;g&&(f=function(S){var O=this,V,A,w,E,x=v&&O.sticky,P=a.call(O),k=O.source,j=0,B=S;return x&&(P=P.replace("y",""),P.indexOf("g")===-1&&(P+="g"),B=String(S).slice(O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&S[O.lastIndex-1]!==`
`)&&(k="(?: "+k+")",B=" "+B,j++),A=new RegExp("^(?:"+k+")",P)),m&&(A=new RegExp("^"+k+"$(?!\\s)",P)),p&&(V=O.lastIndex),w=u.call(x?A:O,B),x?w?(w.input=w.input.slice(j),w[0]=w[0].slice(j),w.index=O.lastIndex,O.lastIndex+=w[0].length):O.lastIndex=0:p&&w&&(O.lastIndex=O.global?w.index+w[0].length:V),m&&w&&w.length>1&&c.call(w[0],A,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(w[E]=void 0)}),w}),r.exports=f},"94ca":function(r,s,t){var a=t("d039"),l=/#|\.prototype\./,u=function(m,g){var b=f[c(m)];return b==v?!0:b==p?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(m){return String(m).replace(l,".").toLowerCase()},f=u.data={},p=u.NATIVE="N",v=u.POLYFILL="P";r.exports=u},"99af":function(r,s,t){var a=t("23e7"),l=t("d039"),u=t("e8b5"),c=t("861d"),f=t("7b0b"),p=t("50c4"),v=t("8418"),m=t("65f0"),g=t("1dde"),b=t("b622"),S=t("2d00"),O=b("isConcatSpreadable"),V=9007199254740991,A="Maximum allowed index exceeded",w=S>=51||!l(function(){var k=[];return k[O]=!1,k.concat()[0]!==k}),E=g("concat"),x=function(k){if(!c(k))return!1;var j=k[O];return j!==void 0?!!j:u(k)},P=!w||!E;a({target:"Array",proto:!0,forced:P},{concat:function(j){var B=f(this),ee=m(B,0),F=0,N,q,G,_,fe;for(N=-1,G=arguments.length;N<G;N++)if(fe=N===-1?B:arguments[N],x(fe)){if(_=p(fe.length),F+_>V)throw TypeError(A);for(q=0;q<_;q++,F++)q in fe&&v(ee,F,fe[q])}else{if(F>=V)throw TypeError(A);v(ee,F++,fe)}return ee.length=F,ee}})},"9bdd":function(r,s,t){var a=t("825a");r.exports=function(l,u,c,f){try{return f?u(a(c)[0],c[1]):u(c)}catch(v){var p=l.return;throw p!==void 0&&a(p.call(l)),v}}},"9bf2":function(r,s,t){var a=t("83ab"),l=t("0cfb"),u=t("825a"),c=t("c04e"),f=Object.defineProperty;s.f=a?f:function(v,m,g){if(u(v),m=c(m,!0),u(g),l)try{return f(v,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(v[m]=g.value),v}},"9ed3":function(r,s,t){var a=t("ae93").IteratorPrototype,l=t("7c73"),u=t("5c6c"),c=t("d44e"),f=t("3f8c"),p=function(){return this};r.exports=function(v,m,g){var b=m+" Iterator";return v.prototype=l(a,{next:u(1,g)}),c(v,b,!1,!0),f[b]=p,v}},"9f7f":function(r,s,t){var a=t("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(r,s,t){var a=t("e8b5"),l=t("50c4"),u=t("0366"),c=function(f,p,v,m,g,b,S,O){for(var V=g,A=0,w=S?u(S,O,3):!1,E;A<m;){if(A in v){if(E=w?w(v[A],A,p):v[A],b>0&&a(E))V=c(f,p,E,l(E.length),V,b-1)-1;else{if(V>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[V]=E}V++}A++}return V};r.exports=c},a352:function(r,s){r.exports=d},a434:function(r,s,t){var a=t("23e7"),l=t("23cb"),u=t("a691"),c=t("50c4"),f=t("7b0b"),p=t("65f0"),v=t("8418"),m=t("1dde"),g=t("ae40"),b=m("splice"),S=g("splice",{ACCESSORS:!0,0:0,1:2}),O=Math.max,V=Math.min,A=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b||!S},{splice:function(x,P){var k=f(this),j=c(k.length),B=l(x,j),ee=arguments.length,F,N,q,G,_,fe;if(ee===0?F=N=0:ee===1?(F=0,N=j-B):(F=ee-2,N=V(O(u(P),0),j-B)),j+F-N>A)throw TypeError(w);for(q=p(k,N),G=0;G<N;G++)_=B+G,_ in k&&v(q,G,k[_]);if(q.length=N,F<N){for(G=B;G<j-N;G++)_=G+N,fe=G+F,_ in k?k[fe]=k[_]:delete k[fe];for(G=j;G>j-N+F;G--)delete k[G-1]}else if(F>N)for(G=j-N;G>B;G--)_=G+N-1,fe=G+F-1,_ in k?k[fe]=k[_]:delete k[fe];for(G=0;G<F;G++)k[G+B]=arguments[G+2];return k.length=j-N+F,q}})},a4d3:function(r,s,t){var a=t("23e7"),l=t("da84"),u=t("d066"),c=t("c430"),f=t("83ab"),p=t("4930"),v=t("fdbf"),m=t("d039"),g=t("5135"),b=t("e8b5"),S=t("861d"),O=t("825a"),V=t("7b0b"),A=t("fc6a"),w=t("c04e"),E=t("5c6c"),x=t("7c73"),P=t("df75"),k=t("241c"),j=t("057f"),B=t("7418"),ee=t("06cf"),F=t("9bf2"),N=t("d1e7"),q=t("9112"),G=t("6eeb"),_=t("5692"),fe=t("f772"),he=t("d012"),Me=t("90e3"),Ee=t("b622"),Oe=t("e538"),Ve=t("746f"),Ue=t("d44e"),De=t("69f3"),be=t("b727").forEach,Se=fe("hidden"),Ye="Symbol",Ne="prototype",ct=Ee("toPrimitive"),ht=De.set,ft=De.getterFor(Ye),je=Object[Ne],Le=l.Symbol,bt=u("JSON","stringify"),ot=ee.f,it=F.f,or=j.f,Cr=N.f,et=_("symbols"),mt=_("op-symbols"),kt=_("string-to-symbol-registry"),Mt=_("symbol-to-string-registry"),jt=_("wks"),Lt=l.QObject,Bt=!Lt||!Lt[Ne]||!Lt[Ne].findChild,Ft=f&&m(function(){return x(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!=7})?function(Z,H,X){var ue=ot(je,H);ue&&delete je[H],it(Z,H,X),ue&&Z!==je&&it(je,H,ue)}:it,Rt=function(Z,H){var X=et[Z]=x(Le[Ne]);return ht(X,{type:Ye,tag:Z,description:H}),f||(X.description=H),X},I=v?function(Z){return typeof Z=="symbol"}:function(Z){return Object(Z)instanceof Le},C=function(H,X,ue){H===je&&C(mt,X,ue),O(H);var ce=w(X,!0);return O(ue),g(et,ce)?(ue.enumerable?(g(H,Se)&&H[Se][ce]&&(H[Se][ce]=!1),ue=x(ue,{enumerable:E(0,!1)})):(g(H,Se)||it(H,Se,E(1,{})),H[Se][ce]=!0),Ft(H,ce,ue)):it(H,ce,ue)},D=function(H,X){O(H);var ue=A(X),ce=P(ue).concat(me(ue));return be(ce,function(He){(!f||z.call(ue,He))&&C(H,He,ue[He])}),H},M=function(H,X){return X===void 0?x(H):D(x(H),X)},z=function(H){var X=w(H,!0),ue=Cr.call(this,X);return this===je&&g(et,X)&&!g(mt,X)?!1:ue||!g(this,X)||!g(et,X)||g(this,Se)&&this[Se][X]?ue:!0},J=function(H,X){var ue=A(H),ce=w(X,!0);if(!(ue===je&&g(et,ce)&&!g(mt,ce))){var He=ot(ue,ce);return He&&g(et,ce)&&!(g(ue,Se)&&ue[Se][ce])&&(He.enumerable=!0),He}},ie=function(H){var X=or(A(H)),ue=[];return be(X,function(ce){!g(et,ce)&&!g(he,ce)&&ue.push(ce)}),ue},me=function(H){var X=H===je,ue=or(X?mt:A(H)),ce=[];return be(ue,function(He){g(et,He)&&(!X||g(je,He))&&ce.push(et[He])}),ce};if(p||(Le=function(){if(this instanceof Le)throw TypeError("Symbol is not a constructor");var H=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),X=Me(H),ue=function(ce){this===je&&ue.call(mt,ce),g(this,Se)&&g(this[Se],X)&&(this[Se][X]=!1),Ft(this,X,E(1,ce))};return f&&Bt&&Ft(je,X,{configurable:!0,set:ue}),Rt(X,H)},G(Le[Ne],"toString",function(){return ft(this).tag}),G(Le,"withoutSetter",function(Z){return Rt(Me(Z),Z)}),N.f=z,F.f=C,ee.f=J,k.f=j.f=ie,B.f=me,Oe.f=function(Z){return Rt(Ee(Z),Z)},f&&(it(Le[Ne],"description",{configurable:!0,get:function(){return ft(this).description}}),c||G(je,"propertyIsEnumerable",z,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Le}),be(P(jt),function(Z){Ve(Z)}),a({target:Ye,stat:!0,forced:!p},{for:function(Z){var H=String(Z);if(g(kt,H))return kt[H];var X=Le(H);return kt[H]=X,Mt[X]=H,X},keyFor:function(H){if(!I(H))throw TypeError(H+" is not a symbol");if(g(Mt,H))return Mt[H]},useSetter:function(){Bt=!0},useSimple:function(){Bt=!1}}),a({target:"Object",stat:!0,forced:!p,sham:!f},{create:M,defineProperty:C,defineProperties:D,getOwnPropertyDescriptor:J}),a({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:ie,getOwnPropertySymbols:me}),a({target:"Object",stat:!0,forced:m(function(){B.f(1)})},{getOwnPropertySymbols:function(H){return B.f(V(H))}}),bt){var Te=!p||m(function(){var Z=Le();return bt([Z])!="[null]"||bt({a:Z})!="{}"||bt(Object(Z))!="{}"});a({target:"JSON",stat:!0,forced:Te},{stringify:function(H,X,ue){for(var ce=[H],He=1,Ir;arguments.length>He;)ce.push(arguments[He++]);if(Ir=X,!(!S(X)&&H===void 0||I(H)))return b(X)||(X=function(kn,ir){if(typeof Ir=="function"&&(ir=Ir.call(this,kn,ir)),!I(ir))return ir}),ce[1]=X,bt.apply(null,ce)}})}Le[Ne][ct]||q(Le[Ne],ct,Le[Ne].valueOf),Ue(Le,Ye),he[Se]=!0},a630:function(r,s,t){var a=t("23e7"),l=t("4df4"),u=t("1c7e"),c=!u(function(f){Array.from(f)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(r,s,t){var a=t("d039");r.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(r,s){var t=Math.ceil,a=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(l>0?a:t)(l)}},ab13:function(r,s,t){var a=t("b622"),l=a("match");r.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(r,s,t){var a=t("23e7"),l=t("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(r,s,t){var a=t("825a");r.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(r,s,t){var a=t("83ab"),l=t("d039"),u=t("5135"),c=Object.defineProperty,f={},p=function(v){throw v};r.exports=function(v,m){if(u(f,v))return f[v];m||(m={});var g=[][v],b=u(m,"ACCESSORS")?m.ACCESSORS:!1,S=u(m,0)?m[0]:p,O=u(m,1)?m[1]:void 0;return f[v]=!!g&&!l(function(){if(b&&!a)return!0;var V={length:-1};b?c(V,1,{enumerable:!0,get:p}):V[1]=1,g.call(V,S,O)})}},ae93:function(r,s,t){var a=t("e163"),l=t("9112"),u=t("5135"),c=t("b622"),f=t("c430"),p=c("iterator"),v=!1,m=function(){return this},g,b,S;[].keys&&(S=[].keys(),"next"in S?(b=a(a(S)),b!==Object.prototype&&(g=b)):v=!0),g==null&&(g={}),!f&&!u(g,p)&&l(g,p,m),r.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:v}},b041:function(r,s,t){var a=t("00ee"),l=t("f5df");r.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(r,s,t){var a=t("83ab"),l=t("9bf2").f,u=Function.prototype,c=u.toString,f=/^\s*function ([^ (]*)/,p="name";a&&!(p in u)&&l(u,p,{configurable:!0,get:function(){try{return c.call(this).match(f)[1]}catch{return""}}})},b622:function(r,s,t){var a=t("da84"),l=t("5692"),u=t("5135"),c=t("90e3"),f=t("4930"),p=t("fdbf"),v=l("wks"),m=a.Symbol,g=p?m:m&&m.withoutSetter||c;r.exports=function(b){return u(v,b)||(f&&u(m,b)?v[b]=m[b]:v[b]=g("Symbol."+b)),v[b]}},b64b:function(r,s,t){var a=t("23e7"),l=t("7b0b"),u=t("df75"),c=t("d039"),f=c(function(){u(1)});a({target:"Object",stat:!0,forced:f},{keys:function(v){return u(l(v))}})},b727:function(r,s,t){var a=t("0366"),l=t("44ad"),u=t("7b0b"),c=t("50c4"),f=t("65f0"),p=[].push,v=function(m){var g=m==1,b=m==2,S=m==3,O=m==4,V=m==6,A=m==5||V;return function(w,E,x,P){for(var k=u(w),j=l(k),B=a(E,x,3),ee=c(j.length),F=0,N=P||f,q=g?N(w,ee):b?N(w,0):void 0,G,_;ee>F;F++)if((A||F in j)&&(G=j[F],_=B(G,F,k),m)){if(g)q[F]=_;else if(_)switch(m){case 3:return!0;case 5:return G;case 6:return F;case 2:p.call(q,G)}else if(O)return!1}return V?-1:S||O?O:q}};r.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6)}},c04e:function(r,s,t){var a=t("861d");r.exports=function(l,u){if(!a(l))return l;var c,f;if(u&&typeof(c=l.toString)=="function"&&!a(f=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(f=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(f=c.call(l)))return f;throw TypeError("Can't convert object to primitive value")}},c430:function(r,s){r.exports=!1},c6b6:function(r,s){var t={}.toString;r.exports=function(a){return t.call(a).slice(8,-1)}},c6cd:function(r,s,t){var a=t("da84"),l=t("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});r.exports=c},c740:function(r,s,t){var a=t("23e7"),l=t("b727").findIndex,u=t("44d2"),c=t("ae40"),f="findIndex",p=!0,v=c(f);f in[]&&Array(1)[f](function(){p=!1}),a({target:"Array",proto:!0,forced:p||!v},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(f)},c8ba:function(r,s){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}r.exports=t},c975:function(r,s,t){var a=t("23e7"),l=t("4d64").indexOf,u=t("a640"),c=t("ae40"),f=[].indexOf,p=!!f&&1/[1].indexOf(1,-0)<0,v=u("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:p||!v||!m},{indexOf:function(b){return p?f.apply(this,arguments)||0:l(this,b,arguments.length>1?arguments[1]:void 0)}})},ca84:function(r,s,t){var a=t("5135"),l=t("fc6a"),u=t("4d64").indexOf,c=t("d012");r.exports=function(f,p){var v=l(f),m=0,g=[],b;for(b in v)!a(c,b)&&a(v,b)&&g.push(b);for(;p.length>m;)a(v,b=p[m++])&&(~u(g,b)||g.push(b));return g}},caad:function(r,s,t){var a=t("23e7"),l=t("4d64").includes,u=t("44d2"),c=t("ae40"),f=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!f},{includes:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(r,s,t){var a=t("da84"),l=t("861d"),u=a.document,c=l(u)&&l(u.createElement);r.exports=function(f){return c?u.createElement(f):{}}},ce4e:function(r,s,t){var a=t("da84"),l=t("9112");r.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(r,s){r.exports={}},d039:function(r,s){r.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(r,s,t){var a=t("428f"),l=t("da84"),u=function(c){return typeof c=="function"?c:void 0};r.exports=function(c,f){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][f]||l[c]&&l[c][f]}},d1e7:function(r,s,t){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(f){var p=l(this,f);return!!p&&p.enumerable}:a},d28b:function(r,s,t){var a=t("746f");a("iterator")},d2bb:function(r,s,t){var a=t("825a"),l=t("3bbe");r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(c,[]),u=c instanceof Array}catch{}return function(v,m){return a(v),l(m),u?f.call(v,m):v.__proto__=m,v}}():void 0)},d3b7:function(r,s,t){var a=t("00ee"),l=t("6eeb"),u=t("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(r,s,t){var a=t("9bf2").f,l=t("5135"),u=t("b622"),c=u("toStringTag");r.exports=function(f,p,v){f&&!l(f=v?f:f.prototype,c)&&a(f,c,{configurable:!0,value:p})}},d58f:function(r,s,t){var a=t("1c0b"),l=t("7b0b"),u=t("44ad"),c=t("50c4"),f=function(p){return function(v,m,g,b){a(m);var S=l(v),O=u(S),V=c(S.length),A=p?V-1:0,w=p?-1:1;if(g<2)for(;;){if(A in O){b=O[A],A+=w;break}if(A+=w,p?A<0:V<=A)throw TypeError("Reduce of empty array with no initial value")}for(;p?A>=0:V>A;A+=w)A in O&&(b=m(b,O[A],A,S));return b}};r.exports={left:f(!1),right:f(!0)}},d784:function(r,s,t){t("ac1f");var a=t("6eeb"),l=t("d039"),u=t("b622"),c=t("9263"),f=t("9112"),p=u("species"),v=!l(function(){var O=/./;return O.exec=function(){var V=[];return V.groups={a:"7"},V},"".replace(O,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),b=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),S=!l(function(){var O=/(?:)/,V=O.exec;O.exec=function(){return V.apply(this,arguments)};var A="ab".split(O);return A.length!==2||A[0]!=="a"||A[1]!=="b"});r.exports=function(O,V,A,w){var E=u(O),x=!l(function(){var F={};return F[E]=function(){return 7},""[O](F)!=7}),P=x&&!l(function(){var F=!1,N=/a/;return O==="split"&&(N={},N.constructor={},N.constructor[p]=function(){return N},N.flags="",N[E]=/./[E]),N.exec=function(){return F=!0,null},N[E](""),!F});if(!x||!P||O==="replace"&&!(v&&m&&!b)||O==="split"&&!S){var k=/./[E],j=A(E,""[O],function(F,N,q,G,_){return N.exec===c?x&&!_?{done:!0,value:k.call(N,q,G)}:{done:!0,value:F.call(q,N,G)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),B=j[0],ee=j[1];a(String.prototype,O,B),a(RegExp.prototype,E,V==2?function(F,N){return ee.call(F,this,N)}:function(F){return ee.call(F,this)})}w&&f(RegExp.prototype[E],"sham",!0)}},d81d:function(r,s,t){var a=t("23e7"),l=t("b727").map,u=t("1dde"),c=t("ae40"),f=u("map"),p=c("map");a({target:"Array",proto:!0,forced:!f||!p},{map:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(r,s,t){(function(a){var l=function(u){return u&&u.Math==Math&&u};r.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(r,s,t){var a=t("23e7"),l=t("83ab"),u=t("56ef"),c=t("fc6a"),f=t("06cf"),p=t("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(m){for(var g=c(m),b=f.f,S=u(g),O={},V=0,A,w;S.length>V;)w=b(g,A=S[V++]),w!==void 0&&p(O,A,w);return O}})},dbf1:function(r,s,t){(function(a){t.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,t("c8ba"))},ddb0:function(r,s,t){var a=t("da84"),l=t("fdbc"),u=t("e260"),c=t("9112"),f=t("b622"),p=f("iterator"),v=f("toStringTag"),m=u.values;for(var g in l){var b=a[g],S=b&&b.prototype;if(S){if(S[p]!==m)try{c(S,p,m)}catch{S[p]=m}if(S[v]||c(S,v,g),l[g]){for(var O in u)if(S[O]!==u[O])try{c(S,O,u[O])}catch{S[O]=u[O]}}}}},df75:function(r,s,t){var a=t("ca84"),l=t("7839");r.exports=Object.keys||function(c){return a(c,l)}},e01a:function(r,s,t){var a=t("23e7"),l=t("83ab"),u=t("da84"),c=t("5135"),f=t("861d"),p=t("9bf2").f,v=t("e893"),m=u.Symbol;if(l&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},b=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof b?new m(E):E===void 0?m():m(E);return E===""&&(g[x]=!0),x};v(b,m);var S=b.prototype=m.prototype;S.constructor=b;var O=S.toString,V=String(m("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;p(S,"description",{configurable:!0,get:function(){var E=f(this)?this.valueOf():this,x=O.call(E);if(c(g,E))return"";var P=V?x.slice(7,-1):x.replace(A,"$1");return P===""?void 0:P}}),a({global:!0,forced:!0},{Symbol:b})}},e163:function(r,s,t){var a=t("5135"),l=t("7b0b"),u=t("f772"),c=t("e177"),f=u("IE_PROTO"),p=Object.prototype;r.exports=c?Object.getPrototypeOf:function(v){return v=l(v),a(v,f)?v[f]:typeof v.constructor=="function"&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?p:null}},e177:function(r,s,t){var a=t("d039");r.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(r,s,t){var a=t("fc6a"),l=t("44d2"),u=t("3f8c"),c=t("69f3"),f=t("7dd0"),p="Array Iterator",v=c.set,m=c.getterFor(p);r.exports=f(Array,"Array",function(g,b){v(this,{type:p,target:a(g),index:0,kind:b})},function(){var g=m(this),b=g.target,S=g.kind,O=g.index++;return!b||O>=b.length?(g.target=void 0,{value:void 0,done:!0}):S=="keys"?{value:O,done:!1}:S=="values"?{value:b[O],done:!1}:{value:[O,b[O]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(r,s,t){var a=t("23e7"),l=t("d039"),u=t("fc6a"),c=t("06cf").f,f=t("83ab"),p=l(function(){c(1)}),v=!f||p;a({target:"Object",stat:!0,forced:v,sham:!f},{getOwnPropertyDescriptor:function(g,b){return c(u(g),b)}})},e538:function(r,s,t){var a=t("b622");s.f=a},e893:function(r,s,t){var a=t("5135"),l=t("56ef"),u=t("06cf"),c=t("9bf2");r.exports=function(f,p){for(var v=l(p),m=c.f,g=u.f,b=0;b<v.length;b++){var S=v[b];a(f,S)||m(f,S,g(p,S))}}},e8b5:function(r,s,t){var a=t("c6b6");r.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(r,s,t){var a=t("b622"),l=t("3f8c"),u=a("iterator"),c=Array.prototype;r.exports=function(f){return f!==void 0&&(l.Array===f||c[u]===f)}},f5df:function(r,s,t){var a=t("00ee"),l=t("c6b6"),u=t("b622"),c=u("toStringTag"),f=l(function(){return arguments}())=="Arguments",p=function(v,m){try{return v[m]}catch{}};r.exports=a?l:function(v){var m,g,b;return v===void 0?"Undefined":v===null?"Null":typeof(g=p(m=Object(v),c))=="string"?g:f?l(m):(b=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":b}},f772:function(r,s,t){var a=t("5692"),l=t("90e3"),u=a("keys");r.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(r,s,t){if(t.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=t("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(t.p=u[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function c(I,C,D){return C in I?Object.defineProperty(I,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[C]=D,I}function f(I,C){var D=Object.keys(I);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(I);C&&(M=M.filter(function(z){return Object.getOwnPropertyDescriptor(I,z).enumerable})),D.push.apply(D,M)}return D}function p(I){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?f(Object(D),!0).forEach(function(M){c(I,M,D[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(D)):f(Object(D)).forEach(function(M){Object.defineProperty(I,M,Object.getOwnPropertyDescriptor(D,M))})}return I}function v(I){if(Array.isArray(I))return I}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function m(I,C){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var D=[],M=!0,z=!1,J=void 0;try{for(var ie=I[Symbol.iterator](),me;!(M=(me=ie.next()).done)&&(D.push(me.value),!(C&&D.length===C));M=!0);}catch(Te){z=!0,J=Te}finally{try{!M&&ie.return!=null&&ie.return()}finally{if(z)throw J}}return D}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function g(I,C){(C==null||C>I.length)&&(C=I.length);for(var D=0,M=new Array(C);D<C;D++)M[D]=I[D];return M}function b(I,C){if(I){if(typeof I=="string")return g(I,C);var D=Object.prototype.toString.call(I).slice(8,-1);if(D==="Object"&&I.constructor&&(D=I.constructor.name),D==="Map"||D==="Set")return Array.from(I);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return g(I,C)}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(I,C){return v(I)||m(I,C)||b(I,C)||S()}function V(I){if(Array.isArray(I))return g(I)}function A(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(I){return V(I)||A(I)||b(I)||w()}var x=t("a352"),P=t.n(x);function k(I){I.parentElement!==null&&I.parentElement.removeChild(I)}function j(I,C,D){var M=D===0?I.children[0]:I.children[D-1].nextSibling;I.insertBefore(C,M)}var B=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function ee(I){var C=Object.create(null);return function(M){var z=C[M];return z||(C[M]=I(M))}}var F=/-(\w)/g,N=ee(function(I){return I.replace(F,function(C,D){return D.toUpperCase()})});t("5db7"),t("73d9");var q=["Start","Add","Remove","Update","End"],G=["Choose","Unchoose","Sort","Filter","Clone"],_=["Move"],fe=[_,q,G].flatMap(function(I){return I}).map(function(I){return"on".concat(I)}),he={manage:_,manageAndEmit:q,emit:G};function Me(I){return fe.indexOf(I)!==-1}t("caad"),t("2ca0");var Ee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Oe(I){return Ee.includes(I)}function Ve(I){return["transition-group","TransitionGroup"].includes(I)}function Ue(I){return["id","class","role","style"].includes(I)||I.startsWith("data-")||I.startsWith("aria-")||I.startsWith("on")}function De(I){return I.reduce(function(C,D){var M=O(D,2),z=M[0],J=M[1];return C[z]=J,C},{})}function be(I){var C=I.$attrs,D=I.componentData,M=D===void 0?{}:D,z=De(Object.entries(C).filter(function(J){var ie=O(J,2),me=ie[0];return ie[1],Ue(me)}));return p(p({},z),M)}function Se(I){var C=I.$attrs,D=I.callBackBuilder,M=De(Ye(C));Object.entries(D).forEach(function(J){var ie=O(J,2),me=ie[0],Te=ie[1];he[me].forEach(function(Z){M["on".concat(Z)]=Te(Z)})});var z="[data-draggable]".concat(M.draggable||"");return p(p({},M),{},{draggable:z})}function Ye(I){return Object.entries(I).filter(function(C){var D=O(C,2),M=D[0];return D[1],!Ue(M)}).map(function(C){var D=O(C,2),M=D[0],z=D[1];return[N(M),z]}).filter(function(C){var D=O(C,2),M=D[0];return D[1],!Me(M)})}t("c740");function Ne(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function ct(I,C){for(var D=0;D<C.length;D++){var M=C[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}function ht(I,C,D){return C&&ct(I.prototype,C),I}var ft=function(C){var D=C.el;return D},je=function(C,D){return C.__draggable_context=D},Le=function(C){return C.__draggable_context},bt=function(){function I(C){var D=C.nodes,M=D.header,z=D.default,J=D.footer,ie=C.root,me=C.realList;Ne(this,I),this.defaultNodes=z,this.children=[].concat(E(M),E(z),E(J)),this.externalComponent=ie.externalComponent,this.rootTransition=ie.transition,this.tag=ie.tag,this.realList=me}return ht(I,[{key:"render",value:function(D,M){var z=this.tag,J=this.children,ie=this._isRootComponent,me=ie?{default:function(){return J}}:J;return D(z,M,me)}},{key:"updated",value:function(){var D=this.defaultNodes,M=this.realList;D.forEach(function(z,J){je(ft(z),{element:M[J],index:J})})}},{key:"getUnderlyingVm",value:function(D){return Le(D)}},{key:"getVmIndexFromDomIndex",value:function(D,M){var z=this.defaultNodes,J=z.length,ie=M.children,me=ie.item(D);if(me===null)return J;var Te=Le(me);if(Te)return Te.index;if(J===0)return 0;var Z=ft(z[0]),H=E(ie).findIndex(function(X){return X===Z});return D<H?0:J}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),I}(),ot=t("8bbf");function it(I,C){var D=I[C];return D?D():[]}function or(I){var C=I.$slots,D=I.realList,M=I.getKey,z=D||[],J=["header","footer"].map(function(X){return it(C,X)}),ie=O(J,2),me=ie[0],Te=ie[1],Z=C.item;if(!Z)throw new Error("draggable element must have an item slot");var H=z.flatMap(function(X,ue){return Z({element:X,index:ue}).map(function(ce){return ce.key=M(X),ce.props=p(p({},ce.props||{}),{},{"data-draggable":!0}),ce})});if(H.length!==z.length)throw new Error("Item slot must have only one child");return{header:me,footer:Te,default:H}}function Cr(I){var C=Ve(I),D=!Oe(I)&&!C;return{transition:C,externalComponent:D,tag:D?Object(ot.resolveComponent)(I):C?ot.TransitionGroup:I}}function et(I){var C=I.$slots,D=I.tag,M=I.realList,z=I.getKey,J=or({$slots:C,realList:M,getKey:z}),ie=Cr(D);return new bt({nodes:J,root:ie,realList:M})}function mt(I,C){var D=this;Object(ot.nextTick)(function(){return D.$emit(I.toLowerCase(),C)})}function kt(I){var C=this;return function(D,M){if(C.realList!==null)return C["onDrag".concat(I)](D,M)}}function Mt(I){var C=this,D=kt.call(this,I);return function(M,z){D.call(C,M,z),mt.call(C,I,M)}}var jt=null,Lt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(C){return C}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Bt=["update:modelValue","change"].concat(E([].concat(E(he.manageAndEmit),E(he.emit)).map(function(I){return I.toLowerCase()}))),Ft=Object(ot.defineComponent)({name:"draggable",inheritAttrs:!1,props:Lt,emits:Bt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var C=this.$slots,D=this.$attrs,M=this.tag,z=this.componentData,J=this.realList,ie=this.getKey,me=et({$slots:C,tag:M,realList:J,getKey:ie});this.componentStructure=me;var Te=be({$attrs:D,componentData:z});return me.render(ot.h,Te)}catch(Z){return this.error=!0,Object(ot.h)("pre",{style:{color:"red"}},Z.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&B.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var C=this;if(!this.error){var D=this.$attrs,M=this.$el,z=this.componentStructure;z.updated();var J=Se({$attrs:D,callBackBuilder:{manageAndEmit:function(Te){return Mt.call(C,Te)},emit:function(Te){return mt.bind(C,Te)},manage:function(Te){return kt.call(C,Te)}}}),ie=M.nodeType===1?M:M.parentElement;this._sortable=new P.a(ie,J),this.targetDomElement=ie,ie.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var C=this.list;return C||this.modelValue},getKey:function(){var C=this.itemKey;return typeof C=="function"?C:function(D){return D[C]}}},watch:{$attrs:{handler:function(C){var D=this._sortable;D&&Ye(C).forEach(function(M){var z=O(M,2),J=z[0],ie=z[1];D.option(J,ie)})},deep:!0}},methods:{getUnderlyingVm:function(C){return this.componentStructure.getUnderlyingVm(C)||null},getUnderlyingPotencialDraggableComponent:function(C){return C.__draggable_component__},emitChanges:function(C){var D=this;Object(ot.nextTick)(function(){return D.$emit("change",C)})},alterList:function(C){if(this.list){C(this.list);return}var D=E(this.modelValue);C(D),this.$emit("update:modelValue",D)},spliceList:function(){var C=arguments,D=function(z){return z.splice.apply(z,E(C))};this.alterList(D)},updatePosition:function(C,D){var M=function(J){return J.splice(D,0,J.splice(C,1)[0])};this.alterList(M)},getRelatedContextFromMoveEvent:function(C){var D=C.to,M=C.related,z=this.getUnderlyingPotencialDraggableComponent(D);if(!z)return{component:z};var J=z.realList,ie={list:J,component:z};if(D!==M&&J){var me=z.getUnderlyingVm(M)||{};return p(p({},me),ie)}return ie},getVmIndexFromDomIndex:function(C){return this.componentStructure.getVmIndexFromDomIndex(C,this.targetDomElement)},onDragStart:function(C){this.context=this.getUnderlyingVm(C.item),C.item._underlying_vm_=this.clone(this.context.element),jt=C.item},onDragAdd:function(C){var D=C.item._underlying_vm_;if(D!==void 0){k(C.item);var M=this.getVmIndexFromDomIndex(C.newIndex);this.spliceList(M,0,D);var z={element:D,newIndex:M};this.emitChanges({added:z})}},onDragRemove:function(C){if(j(this.$el,C.item,C.oldIndex),C.pullMode==="clone"){k(C.clone);return}var D=this.context,M=D.index,z=D.element;this.spliceList(M,1);var J={element:z,oldIndex:M};this.emitChanges({removed:J})},onDragUpdate:function(C){k(C.item),j(C.from,C.item,C.oldIndex);var D=this.context.index,M=this.getVmIndexFromDomIndex(C.newIndex);this.updatePosition(D,M);var z={element:this.context.element,oldIndex:D,newIndex:M};this.emitChanges({moved:z})},computeFutureIndex:function(C,D){if(!C.element)return 0;var M=E(D.to.children).filter(function(me){return me.style.display!=="none"}),z=M.indexOf(D.related),J=C.component.getVmIndexFromDomIndex(z),ie=M.indexOf(jt)!==-1;return ie||!D.willInsertAfter?J:J+1},onDragMove:function(C,D){var M=this.move,z=this.realList;if(!M||!z)return!0;var J=this.getRelatedContextFromMoveEvent(C),ie=this.computeFutureIndex(J,C),me=p(p({},this.context),{},{futureIndex:ie}),Te=p(p({},C),{},{relatedContext:J,draggedContext:me});return M(Te,D)},onDragEnd:function(){jt=null}}}),Rt=Ft;s.default=Rt},fb6a:function(r,s,t){var a=t("23e7"),l=t("861d"),u=t("e8b5"),c=t("23cb"),f=t("50c4"),p=t("fc6a"),v=t("8418"),m=t("b622"),g=t("1dde"),b=t("ae40"),S=g("slice"),O=b("slice",{ACCESSORS:!0,0:0,1:2}),V=m("species"),A=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!S||!O},{slice:function(x,P){var k=p(this),j=f(k.length),B=c(x,j),ee=c(P===void 0?j:P,j),F,N,q;if(u(k)&&(F=k.constructor,typeof F=="function"&&(F===Array||u(F.prototype))?F=void 0:l(F)&&(F=F[V],F===null&&(F=void 0)),F===Array||F===void 0))return A.call(k,B,ee);for(N=new(F===void 0?Array:F)(w(ee-B,0)),q=0;B<ee;B++,q++)B in k&&v(N,q,k[B]);return N.length=q,N}})},fc6a:function(r,s,t){var a=t("44ad"),l=t("1d80");r.exports=function(u){return a(l(u))}},fdbc:function(r,s){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(r,s,t){var a=t("4930");r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(br)),br.exports}var na=ra();const Qr=Zl(na),oa={class:"card mb-4 p-4"},ia={class:"nav nav-tabs mb-3"},sa={class:"nav-item"},la={class:"nav-item"},aa={class:"row g-3 align-items-start"},da={class:"col-md-5"},ua={class:"attr-form shadow-sm rounded-3 p-3 mb-3 bg-light"},ca=["placeholder"],fa=["placeholder"],ma={class:"col-md-7"},pa={class:"attr-list shadow-sm rounded-3 p-3 mb-3 bg-light"},va={class:"attr-card shadow-sm rounded-4 px-3 py-2 bg-white d-flex align-items-center position-relative"},ga={class:"w-100 d-flex flex-row flex-wrap align-items-center"},ha={class:"attr-label fw-bold"},ba={class:"attr-value flex-fill"},ya={class:"attr-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},xa=["onClick"],Sa=["onClick"],wa={key:0,class:"text-muted mt-4 ms-2"},Ea={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae("uk"),s=Ot({uk:i.modelValue.uk?JSON.parse(JSON.stringify(i.modelValue.uk)):[],ru:i.modelValue.ru?JSON.parse(JSON.stringify(i.modelValue.ru)):[]}),t=Ot({name:"",value:""}),a=Ae(null);let l=Math.max(...s.uk.map(m=>m._id||0),...s.ru.map(m=>m._id||0),0);lt(s,m=>{d("update:modelValue",{uk:m.uk.map(({_id:g,...b})=>b.name||b.value?{...b}:null).filter(Boolean),ru:m.ru.map(({_id:g,...b})=>b.name||b.value?{...b}:null).filter(Boolean)})},{deep:!0});function u(){if(!t.name||!t.value){alert("Заповніть обидва поля!");return}s[r.value].push({_id:++l,name:t.name,value:t.value}),v()}function c(m){a.value=m;const g=s[r.value][m];t.name=g.name,t.value=g.value}function f(){a.value!==null&&(s[r.value][a.value]={...s[r.value][a.value],name:t.name,value:t.value},a.value=null,v())}function p(m){s[r.value].splice(m,1),a.value===m&&(a.value=null,v())}function v(){t.name="",t.value=""}return(m,g)=>(h(),y("div",oa,[g[11]||(g[11]=o("h5",{class:"fw-bold mb-3"},"Характеристики товару",-1)),o("ul",ia,[o("li",sa,[o("button",{class:Y(["nav-link",{active:r.value==="uk"}]),onClick:g[0]||(g[0]=b=>r.value="uk")},"Українська",2)]),o("li",la,[o("button",{class:Y(["nav-link",{active:r.value==="ru"}]),onClick:g[1]||(g[1]=b=>r.value="ru")},"Російська",2)])]),o("div",aa,[o("div",da,[o("div",ua,[U(o("input",{"onUpdate:modelValue":g[2]||(g[2]=b=>t.name=b),type:"text",class:"form-control mb-2",placeholder:r.value==="uk"?"Характеристика":"Характеристика (рус)"},null,8,ca),[[L,t.name]]),U(o("input",{"onUpdate:modelValue":g[3]||(g[3]=b=>t.value=b),type:"text",class:"form-control mb-3",placeholder:r.value==="uk"?"Значення":"Значение"},null,8,fa),[[L,t.value]]),a.value===null?(h(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:u},g[5]||(g[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати характеристику ",-1)]))):(h(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:f},g[6]||(g[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",ma,[o("div",pa,[Q(Dt(Qr),{modelValue:s[r.value],"onUpdate:modelValue":g[4]||(g[4]=b=>s[r.value]=b),"item-key":"_id",handle:".drag-handle",animation:180,class:"d-flex flex-column gap-2 mb-0"},{item:Xe(({element:b,index:S})=>[o("div",va,[g[10]||(g[10]=o("span",{class:"drag-handle me-3",title:"Перетягнути",style:{cursor:"grab"}},[o("svg",{width:"18",height:"18",fill:"#b0b0b0",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",ga,[o("div",ha,T(b.name),1),g[7]||(g[7]=o("div",{class:"attr-sep mx-2"},":",-1)),o("div",ba,T(b.value),1)]),o("div",ya,[o("button",{class:"btn-action btn-edit",onClick:O=>c(S)},g[8]||(g[8]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,xa),o("button",{class:"btn-action btn-remove",onClick:O=>p(S)},g[9]||(g[9]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Sa)])])]),_:1},8,["modelValue"]),s[r.value].length?$("",!0):(h(),y("div",wa,"Ще не додано жодної характеристики"))])])])]))}},Oa=le(Ea,[["__scopeId","data-v-d2193fe7"]]),ka={class:"card mb-4 p-4"},Ca={class:"color-form shadow-sm rounded-3 p-3 mb-4 bg-light"},Ia={class:"row g-3"},Pa={class:"col-12 col-md-6"},Ta={class:"col-12"},Aa={class:"d-flex align-items-center gap-3 w-100 py-1"},Da=["src"],$a={class:"d-flex flex-column flex-grow-1 min-w-0"},Va={class:"fw-semibold text-truncate"},Ua={key:0,class:"text-muted"},Ma={class:"d-flex align-items-center gap-2 min-w-0"},ja=["src"],La={class:"text-truncate"},Ba={class:"col-12 col-md-6"},Fa=["src"],Ra={class:"mt-3 d-flex gap-2"},Na={class:"color-list"},Ga={class:"color-card shadow rounded-4 px-4 py-3 bg-white d-flex align-items-center position-relative gap-3",style:{"min-height":"100px"}},za=["src"],Ka={class:"flex-grow-1 d-flex flex-column justify-content-center"},Ha={class:"fw-bold fs-5 lh-sm mb-1"},_a={class:"text-secondary fw-semibold"},Wa={class:"color-actions d-flex flex-column align-items-center justify-content-center gap-2 position-absolute end-0 top-0 mt-2 me-2"},Xa=["onClick"],Ya=["onClick"],Ja={key:0,class:"text-muted mt-4 ms-2"},Qa={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productList:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae([]);er(async()=>{try{const w=await Pe.get("/admin/products/list");r.value=w.data}catch(w){console.error("Не вдалося завантажити продукти:",w),r.value=[]}});function s(w){var E,x,P,k;return(w==null?void 0:w.name)||(w==null?void 0:w.title)||(w==null?void 0:w.product_name)||(((x=(E=w==null?void 0:w.translations)==null?void 0:E[0])==null?void 0:x.title)??((k=(P=w==null?void 0:w.translations)==null?void 0:P[0])==null?void 0:k.name))||""}function t(w){return(w==null?void 0:w.sku)??(w==null?void 0:w.article)??(w==null?void 0:w.code)??""}function a(w){var E,x;return(w==null?void 0:w.image)||(w==null?void 0:w.image_url)||(w==null?void 0:w.image_path)||(w==null?void 0:w.thumbnail)||(w==null?void 0:w.preview)||(Array.isArray(w==null?void 0:w.images)?((E=w.images[0])==null?void 0:E.url)||((x=w.images[0])==null?void 0:x.path):"")}function l(w){return w?/^data:/i.test(w)||w.startsWith("http")||w.startsWith("/storage/")||w.startsWith("/")?w:w.startsWith("//")?`${window.location.protocol}${w}`:"/storage/"+w.replace(/^\/+/,""):""}function u(w,E){if(!E)return!0;const x=(s(w)||"").toLowerCase(),P=(t(w)||"").toLowerCase(),k=E.toLowerCase();return x.includes(k)||P.includes(k)}function c(w){if(!w)return"";const E=s(w),x=t(w);return x?`${E} (SKU: ${x})`:E}const f=Ot({color:"",product:null,image:null}),p=Ae([...i.modelValue]);let v=0;const m=Ae(null);lt(p,w=>{d("update:modelValue",w)},{deep:!0}),lt(()=>i.modelValue,w=>{w!==p.value&&(p.value=[...w])});function g(){if(!f.color||!f.product||!f.image){alert("Заповніть всі поля та виберіть зображення!");return}p.value.push({_id:++v,color:f.color,linked_product_id:f.product.id,product:f.product,image:f.image}),A()}function b(w){m.value=w;const E=p.value[w];f.color=E.color,f.product=E.product,f.image=E.image}function S(){m.value!==null&&(p.value[m.value]={...p.value[m.value],color:f.color,linked_product_id:f.product.id,product:f.product,image:f.image},m.value=null,A())}function O(w){p.value.splice(w,1),m.value===w&&(m.value=null,A())}function V(w){const E=w.target.files[0];if(!E)return;const x=new FileReader;x.onload=P=>{f.image=P.target.result},x.readAsDataURL(E)}function A(){f.color="",f.product=null,f.image=""}return(w,E)=>(h(),y("div",ka,[E[8]||(E[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",Ca,[o("div",Ia,[o("div",Pa,[U(o("input",{"onUpdate:modelValue":E[0]||(E[0]=x=>f.color=x),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[L,f.color]])]),o("div",Ta,[Q(Dt(Vt),{modelValue:f.product,"onUpdate:modelValue":E[1]||(E[1]=x=>f.product=x),options:r.value,searchable:!0,"custom-label":c,filter:u,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Xe(({option:x})=>[o("div",Aa,[a(x)?(h(),y("img",{key:0,src:l(a(x)),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,Da)):$("",!0),o("div",$a,[o("span",Va,T(s(x)),1),t(x)?(h(),y("small",Ua,"SKU: "+T(t(x)),1)):$("",!0)])])]),singleLabel:Xe(({option:x})=>[o("div",Ma,[a(x)?(h(),y("img",{key:0,src:l(a(x)),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,ja)):$("",!0),o("span",La,[pe(T(s(x)),1),t(x)?(h(),y(re,{key:0},[pe(" (SKU: "+T(t(x))+")",1)],64)):$("",!0)])])]),_:1},8,["modelValue","options"])]),o("div",Ba,[o("input",{type:"file",class:"form-control mb-3",onChange:V},null,32),f.image?(h(),y("img",{key:0,src:f.image,alt:"",class:"color-img-preview mb-2"},null,8,Fa)):$("",!0)])]),o("div",Ra,[m.value===null?(h(),y("button",{key:0,class:"btn btn-primary flex-fill d-flex align-items-center justify-content-center gap-2",onClick:g},E[3]||(E[3]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати колір ",-1)]))):(h(),y("button",{key:1,class:"btn btn-success flex-fill d-flex align-items-center justify-content-center gap-2",onClick:S},E[4]||(E[4]=[o("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",Na,[Q(Dt(Qr),{modelValue:p.value,"onUpdate:modelValue":E[2]||(E[2]=x=>p.value=x),"item-key":"_id",class:"d-flex flex-column gap-3 mb-0",animation:200,handle:".drag-handle"},{item:Xe(({element:x,index:P})=>[o("div",Ga,[E[7]||(E[7]=o("span",{class:"drag-handle me-2",title:"Перемістити",style:{cursor:"grab","flex-shrink":"0"}},[o("svg",{width:"22",height:"22",fill:"none",stroke:"#b4b4b4","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"1.5"}),o("circle",{cx:"7",cy:"12",r:"1.5"}),o("circle",{cx:"7",cy:"17",r:"1.5"}),o("circle",{cx:"12",cy:"7",r:"1.5"}),o("circle",{cx:"12",cy:"12",r:"1.5"}),o("circle",{cx:"12",cy:"17",r:"1.5"}),o("circle",{cx:"17",cy:"7",r:"1.5"}),o("circle",{cx:"17",cy:"12",r:"1.5"}),o("circle",{cx:"17",cy:"17",r:"1.5"})])],-1)),x.image?(h(),y("img",{key:0,src:x.image,style:{width:"64px",height:"64px","border-radius":"12px",border:"2px solid #f2f4f8",background:"#fff","object-fit":"cover","flex-shrink":"0"}},null,8,za)):$("",!0),o("div",Ka,[o("div",Ha,T(x.color),1),o("div",_a,T(x.product?c(x.product):""),1)]),o("div",Wa,[o("button",{class:"btn-action btn-edit",onClick:k=>b(P),title:"Редагувати"},E[5]||(E[5]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5л12.232-12.268z"})],-1)]),8,Xa),o("button",{class:"btn-action btn-remove",onClick:k=>O(P),title:"Видалити"},E[6]||(E[6]=[o("svg",{width:"24",height:"24",fill:"none",stroke:"#dc2626","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Ya)])])]),_:1},8,["modelValue"]),p.value.length?$("",!0):(h(),y("div",Ja," Ще не додано жодного кольору "))])]))}},Za=le(Qa,[["__scopeId","data-v-5d076b82"]]),qa={name:"ProductForm",components:{ProductHeader:Vn,ProductTitles:Nn,ProductSeo:Yn,ProductImages:Ro,ProductDescription:Qi,ProductPrice:ds,ProductCategory:Ls,ProductSizeGuide:Ys,ProductVariants:Ql,ProductAttributes:Oa,ProductColors:Za},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",is_available:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},categoryOptions:[{id:1,name:"Домашні тапочки"},{id:2,name:"Тапочки з хутром"},{id:3,name:"Модні тапочки"},{id:4,name:"Спортивні тапочки"}],productOptions:[{id:1,name:"Товар 1"},{id:2,name:"Товар 2"},{id:3,name:"Товар 3"},{id:4,name:"Товар 4"}]}},methods:{async submitForm(){this.errors={};const n=new FormData;n.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(e=>{e.file&&n.append("images[]",e.file)}),n.append("images_meta",JSON.stringify((this.form.images||[]).map(e=>({position:e.position,is_main:e.is_main}))));try{await Pe.post("/admin/products",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(e){e.response&&e.response.status===422?this.errors=Object.fromEntries(Object.entries(e.response.data.errors).map(([i,d])=>[i,d[0]])):alert("Сталася помилка при збереженні!")}}}},ed={class:"p-4"},td={class:"row"},rd={class:"col-md-8"},nd={class:"col-md-4"};function od(n,e,i,d,r,s){const t=de("ProductHeader"),a=de("ProductTitles"),l=de("ProductSeo"),u=de("ProductImages"),c=de("ProductPrice"),f=de("ProductCategory"),p=de("ProductSizeGuide"),v=de("ProductDescription"),m=de("ProductVariants"),g=de("ProductAttributes"),b=de("ProductColors");return h(),y("div",ed,[Q(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",td,[o("div",rd,[Q(a,{form:r.form,errors:r.errors},null,8,["form","errors"]),Q(l,{form:r.form,errors:r.errors},null,8,["form","errors"]),Q(u,{modelValue:r.form.images,"onUpdate:modelValue":e[0]||(e[0]=S=>r.form.images=S)},null,8,["modelValue"])]),o("div",nd,[Q(c,{form:r.form,errors:r.errors},null,8,["form","errors"]),Q(f,{modelValue:r.form.categories,"onUpdate:modelValue":e[1]||(e[1]=S=>r.form.categories=S),categories:r.categoryOptions,errors:r.errors},null,8,["modelValue","categories","errors"]),Q(p,{modelValue:r.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=S=>r.form.size_guide_id=S),errors:r.errors},null,8,["modelValue","errors"])])]),Q(v,{modelValue:r.form.description,"onUpdate:modelValue":e[3]||(e[3]=S=>r.form.description=S),errors:r.errors},null,8,["modelValue","errors"]),Q(m,{modelValue:r.form.variants,"onUpdate:modelValue":e[4]||(e[4]=S=>r.form.variants=S),errors:r.errors},null,8,["modelValue","errors"]),Q(g,{modelValue:r.form.attributes,"onUpdate:modelValue":e[5]||(e[5]=S=>r.form.attributes=S),errors:r.errors},null,8,["modelValue","errors"]),Q(b,{modelValue:r.form.colors,"onUpdate:modelValue":e[6]||(e[6]=S=>r.form.colors=S),productList:r.productOptions,errors:r.errors},null,8,["modelValue","productList","errors"])])}const id=le(qa,[["render",od],["__scopeId","data-v-5669305f"]]),sd={name:"ProductFilters",props:{search:String,status:[String,Number],category:[String,Number],categories:{type:Array,required:!0}},methods:{update(n,e){this.$emit(`update:${n}`,e)}}},ld={class:"filters mb-4 card p-3",style:{"border-radius":"5px"}},ad={class:"row align-items-end"},dd={class:"col-md-3"},ud=["value"],cd={class:"col-md-3"},fd=["value"],md={class:"col-md-3"},pd=["value"],vd=["value"];function gd(n,e,i,d,r,s){return h(),y("div",ld,[o("div",ad,[o("div",dd,[o("input",{type:"text",class:"form-control",placeholder:"Пошук товару...",value:i.search,onInput:e[0]||(e[0]=t=>s.update("search",t.target.value))},null,40,ud)]),o("div",cd,[o("select",{class:"form-select",value:i.status,onChange:e[1]||(e[1]=t=>s.update("status",t.target.value))},e[3]||(e[3]=[o("option",{value:""},"Статус",-1),o("option",{value:"1"},"Опубліковано",-1),o("option",{value:"0"},"Неактивний",-1)]),40,fd)]),o("div",md,[o("select",{class:"form-select",value:i.category,onChange:e[2]||(e[2]=t=>s.update("category",t.target.value))},[e[4]||(e[4]=o("option",{value:""},"Категорія",-1)),(h(!0),y(re,null,ve(i.categories,t=>(h(),y("option",{key:t.id,value:t.id},T(t.name),9,vd))),128))],40,pd)]),e[5]||(e[5]=Or('<div class="col-md-3 text-end"><a href="/admin/products/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.25);transition:background 0.3s ease;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-box2-heart me-2" viewBox="0 0 16 16"><path d="M4.684 1.447A1.5 1.5 0 0 1 5.934 1h4.132a1.5 1.5 0 0 1 1.25.447l2.25 2.25A1.5 1.5 0 0 1 14.934 4H1.066a1.5 1.5 0 0 1 1.368-.803l2.25-2.25z"></path><path d="M.5 5.5A.5.5 0 0 1 1 5h14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H1a.5.5 0 0 1-.5-.5v-1zm3.92 2.996a2.326 2.326 0 0 1 1.611-.63c.49 0 .98.173 1.352.568.372-.395.862-.568 1.352-.568.588 0 1.165.242 1.61.63C10.784 8.864 11 9.418 11 9.996c0 .578-.216 1.132-.655 1.5l-2.58 2.15a.5.5 0 0 1-.63 0l-2.58-2.15A1.917 1.917 0 0 1 5 9.996c0-.578.216-1.132.655-1.5z"></path></svg> Додати товар </a></div>',1))])])}const hd=le(sd,[["render",gd]]),bd={name:"ProductTable",props:{products:{type:Array,required:!0}},data(){return{menuOpen:null}},methods:{statusLabel(n){return n==1?"Опубліковано":n==2?"Заплановано":n==0?"Неактивний":""},statusClass(n){return n==1?"status-publish":n==2?"status-scheduled":n==0?"status-inactive":""},async toggleStatus(n){const e=n.status;n.status=e==1?0:1;try{await Pe.post(`/api/products/${n.id}/toggle-status`,{status:n.status})}catch{n.status=e,alert("Помилка збереження статусу")}},openMenu(n){this.menuOpen===n?this.closeMenu():(this.menuOpen=n,document.addEventListener("click",this.handleOutsideClick))},closeMenu(){this.menuOpen=null,document.removeEventListener("click",this.handleOutsideClick)},handleOutsideClick(n){!n.target.closest(".dropdown-menu")&&!n.target.closest(".dots-menu")&&this.closeMenu()},async deleteProduct(n){if(this.closeMenu(),!!confirm("Підтвердіть видалення товару. Операція незворотна і не може бути скасована."))try{await Pe.delete(`/api/products/${n.id}`),alert("Товар успішно видалено"),window.location.reload()}catch{alert("Помилка видалення товару")}},download(n){this.closeMenu(),alert(`Download product #${n.id}`)},duplicate(n){this.closeMenu(),this.$emit("duplicate",n)}}},yd={class:"card border-0 shadow-sm rounded-3"},xd={class:"card-body p-0"},Sd={class:"table-responsive"},wd={class:"table table-hover align-middle mb-0"},Ed={class:"d-flex align-items-center"},Od=["src"],kd={class:"min-w-0"},Cd={class:"fw-medium text-truncate"},Id={class:"text-muted text-truncate"},Pd=["onClick"],Td={class:"text-end"},Ad={class:"dropdown"},Dd={class:"dropdown-menu dropdown-menu-end"},$d=["href"],Vd=["onClick"],Ud=["onClick"];function Md(n,e,i,d,r,s){return h(),y("div",yd,[o("div",xd,[o("div",Sd,[o("table",wd,[e[6]||(e[6]=o("thead",{class:"table-light"},[o("tr",null,[o("th",null,[o("input",{type:"checkbox"})]),o("th",null,"Product"),o("th",null,"Category"),o("th",null,"Stock"),o("th",null,"SKU"),o("th",null,"Price"),o("th",null,"Qty"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(h(!0),y(re,null,ve(i.products,(t,a)=>(h(),y("tr",{key:t.id},[e[5]||(e[5]=o("td",null,[o("input",{type:"checkbox"})],-1)),o("td",null,[o("div",Ed,[o("img",{src:t.image,class:"avatar me-3"},null,8,Od),o("div",kd,[o("div",Cd,T(t.name),1),o("small",Id,T(t.brand),1)])])]),o("td",null,T(t.category_name),1),o("td",null,[o("div",{class:Y(["toggle-switch",{active:t.status==1}]),onClick:l=>s.toggleStatus(t),title:"Змінити статус"},null,10,Pd)]),o("td",null,T(t.sku),1),o("td",null,T(t.price),1),o("td",null,T(t.qty),1),o("td",null,[o("span",{class:Y(["badge",s.statusClass(t.status)])},T(s.statusLabel(t.status)),3)]),o("td",Td,[o("div",Ad,[e[4]||(e[4]=o("button",{type:"button",class:"btn p-0 dropdown-toggle hide-arrow","data-bs-toggle":"dropdown"},[o("i",{class:"bi bi-three-dots-vertical"})],-1)),o("div",Dd,[o("a",{class:"dropdown-item",href:`/admin/products/${t.id}/edit`},e[0]||(e[0]=[o("i",{class:"bi bi-pencil me-1"},null,-1),pe(" Edit ",-1)]),8,$d),o("a",{class:"dropdown-item",href:"javascript:void(0);",onClick:oe(l=>s.duplicate(t),["prevent"])},e[1]||(e[1]=[o("i",{class:"bi bi-files me-1"},null,-1),pe(" Duplicate ",-1)]),8,Vd),e[3]||(e[3]=o("hr",{class:"dropdown-divider"},null,-1)),o("a",{class:"dropdown-item text-danger",href:"javascript:void(0);",onClick:oe(l=>s.deleteProduct(t),["prevent"])},e[2]||(e[2]=[o("i",{class:"bi bi-trash me-1"},null,-1),pe(" Delete ",-1)]),8,Ud)])])])]))),128))])])])])])}const jd=le(bd,[["render",Md],["__scopeId","data-v-9ffc72e8"]]),Ld={components:{ProductFilters:hd,ProductTable:jd},data(){return{filters:{search:"",status:"",category:"",page:1},categories:[],products:[],pagination:{current_page:1,last_page:1,per_page:10,total:0}}},watch:{filters:{handler:"fetchProducts",deep:!0}},mounted(){this.fetchCategories(),this.fetchProducts()},methods:{changePage(n){n>=1&&n<=this.pagination.last_page&&(this.filters.page=n)},fetchCategories(){Pe.get("/api/category-select/uk").then(n=>{this.categories=n.data}).catch(()=>{this.categories=[]})},fetchProducts(){Pe.get("/api/products/list",{params:this.filters}).then(n=>{this.products=n.data.data,this.pagination.current_page=n.data.current_page,this.pagination.last_page=n.data.last_page,this.pagination.per_page=n.data.per_page,this.pagination.total=n.data.total}).catch(()=>{this.products=[]})},handleDeleted(n){this.products=this.products.filter(e=>e.id!==n)}}},Bd={class:"pagination-controls"},Fd=["disabled"],Rd=["disabled"];function Nd(n,e,i,d,r,s){const t=de("ProductFilters"),a=de("ProductTable");return h(),y("div",null,[Q(t,{search:r.filters.search,status:r.filters.status,category:r.filters.category,categories:r.categories,"onUpdate:search":e[0]||(e[0]=l=>r.filters.search=l),"onUpdate:status":e[1]||(e[1]=l=>r.filters.status=l),"onUpdate:category":e[2]||(e[2]=l=>r.filters.category=l)},null,8,["search","status","category","categories"]),Q(a,{products:r.products,onDeleted:s.handleDeleted},null,8,["products","onDeleted"]),o("div",Bd,[o("button",{disabled:r.pagination.current_page===1,onClick:e[3]||(e[3]=l=>s.changePage(r.pagination.current_page-1))}," Назад ",8,Fd),o("span",null,"Сторінка "+T(r.pagination.current_page)+" з "+T(r.pagination.last_page),1),o("button",{disabled:r.pagination.current_page===r.pagination.last_page,onClick:e[4]||(e[4]=l=>s.changePage(r.pagination.current_page+1))}," Вперед ",8,Rd)])])}const Gd=le(Ld,[["render",Nd],["__scopeId","data-v-e01c23d9"]]),zd={name:"ProductHeader"},Kd={class:"d-flex justify-content-between align-items-center mb-4"},Hd={class:"top-actions"};function _d(n,e,i,d,r,s){return h(),y("div",Kd,[e[3]||(e[3]=o("div",null,[o("h5",{class:"fw-bold mb-0"},"Додати новий товар")],-1)),o("div",Hd,[e[1]||(e[1]=o("button",{type:"button",class:"btn btn-light"},"Відхилити",-1)),e[2]||(e[2]=o("button",{type:"button",class:"btn btn-outline-primary"},"Зберегти чернетку",-1)),o("button",{type:"button",onClick:e[0]||(e[0]=t=>n.$emit("submit")),class:"btn btn-primary"}," Опублікувати товар ")])])}const Wd=le(zd,[["render",_d],["__scopeId","data-v-4853d00b"]]),Xd={name:"ProductTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(n){this.$emit("clear-error",n)}}},Yd={class:"card mb-4 p-3"},Jd={class:"mb-3"},Qd={key:0,class:"invalid-feedback"},Zd={class:"mb-3"},qd={key:0,class:"invalid-feedback"},eu={class:"mb-3"},tu={key:0,class:"invalid-feedback"},ru={class:"mb-3"},nu={key:0,class:"invalid-feedback"};function ou(n,e,i,d,r,s){var t,a,l,u,c,f,p,v;return h(),y("div",Yd,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug",-1)),o("div",Jd,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=m=>i.form.name_uk=m),onInput:e[1]||(e[1]=m=>s.clearError("name_uk"))},null,34),[[L,i.form.name_uk]]),(a=i.errors)!=null&&a.name_uk?(h(),y("div",Qd,T(i.errors.name_uk),1)):$("",!0)]),o("div",Zd,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(l=i.errors)==null?void 0:l.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=m=>i.form.slug_uk=m),onInput:e[3]||(e[3]=m=>s.clearError("slug_uk"))},null,34),[[L,i.form.slug_uk]]),(u=i.errors)!=null&&u.slug_uk?(h(),y("div",qd,T(i.errors.slug_uk),1)):$("",!0)]),o("div",eu,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(c=i.errors)==null?void 0:c.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=m=>i.form.name_ru=m),onInput:e[5]||(e[5]=m=>s.clearError("name_ru"))},null,34),[[L,i.form.name_ru]]),(f=i.errors)!=null&&f.name_ru?(h(),y("div",tu,T(i.errors.name_ru),1)):$("",!0)]),o("div",ru,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=m=>i.form.slug_ru=m),onInput:e[7]||(e[7]=m=>s.clearError("slug_ru"))},null,34),[[L,i.form.slug_ru]]),(v=i.errors)!=null&&v.slug_ru?(h(),y("div",nu,T(i.errors.slug_ru),1)):$("",!0)])])}const iu=le(Xd,[["render",ou]]),su={name:"ProductSeo",props:{form:{type:Object,required:!0}}},lu={class:"card mb-4 p-3"},au={class:"mb-3"},du={class:"mb-3"},uu={class:"mb-3"},cu={class:"mb-3"};function fu(n,e,i,d,r,s){return h(),y("div",lu,[e[8]||(e[8]=o("h6",{class:"fw-bold mb-3"},"SEO-оптимізація",-1)),o("div",au,[e[4]||(e[4]=o("label",{class:"form-label"},"Meta Title (укр)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.meta_title_uk=t)},null,512),[[L,i.form.meta_title_uk]])]),o("div",du,[e[5]||(e[5]=o("label",{class:"form-label"},"Meta Description (укр)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.meta_description_uk=t)},null,512),[[L,i.form.meta_description_uk]])]),o("div",uu,[e[6]||(e[6]=o("label",{class:"form-label"},"Meta Title (рос)",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>i.form.meta_title_ru=t)},null,512),[[L,i.form.meta_title_ru]])]),o("div",cu,[e[7]||(e[7]=o("label",{class:"form-label"},"Meta Description (рос)",-1)),U(o("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":e[3]||(e[3]=t=>i.form.meta_description_ru=t)},null,512),[[L,i.form.meta_description_ru]])])])}const mu=le(su,[["render",fu]]),pu={class:"card mb-4 p-3"},vu={class:"mb-3"},gu={class:"text-muted"},hu=["src"],bu=["onClick"],yu={class:"badge-main"},xu={__name:"ProductImages",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae([...i.modelValue]);lt(()=>i.modelValue,c=>{c!==r.value&&(r.value=[...c])});const s=Kt(()=>r.value.map(c=>c.url&&!c.url.startsWith("/")&&!c.url.startsWith("blob:")?{...c,url:"/"+c.url}:c).sort((c,f)=>(c.position??0)-(f.position??0)));function t(){r.value.forEach((c,f)=>{c.position=f,c.is_main=f===0}),d("update:modelValue",[...r.value])}function a(c){Array.from(c.target.files).forEach(p=>{r.value.push({id:Date.now()+Math.random(),file:p,url:URL.createObjectURL(p),position:r.value.length,is_main:!1})}),t(),c.target.value=""}function l(c){r.value.splice(c,1),t()}const u=Ae(null);return er(()=>{W.create(u.value,{animation:150,onEnd:c=>{const f=r.value.splice(c.oldIndex,1)[0];r.value.splice(c.newIndex,0,f),t()}})}),(c,f)=>(h(),y("div",pu,[f[0]||(f[0]=o("h6",{class:"fw-bold mb-3"},"Зображення товару",-1)),o("div",vu,[o("input",{type:"file",class:"form-control",multiple:"",onChange:a},null,32),o("small",gu,"Файлів: "+T(r.value.length),1)]),o("div",{ref_key:"containerRef",ref:u,class:"d-flex gap-2 flex-wrap"},[(h(!0),y(re,null,ve(s.value,(p,v)=>(h(),y("div",{key:p.id,class:"image-item"},[o("img",{src:p.url,alt:""},null,8,hu),o("button",{type:"button",class:"remove-btn",onClick:m=>l(v)},"×",8,bu),o("span",yu,T(v===0?"Головне":"#"+(v+1)),1)]))),128))],512)]))}},Su=le(xu,[["__scopeId","data-v-2125cf66"]]),wu={name:"ProductDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},productId:{type:[String,Number],required:!0}},data(){return{lang:"uk",blocks:{uk:[],ru:[]},editIdx:null,editForm:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""},addMode:!1,newBlock:{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},uploading:!1}},watch:{modelValue:{immediate:!0,deep:!0,handler(n){this.blocks={uk:Array.isArray(n.uk)?JSON.parse(JSON.stringify(n.uk)):[],ru:Array.isArray(n.ru)?JSON.parse(JSON.stringify(n.ru)):[]}}}},methods:{switchLang(n){this.lang=n,this.cancelEdit(),this.cancelAddBlock()},editBlock(n){this.editIdx=n,this.editForm={...this.blocks[this.lang][n]}},cancelEdit(){this.editIdx=null,this.editForm={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""}},async saveEditBlock(n){this.editIdx!==null&&(this.blocks[this.lang][this.editIdx]={...this.editForm,_key:this.blocks[this.lang][this.editIdx]._key,type:this.blocks[this.lang][this.editIdx].type},this.cancelEdit(),this.$emit("update:modelValue",this.blocks))},deleteBlock(n){this.blocks[this.lang].splice(n,1),this.$emit("update:modelValue",this.blocks),this.editIdx===n&&this.cancelEdit()},async uploadImage(n){const e=new FormData;e.append("image",n),e.append("product_id",this.productId),this.uploading=!0;try{const i=await Pe.post("/api/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}});return this.uploading=!1,i.data.url}catch{return this.uploading=!1,alert("Помилка завантаження зображення!"),""}},async onImageChange(n,e,i=null){const d=n.target.files[0];if(!d)return;const r=await this.uploadImage(d);r&&(e==="image_right"||e==="image_left"?this.editForm.imageUrl=r:e==="two_images"&&i===1?this.editForm.imageUrl1=r:e==="two_images"&&i===2&&(this.editForm.imageUrl2=r))},startAddBlock(){this.addMode=!0,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},cancelAddBlock(){this.addMode=!1,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},async saveNewBlock(){if(!this.newBlock.type)return;const n=Date.now()+Math.floor(Math.random()*1e3),e={...this.newBlock,_key:n};this.blocks[this.lang].push(e),this.addMode=!1,this.$emit("update:modelValue",this.blocks),this.cancelAddBlock()},async onAddImage(n,e){const i=n.target.files[0];if(!i)return;const d=await this.uploadImage(i);d&&(e==="single"?this.newBlock.imageUrl=d:e===1?this.newBlock.imageUrl1=d:e===2&&(this.newBlock.imageUrl2=d))}}},Eu={class:"card mb-4 p-4"},Ou={class:"nav nav-tabs mb-3"},ku={class:"nav-item"},Cu={class:"nav-item"},Iu={key:0},Pu={class:"desc-action-bar"},Tu=["onClick"],Au=["onClick"],Du={class:"mb-3"},$u={class:"mb-3"},Vu={key:1,class:"row"},Uu={class:"col-md-6 mb-3"},Mu={class:"col-md-6 mb-3"},ju={key:0,class:"mt-2"},Lu=["src"],Bu={key:2,class:"row"},Fu={class:"col-md-6 mb-3"},Ru={key:0,class:"mt-2"},Nu=["src"],Gu={class:"col-md-6 mb-3"},zu={key:3,class:"row"},Ku={class:"col-md-6 mb-3"},Hu={key:0,class:"mt-2"},_u=["src"],Wu={class:"col-md-6 mb-3"},Xu={key:0,class:"mt-2"},Yu=["src"],Ju={key:0,class:"mb-4"},Qu={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Zu={style:{"font-size":"1.05rem"}},qu={key:1,class:"row align-items-center mb-4"},ec={class:"col-md-6 mb-3 mb-md-0"},tc={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},rc={style:{"font-size":"1.05rem"}},nc={class:"col-md-6 d-flex justify-content-center"},oc=["src"],ic={key:2,class:"row align-items-center mb-4"},sc={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},lc=["src"],ac={class:"col-md-6"},dc={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},uc={style:{"font-size":"1.05rem"}},cc={key:3,class:"row align-items-center mb-4"},fc={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},mc=["src"],pc={class:"col-md-6 d-flex justify-content-center"},vc=["src"],gc={key:1,class:"text-muted"},hc={class:"mt-4"},bc={class:"row g-3 align-items-stretch"},yc={class:"col-12"},xc={class:"col-12"},Sc={class:"col-12"},wc={class:"col-md-6 col-12"},Ec={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Oc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},kc=["src"],Cc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Ic={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Pc=["src"],Tc={class:"col-md-6 col-12"},Ac={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Dc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},$c=["src"],Vc={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Uc={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Mc=["src"],jc={class:"col-12 d-flex gap-2 mt-3"};function Lc(n,e,i,d,r,s){return h(),y("div",Eu,[e[44]||(e[44]=o("h6",{class:"fw-bold mb-3"},"Опис товару",-1)),o("ul",Ou,[o("li",ku,[o("button",{class:Y(["nav-link",{active:r.lang==="uk"}]),onClick:e[0]||(e[0]=t=>s.switchLang("uk")),type:"button"},"Українська",2)]),o("li",Cu,[o("button",{class:Y(["nav-link",{active:r.lang==="ru"}]),onClick:e[1]||(e[1]=t=>s.switchLang("ru")),type:"button"},"Російська",2)])]),r.blocks[r.lang]&&r.blocks[r.lang].length?(h(),y("div",Iu,[(h(!0),y(re,null,ve(r.blocks[r.lang],(t,a)=>(h(),y("div",{key:t._key,class:"desc-block mb-4 position-relative"},[o("div",Pu,[r.editIdx!==a?(h(),y(re,{key:0},[o("button",{class:"btn btn-outline-secondary btn-sm me-2",onClick:l=>s.editBlock(a)},e[28]||(e[28]=[o("i",{class:"bi bi-pencil"},null,-1),pe(" Редагувати ",-1)]),8,Tu),o("button",{class:"btn btn-outline-danger btn-sm",onClick:l=>s.deleteBlock(a)},e[29]||(e[29]=[o("i",{class:"bi bi-trash"},null,-1)]),8,Au)],64)):$("",!0)]),r.editIdx===a?(h(),y("form",{key:0,onSubmit:e[13]||(e[13]=oe(l=>s.saveEditBlock(r.editIdx),["prevent"]))},[r.editForm.type==="text"?(h(),y(re,{key:0},[o("div",Du,[e[30]||(e[30]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]])]),o("div",$u,[e[31]||(e[31]=o("label",{class:"form-label"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[3]||(e[3]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])])],64)):r.editForm.type==="image_right"?(h(),y("div",Vu,[o("div",Uu,[e[32]||(e[32]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]]),e[33]||(e[33]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[5]||(e[5]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])]),o("div",Mu,[e[34]||(e[34]=o("label",{class:"form-label"},"Картинка справа",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=l=>s.onImageChange(l,"image_right"))},null,32),r.editForm.imageUrl?(h(),y("div",ju,[o("img",{src:r.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,Lu)])):$("",!0)])])):r.editForm.type==="image_left"?(h(),y("div",Bu,[o("div",Fu,[e[35]||(e[35]=o("label",{class:"form-label"},"Картинка зліва",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=l=>s.onImageChange(l,"image_left"))},null,32),r.editForm.imageUrl?(h(),y("div",Ru,[o("img",{src:r.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,Nu)])):$("",!0)]),o("div",Gu,[e[36]||(e[36]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]]),e[37]||(e[37]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[9]||(e[9]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])])])):r.editForm.type==="two_images"?(h(),y("div",zu,[o("div",Ku,[e[38]||(e[38]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[10]||(e[10]=l=>s.onImageChange(l,"two_images",1))},null,32),r.editForm.imageUrl1?(h(),y("div",Hu,[o("img",{src:r.editForm.imageUrl1,style:{width:"100%","max-width":"300px"}},null,8,_u)])):$("",!0)]),o("div",Wu,[e[39]||(e[39]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[11]||(e[11]=l=>s.onImageChange(l,"two_images",2))},null,32),r.editForm.imageUrl2?(h(),y("div",Xu,[o("img",{src:r.editForm.imageUrl2,style:{width:"100%","max-width":"300px"}},null,8,Yu)])):$("",!0)])])):$("",!0),e[40]||(e[40]=o("button",{class:"btn btn-success me-2",type:"submit"},"Оновити",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=oe((...l)=>s.cancelEdit&&s.cancelEdit(...l),["prevent"]))},"Відміна")],32)):(h(),y(re,{key:1},[t.type==="text"?(h(),y("div",Ju,[o("div",Qu,T(t.title),1),o("div",Zu,T(t.text),1)])):t.type==="image_right"?(h(),y("div",qu,[o("div",ec,[o("div",tc,T(t.title),1),o("div",rc,T(t.text),1)]),o("div",nc,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,oc)])])):t.type==="image_left"?(h(),y("div",ic,[o("div",sc,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,lc)]),o("div",ac,[o("div",dc,T(t.title),1),o("div",uc,T(t.text),1)])])):t.type==="two_images"?(h(),y("div",cc,[o("div",fc,[o("img",{src:t.imageUrl1,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,mc)]),o("div",pc,[o("img",{src:t.imageUrl2,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,vc)])])):$("",!0)],64))]))),128))])):(h(),y("div",gc," Опис для цієї мови ще не доданий. ")),o("div",hc,[r.addMode?$("",!0):(h(),y("button",{key:0,class:"btn btn-primary",onClick:e[14]||(e[14]=(...t)=>s.startAddBlock&&s.startAddBlock(...t)),type:"button"}," + Додати блок ")),r.addMode?(h(),y("form",{key:1,onSubmit:e[27]||(e[27]=oe((...t)=>s.saveNewBlock&&s.saveNewBlock(...t),["prevent"])),class:"card p-3 mt-2"},[o("div",bc,[o("div",yc,[e[42]||(e[42]=o("label",{class:"form-label"},"Тип блоку",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>r.newBlock.type=t),required:""},e[41]||(e[41]=[Or('<option value="" disabled data-v-926299d8>Оберіть тип</option><option value="text" data-v-926299d8>Текст</option><option value="image_right" data-v-926299d8>Картинка справа</option><option value="image_left" data-v-926299d8>Картинка зліва</option><option value="two_images" data-v-926299d8>Дві картинки</option>',5)]),512),[[Et,r.newBlock.type]])]),r.newBlock.type==="text"?(h(),y(re,{key:0},[o("div",xc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[16]||(e[16]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]])]),o("div",Sc,[U(o("textarea",{class:"form-control","onUpdate:modelValue":e[17]||(e[17]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"150px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])])],64)):r.newBlock.type==="image_right"?(h(),y(re,{key:1},[o("div",wc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[18]||(e[18]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[19]||(e[19]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])]),o("div",Ec,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[20]||(e[20]=t=>s.onAddImage(t,"single"))},null,32),r.newBlock.imageUrl?(h(),y("div",Oc,[o("img",{src:r.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,kc)])):$("",!0)])],64)):r.newBlock.type==="image_left"?(h(),y(re,{key:2},[o("div",Cc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[21]||(e[21]=t=>s.onAddImage(t,"single"))},null,32),r.newBlock.imageUrl?(h(),y("div",Ic,[o("img",{src:r.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,Pc)])):$("",!0)]),o("div",Tc,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[22]||(e[22]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[23]||(e[23]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])])],64)):r.newBlock.type==="two_images"?(h(),y(re,{key:3},[o("div",Ac,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[24]||(e[24]=t=>s.onAddImage(t,1))},null,32),r.newBlock.imageUrl1?(h(),y("div",Dc,[o("img",{src:r.newBlock.imageUrl1,style:{"max-width":"130px","border-radius":"10px"}},null,8,$c)])):$("",!0)]),o("div",Vc,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[25]||(e[25]=t=>s.onAddImage(t,2))},null,32),r.newBlock.imageUrl2?(h(),y("div",Uc,[o("img",{src:r.newBlock.imageUrl2,style:{"max-width":"130px","border-radius":"10px"}},null,8,Mc)])):$("",!0)])],64)):$("",!0),o("div",jc,[e[43]||(e[43]=o("button",{class:"btn btn-success",type:"submit"},"Зберегти",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[26]||(e[26]=oe((...t)=>s.cancelAddBlock&&s.cancelAddBlock(...t),["prevent"]))},"Відміна")])])],32)):$("",!0)])])}const Bc=le(wu,[["render",Lc],["__scopeId","data-v-926299d8"]]),Fc={class:"card mb-4 p-4"},Rc={class:"mb-3"},Nc={key:0,class:"invalid-feedback"},Gc={class:"mb-3"},zc={class:"mb-3"},Kc={key:0,class:"invalid-feedback"},Hc={class:"mb-3"},_c={class:"mb-3"},Wc={key:0,class:"invalid-feedback"},Xc={class:"form-check form-switch mb-2"},Yc={class:"form-check form-switch"},Jc={__name:"ProductPrices",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],setup(n,{emit:e}){return(i,d)=>{var r,s,t,a,l,u;return h(),y("div",Fc,[o("div",Rc,[d[7]||(d[7]=o("label",{class:"form-label"},"Ціна",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(r=n.errors)==null?void 0:r.price}]),"onUpdate:modelValue":d[0]||(d[0]=c=>n.form.price=c),placeholder:"Ціна"},null,2),[[L,n.form.price]]),(s=n.errors)!=null&&s.price?(h(),y("div",Nc,T(n.errors.price),1)):$("",!0)]),o("div",Gc,[d[8]||(d[8]=o("label",{class:"form-label"},"Стара ціна",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":d[1]||(d[1]=c=>n.form.old_price=c)},null,512),[[L,n.form.old_price]])]),o("div",zc,[d[9]||(d[9]=o("label",{class:"form-label"},"Артикул (SKU)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=n.errors)==null?void 0:t.sku}]),"onUpdate:modelValue":d[2]||(d[2]=c=>n.form.sku=c)},null,2),[[L,n.form.sku]]),(a=n.errors)!=null&&a.sku?(h(),y("div",Kc,T(n.errors.sku),1)):$("",!0)]),o("div",Hc,[d[10]||(d[10]=o("label",{class:"form-label"},"Штрихкод",-1)),U(o("input",{type:"text",class:"form-control","onUpdate:modelValue":d[3]||(d[3]=c=>n.form.barcode=c)},null,512),[[L,n.form.barcode]])]),o("div",_c,[d[11]||(d[11]=o("label",{class:"form-label"},"Кількість",-1)),U(o("input",{type:"number",class:Y(["form-control",{"is-invalid":(l=n.errors)==null?void 0:l.quantity_in_stock}]),"onUpdate:modelValue":d[4]||(d[4]=c=>n.form.quantity_in_stock=c)},null,2),[[L,n.form.quantity_in_stock]]),(u=n.errors)!=null&&u.quantity_in_stock?(h(),y("div",Wc,T(n.errors.quantity_in_stock),1)):$("",!0)]),o("div",Xc,[U(o("input",{class:"form-check-input",type:"checkbox",id:"stockSwitch","onUpdate:modelValue":d[5]||(d[5]=c=>n.form.status=c)},null,512),[[tr,n.form.status]]),d[12]||(d[12]=o("label",{class:"form-check-label",for:"stockSwitch"},"Є в наявності",-1))]),o("div",Yc,[U(o("input",{class:"form-check-input",type:"checkbox",id:"popularSwitch","onUpdate:modelValue":d[6]||(d[6]=c=>n.form.is_popular=c)},null,512),[[tr,n.form.is_popular]]),d[13]||(d[13]=o("label",{class:"form-check-label",for:"popularSwitch"},"Популярне",-1))])])}}},Qc={name:"ProductCategory",components:{Multiselect:Vt},props:{modelValue:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},data(){return{localSelected:[]}},computed:{hasError(){return!!this.errors.categories},errorText(){return this.errors.categories}},watch:{modelValue:{immediate:!0,handler(n){const e=this.localSelected.map(d=>d.id).sort().join(","),i=[...new Set(n)].sort().join(",");e!==i&&this.syncLocalSelected()}},localSelected:{deep:!0,handler(n){const e=[...new Set(n.map(r=>r.id))],i=this.modelValue.slice().sort().join(","),d=e.slice().sort().join(",");i!==d&&this.$emit("update:modelValue",e)}},categories:{immediate:!0,handler(){this.syncLocalSelected()}}},methods:{syncLocalSelected(){if(Array.isArray(this.categories)&&this.categories.length){const n=[...new Set(this.modelValue)];this.localSelected=this.categories.filter(e=>n.includes(e.id))}else this.localSelected=[]}}},Zc={class:"card mb-4 p-4"},qc={key:0,class:"invalid-feedback",style:{display:"block"}},ef={key:1,class:"mt-2"};function tf(n,e,i,d,r,s){const t=de("Multiselect");return h(),y("div",Zc,[e[1]||(e[1]=o("label",{class:"form-label"},"Категорія",-1)),Q(t,{modelValue:r.localSelected,"onUpdate:modelValue":e[0]||(e[0]=a=>r.localSelected=a),options:i.categories,multiple:!0,label:"name","track-by":"id",placeholder:"Виберіть категорії",class:Y({"is-invalid":s.hasError})},null,8,["modelValue","options","class"]),s.hasError?(h(),y("div",qc,T(s.errorText),1)):$("",!0),r.localSelected.length?(h(),y("div",ef,[(h(!0),y(re,null,ve(r.localSelected,a=>(h(),y("span",{key:a.id,class:"badge bg-primary me-1"},T(a.name),1))),128))])):$("",!0)])}const rf=le(Qc,[["render",tf],["__scopeId","data-v-197f5d44"]]),nf={name:"ProductSizeGuide",props:{modelValue:[String,Number],errors:{type:Object,default:()=>({})}},data(){return{sizeGuides:[],internalSelectedId:this.modelValue||""}},computed:{selectedGuide(){return this.sizeGuides.find(n=>String(n.id)===String(this.internalSelectedId))},ukTableRows(){const n=this.selectedGuide;return!n||!n.sizes||!n.sizes.uk?[]:Array.isArray(n.sizes.uk)?n.sizes.uk:Object.entries(n.sizes.uk).map(([e,i])=>({Розмір:e,Довжина:i}))},ukTableColumns(){return this.ukTableRows.length?Object.keys(this.ukTableRows[0]):[]}},watch:{modelValue(n){this.internalSelectedId=n},internalSelectedId(n){this.$emit("update:modelValue",n)}},created(){Pe.get("/admin/size-guides").then(n=>{this.sizeGuides=n.data}).catch(n=>{console.error("Error fetching size guides:",n)})}},of={class:"card mb-4 p-4"},sf={class:"mb-3"},lf=["value"],af={key:0,class:"invalid-feedback",style:{display:"block"}},df={key:0,class:"mt-3"},uf={class:"form-label"},cf={key:0},ff={class:"table table-sm mt-2"},mf={key:1};function pf(n,e,i,d,r,s){var t,a;return h(),y("div",of,[o("div",sf,[e[2]||(e[2]=o("h6",null,"Розмірна сітка",-1)),U(o("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.internalSelectedId=l),class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.size_guide_id}])},[e[1]||(e[1]=o("option",{value:""},"Оберіть розмірну сітку",-1)),(h(!0),y(re,null,ve(r.sizeGuides,l=>(h(),y("option",{value:l.id,key:l.id},T(l.name),9,lf))),128))],2),[[Et,r.internalSelectedId]]),(a=i.errors)!=null&&a.size_guide_id?(h(),y("div",af,T(i.errors.size_guide_id),1)):$("",!0)]),s.selectedGuide?(h(),y("div",df,[o("label",uf,"Розмірна сітка: "+T(s.selectedGuide.name),1),s.ukTableRows&&s.ukTableRows.length?(h(),y("div",cf,[o("table",ff,[o("thead",null,[o("tr",null,[(h(!0),y(re,null,ve(s.ukTableColumns,l=>(h(),y("th",{key:l},T(l),1))),128))])]),o("tbody",null,[(h(!0),y(re,null,ve(s.ukTableRows,(l,u)=>(h(),y("tr",{key:u},[(h(!0),y(re,null,ve(s.ukTableColumns,c=>(h(),y("td",{key:c},T(l[c]||"-"),1))),128))]))),128))])])])):(h(),y("div",mf,e[3]||(e[3]=[o("span",{class:"text-muted"},"Немає даних для відображення",-1)])))])):$("",!0)])}const vf=le(nf,[["render",pf]]),gf={class:"card mb-4 p-4"},hf={class:"row g-3 align-items-start"},bf={class:"col-md-5"},yf={class:"variant-form shadow-sm rounded-3 p-3 mb-3 bg-light"},xf={class:"col-md-7"},Sf={class:"variant-list shadow-sm rounded-3 p-3 mb-3 bg-light"},wf={class:"w-100"},Ef={class:"row gy-2 gx-3"},Of={class:"col-6 col-lg-4"},kf={class:"value"},Cf={class:"col-6 col-lg-4"},If={class:"value price"},Pf={class:"col-6 col-lg-4"},Tf={key:0,class:"value old-price"},Af={key:1,class:"value text-muted"},Df={class:"col-6 col-lg-4"},$f={class:"value"},Vf={class:"col-6 col-lg-4"},Uf={class:"value"},Mf={class:"variant-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},jf=["onClick"],Lf=["onClick"],Bf={key:0,class:"text-muted mt-4 ms-2"},Ff={__name:"ProductVariants",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ot({size:"",color:"",price_override:"",old_price:"",quantity:""}),s=Ae([]);lt(()=>i.modelValue,v=>{Array.isArray(v)&&(s.value=v.map((m,g)=>({...m,_id:m.id||Date.now()+g})))},{deep:!0,immediate:!0});const t=Ae(null);function a(){d("update:modelValue",s.value.map(({_id:v,...m})=>m))}function l(){if(!r.size||!r.price_override||!r.quantity){alert("Заповніть обовʼязкові поля!");return}s.value.push({_id:Date.now()+(Math.random()*1e3|0),size:r.size,color:r.color,price_override:Number(r.price_override),old_price:r.old_price?Number(r.old_price):null,quantity:Number(r.quantity)}),a(),p()}function u(v){t.value=v;const m=s.value[v];r.size=m.size,r.color=m.color,r.price_override=m.price_override,r.old_price=m.old_price,r.quantity=m.quantity}function c(){t.value!==null&&(s.value[t.value]={...s.value[t.value],size:r.size,color:r.color,price_override:Number(r.price_override),old_price:r.old_price?Number(r.old_price):null,quantity:Number(r.quantity)},a(),t.value=null,p())}function f(v){s.value.splice(v,1),a(),t.value===v&&(t.value=null,p())}function p(){r.size="",r.color="",r.price_override="",r.old_price="",r.quantity=""}return(v,m)=>(h(),y("div",gf,[m[14]||(m[14]=o("h5",{class:"fw-bold mb-3"},"Варіанти товару",-1)),o("div",hf,[o("div",bf,[o("div",yf,[U(o("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>r.size=g),type:"text",class:"form-control mb-2",placeholder:"Розмір (36-37)"},null,512),[[L,r.size]]),U(o("input",{"onUpdate:modelValue":m[1]||(m[1]=g=>r.color=g),type:"text",class:"form-control mb-2",placeholder:"Колір"},null,512),[[L,r.color]]),U(o("input",{"onUpdate:modelValue":m[2]||(m[2]=g=>r.price_override=g),type:"number",class:"form-control mb-2",placeholder:"Ціна"},null,512),[[L,r.price_override]]),U(o("input",{"onUpdate:modelValue":m[3]||(m[3]=g=>r.old_price=g),type:"number",class:"form-control mb-2",placeholder:"Стара ціна"},null,512),[[L,r.old_price]]),U(o("input",{"onUpdate:modelValue":m[4]||(m[4]=g=>r.quantity=g),type:"number",class:"form-control mb-3",placeholder:"Кількість"},null,512),[[L,r.quantity]]),t.value===null?(h(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:l},m[5]||(m[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати варіант ",-1)]))):(h(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:c},m[6]||(m[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",xf,[o("div",Sf,[Q(_r,{name:"fade",tag:"div",class:"d-flex flex-column gap-3 mb-0"},{default:Xe(()=>[(h(!0),y(re,null,ve(s.value,(g,b)=>(h(),y("div",{key:g._id,class:"variant-card shadow-sm rounded-4 px-3 py-3 bg-white d-flex align-items-center position-relative"},[o("div",wf,[o("div",Ef,[o("div",Of,[m[7]||(m[7]=o("div",{class:"label"},"Розмір",-1)),o("div",kf,[o("h5",null,T(g.size),1)])]),o("div",Cf,[m[8]||(m[8]=o("div",{class:"label"},"Ціна",-1)),o("div",If,[o("h5",null,T(g.price_override)+" грн",1)])]),o("div",Pf,[m[9]||(m[9]=o("div",{class:"label"},"Стара ціна",-1)),g.old_price?(h(),y("div",Tf,[o("h5",null,T(g.old_price)+" грн",1)])):(h(),y("div",Af,"—"))]),o("div",Df,[m[10]||(m[10]=o("div",{class:"label"},"Кількість",-1)),o("div",$f,[o("h5",null,T(g.quantity)+" шт",1)])]),o("div",Vf,[m[11]||(m[11]=o("div",{class:"label"},"Колір",-1)),o("div",Uf,[o("h5",null,T(g.color),1)])])])]),o("div",Mf,[o("button",{class:"btn-action btn-edit",onClick:S=>u(b)},m[12]||(m[12]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,jf),o("button",{class:"btn-action btn-remove",onClick:S=>f(b)},m[13]||(m[13]=[o("svg",{width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,Lf)])]))),128))]),_:1}),s.value.length?$("",!0):(h(),y("div",Bf,"Ще не додано жодного варіанта"))])])])]))}},Rf=le(Ff,[["__scopeId","data-v-f061a704"]]),Nf={class:"card mb-4 p-4"},Gf={class:"nav nav-tabs mb-3"},zf={class:"nav-item"},Kf={class:"nav-item"},Hf={class:"row g-3 align-items-start"},_f={class:"col-md-5"},Wf={class:"attr-form shadow-sm rounded-3 p-3 mb-3 bg-light"},Xf=["placeholder"],Yf=["placeholder"],Jf={class:"col-md-7"},Qf={class:"attr-list shadow-sm rounded-3 p-3 mb-3 bg-light"},Zf={class:"attr-card shadow-sm rounded-4 px-3 py-2 bg-white d-flex align-items-center position-relative"},qf={class:"w-100 d-flex flex-row flex-wrap align-items-center"},em={class:"attr-label fw-bold"},tm={class:"attr-value flex-fill"},rm={class:"attr-actions position-absolute top-0 end-0 mt-2 me-2 d-flex gap-1"},nm=["onClick"],om=["onClick"],im={key:0,class:"text-muted mt-4 ms-2"},sm={__name:"ProductAttributes",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae("uk"),s=Ot({uk:[],ru:[]}),t=Ot({name:"",value:""}),a=Ae(null);let l=0;lt(()=>i.modelValue,g=>{Array.isArray(g)?(s.uk=g.map((b,S)=>({...b,_id:b._id||Date.now()+S})),s.ru=[]):g&&typeof g=="object"&&(s.uk=Array.isArray(g.uk)?g.uk.map((b,S)=>({...b,_id:b._id||Date.now()+S})):[],s.ru=Array.isArray(g.ru)?g.ru.map((b,S)=>({...b,_id:b._id||Date.now()+S})):[]),l=Math.max(...s.uk.map(b=>b._id||0),...s.ru.map(b=>b._id||0),0)},{deep:!0,immediate:!0});function u(){d("update:modelValue",{uk:s.uk.map(({_id:g,...b})=>b),ru:s.ru.map(({_id:g,...b})=>b)})}function c(){if(!t.name||!t.value){alert("Заповніть обидва поля!");return}s[r.value].push({_id:++l,name:t.name,value:t.value}),u(),m()}function f(g){a.value=g;const b=s[r.value][g];t.name=b.name,t.value=b.value}function p(){a.value!==null&&(s[r.value][a.value]={...s[r.value][a.value],name:t.name,value:t.value},u(),a.value=null,m())}function v(g){s[r.value].splice(g,1),u(),a.value===g&&(a.value=null,m())}function m(){t.name="",t.value=""}return(g,b)=>(h(),y("div",Nf,[b[11]||(b[11]=o("h5",{class:"fw-bold mb-3"},"Характеристики товару",-1)),o("ul",Gf,[o("li",zf,[o("button",{class:Y(["nav-link",{active:r.value==="uk"}]),onClick:b[0]||(b[0]=S=>r.value="uk")},"Українська",2)]),o("li",Kf,[o("button",{class:Y(["nav-link",{active:r.value==="ru"}]),onClick:b[1]||(b[1]=S=>r.value="ru")},"Російська",2)])]),o("div",Hf,[o("div",_f,[o("div",Wf,[U(o("input",{"onUpdate:modelValue":b[2]||(b[2]=S=>t.name=S),type:"text",class:"form-control mb-2",placeholder:r.value==="uk"?"Характеристика":"Характеристика (рус)"},null,8,Xf),[[L,t.name]]),U(o("input",{"onUpdate:modelValue":b[3]||(b[3]=S=>t.value=S),type:"text",class:"form-control mb-3",placeholder:r.value==="uk"?"Значення":"Значение"},null,8,Yf),[[L,t.value]]),a.value===null?(h(),y("button",{key:0,class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2",onClick:c},b[5]||(b[5]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M12 5v14m-7-7h14",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Додати характеристику ",-1)]))):(h(),y("button",{key:1,class:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:p},b[6]||(b[6]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7",stroke:"white","stroke-width":"2","stroke-linecap":"round"})],-1),pe(" Зберегти зміни ",-1)])))])]),o("div",Jf,[o("div",Qf,[Q(Dt(Qr),{modelValue:s[r.value],"onUpdate:modelValue":b[4]||(b[4]=S=>s[r.value]=S),"item-key":"_id",handle:".drag-handle",animation:180,class:"d-flex flex-column gap-2 mb-0"},{item:Xe(({element:S,index:O})=>[o("div",Zf,[b[10]||(b[10]=o("span",{class:"drag-handle me-3",title:"Перетягнути",style:{cursor:"grab"}},[o("svg",{width:"18",height:"18",fill:"#b0b0b0",viewBox:"0 0 24 24"},[o("circle",{cx:"7",cy:"7",r:"2"}),o("circle",{cx:"7",cy:"17",r:"2"}),o("circle",{cx:"17",cy:"7",r:"2"}),o("circle",{cx:"17",cy:"17",r:"2"})])],-1)),o("div",qf,[o("div",em,T(S.name),1),b[7]||(b[7]=o("div",{class:"attr-sep mx-2"},":",-1)),o("div",tm,T(S.value),1)]),o("div",rm,[o("button",{class:"btn-action btn-edit",onClick:V=>f(O)},b[8]||(b[8]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"#2563eb","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1)]),8,nm),o("button",{class:"btn-action btn-remove",onClick:V=>v(O)},b[9]||(b[9]=[o("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M15 9l-6 6M9 9l6 6"})],-1)]),8,om)])])]),_:1},8,["modelValue"]),s[r.value].length?$("",!0):(h(),y("div",im,"Ще не додано жодної характеристики"))])])])]))}},lm=le(sm,[["__scopeId","data-v-a7eef0a6"]]),am={class:"card mb-4 p-4"},dm={class:"color-list d-flex flex-column gap-3"},um={class:"desc-action-bar"},cm={class:"position-absolute top-0 end-0 m-3 d-flex gap-2"},fm=["onClick"],mm=["onClick"],pm=["onClick"],vm={key:0,class:"row g-3 align-items-center"},gm={class:"col-12 col-md-6"},hm={class:"col-12"},bm={class:"d-flex align-items-center gap-3"},ym=["src"],xm={class:"fw-bold fs-5"},Sm={class:"d-flex align-items-center gap-2"},wm=["src"],Em={class:"col-12 col-md-6"},Om=["src"],km={key:1,class:"d-flex align-items-center"},Cm=["src"],Im={class:"fw-bold fs-5 lh-sm mb-1"},Pm={key:0,class:"fw-semibold"},Tm=["href"],Am={class:"ms-2 text-muted"},Dm={key:1,class:"text-secondary fw-semibold"},$m={key:0,class:"position-relative bg-light rounded-4 border p-4 mb-3 shadow-sm"},Vm={class:"row g-3 align-items-center"},Um={class:"col-12 col-md-6"},Mm={class:"col-12"},jm={class:"d-flex align-items-center gap-3"},Lm=["src"],Bm={class:"fw-bold fs-5"},Fm={class:"d-flex align-items-center gap-2"},Rm=["src"],Nm={class:"col-12 col-md-6"},Gm=["src"],zm={__name:"ProductColors",props:{modelValue:{type:Array,default:()=>[]},productId:{type:[Number,String],required:!0}},emits:["update:modelValue"],setup(n,{emit:e}){const i=n,d=e,r=Ae([...i.modelValue]);lt(()=>i.modelValue,x=>{r.value=[...x]});const s=Ae({});function t(x){return x?x.startsWith("http")||x.startsWith("/storage/")||x.startsWith("/")?x:"/storage/"+x.replace(/^\/+/,""):""}function a(x){return x?x.startsWith("http")||x.startsWith("/")?x:"/"+x.replace(/^\/+/,""):""}function l(x){return x?`/uk/product/${x}`:"#"}async function u(){const x=[...new Set(r.value.map(P=>P.linked_product_id).filter(Boolean))];if(!x.length){s.value={};return}try{const{data:P}=await Pe.post("/api/products/get-linked-info",{ids:x});s.value=P||{}}catch{s.value={}}}er(u),lt(()=>r.value.map(x=>x.linked_product_id).join(","),u);const c=Ae([]);er(async()=>{try{const x=await Pe.get("/admin/products/list");c.value=Array.isArray(x.data)?x.data:x.data.data??[]}catch{c.value=[]}});function f(x){return x?x.sku?`${x.name} (SKU: ${x.sku})`:x.name:""}function p(x,P){if(!P)return!0;const k=(x.name||"").toLowerCase(),j=(x.sku||"").toLowerCase(),B=P.toLowerCase();return k.includes(B)||j.includes(B)}const v=Ae(null),m=Ae({name:"",linked_product_id:"",icon_path:"",product:null,image:""});function g(x){v.value=x;const P=r.value[x],k=c.value.find(j=>j.id===P.linked_product_id)||null;m.value={name:P.name||"",linked_product_id:P.linked_product_id||"",icon_path:P.icon_path||"",image:P.icon_path||"",product:k}}function b(){v.value="add",m.value={name:"",linked_product_id:"",icon_path:"",image:"",product:null}}function S(x){if(v.value!==null){if(!m.value.name||!m.value.product){alert("Будь ласка, заповніть усі поля перед збереженням кольору.");return}r.value[x]={...r.value[x],name:m.value.name,linked_product_id:m.value.product.id,icon_path:m.value.image||""},d("update:modelValue",[...r.value]),V()}}function O(){if(!m.value.name||!m.value.product){alert("Будь ласка, заповніть усі поля перед додаванням кольору.");return}r.value.push({name:m.value.name,linked_product_id:m.value.product.id,icon_path:m.value.image||"",product_id:i.productId}),d("update:modelValue",[...r.value]),V()}function V(){v.value=null,m.value={name:"",linked_product_id:"",icon_path:"",product:null,image:""}}function A(x){r.value.splice(x,1),d("update:modelValue",[...r.value])}async function w(x){if(!x)return"";if(!i.productId)return alert("ID продукту не знайдено. Збережіть товар перед додаванням фото!"),"";const P=new FormData;P.append("image",x),P.append("product_id",i.productId);try{const k=await Pe.post("/api/upload-image-color",P,{headers:{"Content-Type":"multipart/form-data"}});return console.log("uploadImage response:",k.data),k.data.url||""}catch(k){return console.error("uploadImage error:",k),alert("Помилка завантаження зображення!"),""}}async function E(x){const P=x.target.files[0];if(!P)return;const k=await w(P);k&&(m.value.image=k)}return(x,P)=>(h(),y("div",am,[P[8]||(P[8]=o("h5",{class:"fw-bold mb-3"},"Кольори товару",-1)),o("div",dm,[(h(!0),y(re,null,ve(r.value,(k,j)=>(h(),y("div",{key:k.id||j,class:"position-relative bg-white rounded-4 border p-4 mb-3 shadow-sm"},[o("div",um,[o("div",cm,[v.value!==j?(h(),y("button",{key:0,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>g(j)},P[4]||(P[4]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#222","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M15.232 5.232a2.828 2.828 0 1 1 4 4L7.5 21H3v-4.5l12.232-12.268z"})],-1),o("span",{class:"d-none d-md-inline"},"Редагувати",-1)]),8,fm)):$("",!0),v.value!==j?(h(),y("button",{key:1,class:"btn btn-outline-danger btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>A(j)},P[5]||(P[5]=[o("i",{class:"bi bi-trash"},null,-1)]),8,mm)):$("",!0),v.value===j?(h(),y("button",{key:2,class:"btn btn-success btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:B=>S(j)},P[6]||(P[6]=[o("svg",{width:"18",height:"18",fill:"none",stroke:"#fff","stroke-width":"2",viewBox:"0 0 24 24"},[o("path",{d:"M5 13l4 4L19 7"})],-1),o("span",{class:"d-none d-md-inline"},"Зберегти",-1)]),8,pm)):$("",!0),v.value===j?(h(),y("button",{key:3,class:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-1",style:{"border-radius":"8px"},onClick:V},P[7]||(P[7]=[o("span",null,"Скасувати",-1)]))):$("",!0)])]),v.value===j?(h(),y("div",vm,[o("div",gm,[U(o("input",{"onUpdate:modelValue":P[0]||(P[0]=B=>m.value.name=B),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[L,m.value.name]])]),o("div",hm,[Q(Dt(Vt),{modelValue:m.value.product,"onUpdate:modelValue":P[1]||(P[1]=B=>m.value.product=B),options:c.value,searchable:!0,"custom-label":f,filter:p,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Xe(({option:B})=>[o("div",bm,[B.image?(h(),y("img",{key:0,src:t(B.image),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,ym)):$("",!0),o("span",xm,T(f(B)),1)])]),singleLabel:Xe(({option:B})=>[o("div",Sm,[B.image?(h(),y("img",{key:0,src:t(B.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,wm)):$("",!0),o("span",null,T(f(B)),1)])]),_:1},8,["modelValue","options"])]),o("div",Em,[o("input",{type:"file",class:"form-control mb-3",onChange:E},null,32),m.value.image?(h(),y("img",{key:0,src:t(m.value.image),alt:"",class:"color-img-preview mb-2"},null,8,Om)):$("",!0)])])):(h(),y("div",km,[k.icon_path?(h(),y("img",{key:0,src:a(k.icon_path),alt:"color image",class:"me-4",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"10px",border:"2px solid #f2f4f8",background:"#fff"}},null,8,Cm)):$("",!0),o("div",null,[o("div",Im,T(k.name),1),s.value[k.linked_product_id]?(h(),y("div",Pm,[o("a",{href:l(s.value[k.linked_product_id].slug),target:"_blank",class:"text-primary fw-bold"},T(s.value[k.linked_product_id].name),9,Tm),o("span",Am,"SKU: "+T(s.value[k.linked_product_id].sku),1)])):k.linked_product_id?(h(),y("div",Dm," ID товару: "+T(k.linked_product_id)+" (товар не знайдено) ",1)):$("",!0)])]))]))),128)),v.value==="add"?(h(),y("div",$m,[o("div",Vm,[o("div",Um,[U(o("input",{"onUpdate:modelValue":P[2]||(P[2]=k=>m.value.name=k),type:"text",class:"form-control mb-3",placeholder:"Назва кольору"},null,512),[[L,m.value.name]])]),o("div",Mm,[Q(Dt(Vt),{modelValue:m.value.product,"onUpdate:modelValue":P[3]||(P[3]=k=>m.value.product=k),options:c.value,searchable:!0,"custom-label":f,filter:p,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Виберіть продукт",label:"name","track-by":"id",class:"mb-3 multiselect-fullwidth"},{option:Xe(({option:k})=>[o("div",jm,[k.image?(h(),y("img",{key:0,src:t(k.image),alt:"",style:{width:"44px",height:"44px","object-fit":"cover","border-radius":"8px"}},null,8,Lm)):$("",!0),o("span",Bm,T(f(k)),1)])]),singleLabel:Xe(({option:k})=>[o("div",Fm,[k.image?(h(),y("img",{key:0,src:t(k.image),alt:"",style:{width:"38px",height:"38px","object-fit":"cover","border-radius":"7px"}},null,8,Rm)):$("",!0),o("span",null,T(f(k)),1)])]),_:1},8,["modelValue","options"])]),o("div",Nm,[o("input",{type:"file",class:"form-control mb-3",onChange:E},null,32),m.value.image?(h(),y("img",{key:0,src:t(m.value.image),alt:"",class:"color-img-preview mb-2"},null,8,Gm)):$("",!0)]),o("div",{class:"col-12 d-flex gap-2"},[o("button",{type:"button",class:"btn btn-success flex-fill",onClick:O}," Додати "),o("button",{type:"button",class:"btn btn-outline-secondary flex-fill",onClick:V}," Скасувати ")])])])):$("",!0)]),o("div",{class:"mt-3"},[o("button",{class:"btn btn-primary w-100",onClick:b}," + Додати колір ")])]))}},Km=le(zm,[["__scopeId","data-v-3a3fee54"]]),Hm={name:"ProductEdit",components:{ProductHeader:Wd,ProductTitles:iu,ProductSeo:mu,ProductImages:Su,ProductDescription:Bc,ProductPrice:Jc,ProductCategory:rf,ProductSizeGuide:vf,ProductVariants:Rf,ProductAttributes:lm,ProductColors:Km},props:{productId:{type:[Number,String],required:!0}},data(){return{form:{name_uk:"",slug_uk:"",name_ru:"",slug_ru:"",meta_title_uk:"",meta_description_uk:"",meta_title_ru:"",meta_description_ru:"",price:"",old_price:"",sku:"",barcode:"",quantity_in_stock:"",status:!1,is_popular:!1,categories:[],variants:[],attributes:[],colors:[],description:{uk:[],ru:[]},size_guide_id:"",images:[]},errors:{},categoryOptions:[],productOptions:[],loading:!0}},async created(){await this.fetchCategories(),await this.fetchProduct(),await this.fetchProductOptions(),this.loading=!1},methods:{updateForm(n){n.categories&&(n.categories=[...new Set(n.categories)]),this.form={...this.form,...n}},async fetchProduct(){try{const{data:n}=await Pe.get(`/admin/products/${this.productId}/edit`),e=n.product,i=n.attributes||{uk:[],ru:[]},d=e.translations.find(s=>s.locale==="uk")||{},r=e.translations.find(s=>s.locale==="ru")||{};Object.assign(this.form,{id:e.id,name_uk:d.name||"",slug_uk:d.slug||"",meta_title_uk:d.meta_title||"",meta_description_uk:d.meta_description||"",name_ru:r.name||"",slug_ru:r.slug||"",meta_title_ru:r.meta_title||"",meta_description_ru:r.meta_description||"",old_price:e.old_price,price:e.price,sku:e.sku,barcode:e.barcode,quantity_in_stock:e.quantity_in_stock,status:!!e.status,is_popular:!!e.is_popular,categories:e.categories?e.categories.map(s=>s.id):[],size_guide_id:e.size_guide_id,images:e.images||[],variants:e.variants||[],attributes:i,colors:e.colors||[],description:{uk:d.description?JSON.parse(d.description):[],ru:r.description?JSON.parse(r.description):[]}})}catch{alert("Помилка завантаження продукту")}},async fetchCategories(){try{const{data:n}=await Pe.get("/api/category-select/uk");this.categoryOptions=n}catch{this.categoryOptions=[]}},async fetchProductOptions(){try{const n=await Pe.get("/admin/products/list");console.log("fetchProductOptions response:",n);const e=n.data;console.log("fetchProductOptions data:",e),this.productOptions=Array.isArray(e)?e:e.products||[],console.log("productOptions set to:",this.productOptions)}catch(n){console.error("fetchProductOptions error:",n),this.productOptions=[]}},async submitForm(){this.errors={},this.form.categories=[...new Set(this.form.categories)],console.log("[DEBUG SUBMIT PAYLOAD]",JSON.stringify(this.form,null,2));const n=new FormData;n.append("form",JSON.stringify(this.form)),(this.form.images||[]).forEach(i=>{i.file&&n.append("images[]",i.file)});const e=(this.form.images||[]).map(i=>({position:i.position,is_main:i.is_main,url:i.url||null}));n.append("images_meta",JSON.stringify(e));try{await Pe.post(`/admin/products/${this.productId}?_method=PUT`,n,{headers:{"Content-Type":"multipart/form-data"}}),window.location.href="/admin/products",alert("Товар успішно оновлено!")}catch(i){i.response&&i.response.status===422?this.errors=Object.fromEntries(Object.entries(i.response.data.errors).map(([d,r])=>[d,r[0]])):alert("Сталася помилка при збереженні!")}}}},_m={class:"p-4"},Wm={class:"row"},Xm={class:"col-md-8"},Ym={class:"col-md-4"};function Jm(n,e,i,d,r,s){const t=de("ProductHeader"),a=de("ProductTitles"),l=de("ProductSeo"),u=de("ProductImages"),c=de("ProductPrice"),f=de("ProductCategory"),p=de("ProductSizeGuide"),v=de("ProductDescription"),m=de("ProductVariants"),g=de("ProductAttributes"),b=de("ProductColors");return h(),y("div",_m,[Q(t,{onSubmit:s.submitForm},null,8,["onSubmit"]),o("div",Wm,[o("div",Xm,[Q(a,{form:r.form,errors:r.errors},null,8,["form","errors"]),Q(l,{form:r.form,errors:r.errors},null,8,["form","errors"]),Q(u,{modelValue:r.form.images,"onUpdate:modelValue":e[0]||(e[0]=S=>r.form.images=S)},null,8,["modelValue"])]),o("div",Ym,[Q(c,{form:r.form,errors:r.errors,"onUpdate:form":s.updateForm},null,8,["form","errors","onUpdate:form"]),Q(f,{modelValue:r.form.categories,"onUpdate:modelValue":e[1]||(e[1]=S=>r.form.categories=S),categories:r.categoryOptions,errors:r.errors},null,8,["modelValue","categories","errors"]),Q(p,{modelValue:r.form.size_guide_id,"onUpdate:modelValue":e[2]||(e[2]=S=>r.form.size_guide_id=S),errors:r.errors},null,8,["modelValue","errors"])])]),Q(v,{modelValue:r.form.description,"onUpdate:modelValue":e[3]||(e[3]=S=>r.form.description=S),"product-id":r.form.id||""},null,8,["modelValue","product-id"]),Q(m,{modelValue:r.form.variants,"onUpdate:modelValue":e[4]||(e[4]=S=>r.form.variants=S),errors:r.errors},null,8,["modelValue","errors"]),Q(g,{modelValue:r.form.attributes,"onUpdate:modelValue":e[5]||(e[5]=S=>r.form.attributes=S),errors:r.errors},null,8,["modelValue","errors"]),Q(b,{modelValue:r.form.colors,"onUpdate:modelValue":e[6]||(e[6]=S=>r.form.colors=S),"product-id":r.form.id||"",errors:r.errors},null,8,["modelValue","product-id","errors"])])}const Qm=le(Hm,[["render",Jm]]),Zm={name:"CategoryTable",props:{categories:{type:Array,required:!0}},data(){return{menuOpen:null}},methods:{getTranslation(n,e="name",i="uk"){var r;const d=(r=n==null?void 0:n.translations)==null?void 0:r.find(s=>s.locale===i);return d?d[e]??"":""},statusLabel(n){return n==1||n===!0?"Опубліковано":n==0||n===!1?"Неактивний":""},statusClass(n){return n==1||n===!0?"status-publish":n==0||n===!1?"status-inactive":""},openMenu(n){this.menuOpen=this.menuOpen===n?null:n},closeMenu(){this.menuOpen=null},download(n){alert(`Download category #${n.id}`)},deleteCategory(n){confirm("Видалити категорію?")&&alert(`Категорія ${n.id} видалена (тут axios)`)},duplicate(n){alert(`Duplicate category #${n.id}`)}}},qm={class:"filters mb-4 card",style:{"border-radius":"5px"}},ep={class:"table align-middle category-table-modern"},tp={class:"actions-cell"},rp=["href"],np=["onClick"],op=["onClick"],ip=["onClick"],sp=["onClick"];function lp(n,e,i,d,r,s){return h(),y("div",qm,[o("table",ep,[e[6]||(e[6]=o("thead",null,[o("tr",null,[o("th",null,"ID"),o("th",null,"Category"),o("th",null,"Description"),o("th",null,"Status"),o("th",{class:"text-end"},"Actions")])],-1)),o("tbody",null,[(h(!0),y(re,null,ve(i.categories,t=>(h(),y("tr",{key:t.id},[o("td",null,T(t.id),1),o("td",null,T(s.getTranslation(t,"name","uk")),1),o("td",null,T(s.getTranslation(t,"meta_title","uk")),1),o("td",null,[o("span",{class:Y(["status-badge",s.statusClass(t.status)])},T(s.statusLabel(t.status)),3)]),o("td",tp,[o("a",{href:`/admin/categories/${t.id}/edit`,class:"edit-btn text-dark",title:"Редагувати"},e[1]||(e[1]=[o("i",{class:"bi bi-pencil-square"},null,-1)]),8,rp),o("button",{class:"dots-menu",onClick:a=>s.openMenu(t.id),type:"button",title:"Ще дії"},e[2]||(e[2]=[o("i",{class:"bi bi-three-dots-vertical"},null,-1)]),8,np),r.menuOpen===t.id?(h(),y("div",{key:0,class:"dropdown-menu show",onMouseleave:e[0]||(e[0]=(...a)=>s.closeMenu&&s.closeMenu(...a))},[o("a",{class:"dropdown-item",onClick:oe(a=>s.download(t),["prevent"])},e[3]||(e[3]=[o("i",{class:"bi bi-download me-2"},null,-1),pe(" Download ",-1)]),8,op),o("a",{class:"dropdown-item text-danger",onClick:oe(a=>s.deleteCategory(t),["prevent"])},e[4]||(e[4]=[o("i",{class:"bi bi-trash me-2"},null,-1),pe(" Delete ",-1)]),8,ip),o("a",{class:"dropdown-item",onClick:oe(a=>s.duplicate(t),["prevent"])},e[5]||(e[5]=[o("i",{class:"bi bi-files me-2"},null,-1),pe(" Duplicate ",-1)]),8,sp)],32)):$("",!0)])]))),128))])])])}const ap=le(Zm,[["render",lp],["__scopeId","data-v-9064b5ba"]]),dp={components:{CategoryTable:ap},data(){return{categories:[]}},methods:{async loadCategories(){const n=await Pe.get("/api/categories/list-admin");this.categories=n.data}},mounted(){this.loadCategories()}};function up(n,e,i,d,r,s){const t=de("CategoryTable");return h(),y("div",null,[e[0]||(e[0]=Or('<div class="d-flex justify-content-between align-items-center mb-3" data-v-2a25ee4e><h4 class="mb-0 fw-bold" data-v-2a25ee4e>Категорії</h4><a href="/admin/categories/create" class="d-inline-flex align-items-center px-4 py-2" style="background:linear-gradient(to right, #6366f1, #8b5cf6);border:none;border-radius:12px;color:#fff;font-weight:600;font-size:15px;text-decoration:none;box-shadow:0 4px 10px rgba(99, 102, 241, 0.15);transition:background 0.3s;" data-v-2a25ee4e><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-folder-plus me-2" viewBox="0 0 16 16" data-v-2a25ee4e><path d="M9.828 4a.5.5 0 0 0-.354.146l-.646.647-2-2A1 1 0 0 0 5.586 2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H9.828zM2 3h3.586a1 1 0 0 1 .707.293l2 2H14a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm7 7a.5.5 0 0 1 .5-.5h1v-1a.5.5 0 0 1 1 0v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1-.5-.5z" data-v-2a25ee4e></path></svg> Додати категорію </a></div>',1)),Q(t,{categories:r.categories,onReload:s.loadCategories},null,8,["categories","onReload"])])}const cp=le(dp,[["render",up],["__scopeId","data-v-2a25ee4e"]]),fp={name:"CategoryHeader",props:{title:{type:String,default:"Додати/Редагувати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},mp={class:"d-flex justify-content-between align-items-center mb-4"},pp={class:"fw-bold mb-0"},vp={class:"top-actions"};function gp(n,e,i,d,r,s){return h(),y("div",mp,[o("div",null,[o("h5",pp,T(i.title),1)]),o("div",vp,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>n.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>n.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>n.$emit("submit"))},T(i.publishLabel),1)])])}const hp=le(fp,[["render",gp],["__scopeId","data-v-449badfd"]]),bp={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(n){this.$emit("clear-error",n)}}},yp={class:"card mb-4 p-3"},xp={class:"mb-3"},Sp={key:0,class:"invalid-feedback"},wp={class:"mb-3"},Ep={key:0,class:"invalid-feedback"},Op={class:"mb-3"},kp={key:0,class:"invalid-feedback"},Cp={class:"mb-3"},Ip={key:0,class:"invalid-feedback"};function Pp(n,e,i,d,r,s){var t,a,l,u,c,f,p,v;return h(),y("div",yp,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",xp,[e[8]||(e[8]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),name:"name_uk","onUpdate:modelValue":e[0]||(e[0]=m=>i.form.name_uk=m),onInput:e[1]||(e[1]=m=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[L,i.form.name_uk]]),(a=i.errors)!=null&&a.name_uk?(h(),y("div",Sp,T(i.errors.name_uk),1)):$("",!0)]),o("div",wp,[e[9]||(e[9]=o("label",{class:"form-label"},"Slug (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(l=i.errors)==null?void 0:l.slug_uk}]),name:"slug_uk","onUpdate:modelValue":e[2]||(e[2]=m=>i.form.slug_uk=m),onInput:e[3]||(e[3]=m=>s.clearError("slug_uk")),autocomplete:"off"},null,34),[[L,i.form.slug_uk]]),(u=i.errors)!=null&&u.slug_uk?(h(),y("div",Ep,T(i.errors.slug_uk),1)):$("",!0)]),o("div",Op,[e[10]||(e[10]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(c=i.errors)==null?void 0:c.name_ru}]),name:"name_ru","onUpdate:modelValue":e[4]||(e[4]=m=>i.form.name_ru=m),onInput:e[5]||(e[5]=m=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[L,i.form.name_ru]]),(f=i.errors)!=null&&f.name_ru?(h(),y("div",kp,T(i.errors.name_ru),1)):$("",!0)]),o("div",Cp,[e[11]||(e[11]=o("label",{class:"form-label"},"Slug (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.slug_ru}]),name:"slug_ru","onUpdate:modelValue":e[6]||(e[6]=m=>i.form.slug_ru=m),onInput:e[7]||(e[7]=m=>s.clearError("slug_ru")),autocomplete:"off"},null,34),[[L,i.form.slug_ru]]),(v=i.errors)!=null&&v.slug_ru?(h(),y("div",Ip,T(i.errors.slug_ru),1)):$("",!0)])])}const Tp=le(bp,[["render",Pp]]),Ap={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(n){this.$emit("clear-error",n)}}},Dp={class:"card mb-4 p-3"},$p={class:"mb-3"},Vp={key:0,class:"invalid-feedback"},Up={class:"mb-3"},Mp={key:0,class:"invalid-feedback"},jp={class:"mb-3"},Lp={key:0,class:"invalid-feedback"},Bp={class:"mb-3"},Fp={key:0,class:"invalid-feedback"};function Rp(n,e,i,d,r,s){var t,a,l,u,c,f,p,v;return h(),y("div",Dp,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",$p,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=m=>i.form.meta_title_uk=m),onInput:e[1]||(e[1]=m=>s.clearError("meta_title_uk"))},null,34),[[L,i.form.meta_title_uk]]),(a=i.errors)!=null&&a.meta_title_uk?(h(),y("div",Vp,T(i.errors.meta_title_uk),1)):$("",!0)]),o("div",Up,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),U(o("textarea",{class:Y(["form-control",{"is-invalid":(l=i.errors)==null?void 0:l.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=m=>i.form.meta_description_uk=m),onInput:e[3]||(e[3]=m=>s.clearError("meta_description_uk"))},null,34),[[L,i.form.meta_description_uk]]),(u=i.errors)!=null&&u.meta_description_uk?(h(),y("div",Mp,T(i.errors.meta_description_uk),1)):$("",!0)]),o("div",jp,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(c=i.errors)==null?void 0:c.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=m=>i.form.meta_title_ru=m),onInput:e[5]||(e[5]=m=>s.clearError("meta_title_ru"))},null,34),[[L,i.form.meta_title_ru]]),(f=i.errors)!=null&&f.meta_title_ru?(h(),y("div",Lp,T(i.errors.meta_title_ru),1)):$("",!0)]),o("div",Bp,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),U(o("textarea",{class:Y(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=m=>i.form.meta_description_ru=m),onInput:e[7]||(e[7]=m=>s.clearError("meta_description_ru"))},null,34),[[L,i.form.meta_description_ru]]),(v=i.errors)!=null&&v.meta_description_ru?(h(),y("div",Fp,T(i.errors.meta_description_ru),1)):$("",!0)])])}const Np=le(Ap,[["render",Rp]]),Gp={name:"CategoryDescription",props:{modelValue:{type:Object,default:()=>({uk:[],ru:[]})},categoryId:{type:[String,Number],required:!0}},data(){return{lang:"uk",blocks:{uk:[],ru:[]},editIdx:null,editForm:{title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""},addMode:!1,newBlock:{type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""},uploading:!1}},watch:{modelValue:{immediate:!0,deep:!0,handler(n){this.blocks={uk:Array.isArray(n.uk)?JSON.parse(JSON.stringify(n.uk)):[],ru:Array.isArray(n.ru)?JSON.parse(JSON.stringify(n.ru)):[]}}}},methods:{switchLang(n){this.lang=n,this.cancelEdit(),this.cancelAddBlock()},editBlock(n){this.editIdx=n,this.editForm={...this.blocks[this.lang][n]}},cancelEdit(){this.editIdx=null,this.editForm={title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:"",type:""}},async saveEditBlock(n){this.editIdx!==null&&(this.blocks[this.lang][this.editIdx]={...this.editForm,_key:this.blocks[this.lang][this.editIdx]._key,type:this.blocks[this.lang][this.editIdx].type},this.cancelEdit(),this.$emit("update:modelValue",this.blocks))},deleteBlock(n){this.blocks[this.lang].splice(n,1),this.$emit("update:modelValue",this.blocks),this.editIdx===n&&this.cancelEdit()},async uploadImage(n){const e=new FormData;e.append("image",n),e.append("category_id",this.categoryId),this.uploading=!0;try{const i=await Pe.post("/api/upload-image-category",e,{headers:{"Content-Type":"multipart/form-data"}});return this.uploading=!1,i.data.url}catch{return this.uploading=!1,alert("Помилка завантаження зображення!"),""}},async onImageChange(n,e,i=null){const d=n.target.files[0];if(!d)return;const r=await this.uploadImage(d);r&&(e==="image_right"||e==="image_left"?this.editForm.imageUrl=r:e==="two_images"&&i===1?this.editForm.imageUrl1=r:e==="two_images"&&i===2&&(this.editForm.imageUrl2=r))},startAddBlock(){this.addMode=!0,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},cancelAddBlock(){this.addMode=!1,this.newBlock={type:"",title:"",text:"",imageUrl:"",imageUrl1:"",imageUrl2:""}},async saveNewBlock(){if(!this.newBlock.type)return;const n=Date.now()+Math.floor(Math.random()*1e3),e={...this.newBlock,_key:n};this.blocks[this.lang].push(e),this.addMode=!1,this.$emit("update:modelValue",this.blocks),this.cancelAddBlock()},async onAddImage(n,e){const i=n.target.files[0];if(!i)return;const d=await this.uploadImage(i);d&&(e==="single"?this.newBlock.imageUrl=d:e===1?this.newBlock.imageUrl1=d:e===2&&(this.newBlock.imageUrl2=d))}}},zp={class:"card mb-4 p-4"},Kp={class:"nav nav-tabs mb-3"},Hp={class:"nav-item"},_p={class:"nav-item"},Wp={key:0},Xp={class:"desc-action-bar"},Yp=["onClick"],Jp=["onClick"],Qp={class:"mb-3"},Zp={class:"mb-3"},qp={key:1,class:"row"},ev={class:"col-md-6 mb-3"},tv={class:"col-md-6 mb-3"},rv={key:0,class:"mt-2"},nv=["src"],ov={key:2,class:"row"},iv={class:"col-md-6 mb-3"},sv={key:0,class:"mt-2"},lv=["src"],av={class:"col-md-6 mb-3"},dv={key:3,class:"row"},uv={class:"col-md-6 mb-3"},cv={key:0,class:"mt-2"},fv=["src"],mv={class:"col-md-6 mb-3"},pv={key:0,class:"mt-2"},vv=["src"],gv={key:0,class:"mb-4"},hv={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},bv={style:{"font-size":"1.05rem"}},yv={key:1,class:"row align-items-center mb-4"},xv={class:"col-md-6 mb-3 mb-md-0"},Sv={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},wv={style:{"font-size":"1.05rem"}},Ev={class:"col-md-6 d-flex justify-content-center"},Ov=["src"],kv={key:2,class:"row align-items-center mb-4"},Cv={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Iv=["src"],Pv={class:"col-md-6"},Tv={class:"fw-bold mb-2",style:{"font-size":"1.15rem"}},Av={style:{"font-size":"1.05rem"}},Dv={key:3,class:"row align-items-center mb-4"},$v={class:"col-md-6 d-flex justify-content-center mb-3 mb-md-0"},Vv=["src"],Uv={class:"col-md-6 d-flex justify-content-center"},Mv=["src"],jv={key:1,class:"text-muted"},Lv={class:"mt-4"},Bv={class:"row g-3 align-items-stretch"},Fv={class:"col-12"},Rv={class:"col-12"},Nv={class:"col-12"},Gv={class:"col-md-6 col-12"},zv={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Kv={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Hv=["src"],_v={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Wv={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Xv=["src"],Yv={class:"col-md-6 col-12"},Jv={class:"col-md-6 col-12 d-flex flex-column align-items-center"},Qv={key:0,class:"mt-2 w-100 d-flex justify-content-center"},Zv=["src"],qv={class:"col-md-6 col-12 d-flex flex-column align-items-center"},eg={key:0,class:"mt-2 w-100 d-flex justify-content-center"},tg=["src"],rg={class:"col-12 d-flex gap-2 mt-3"};function ng(n,e,i,d,r,s){return h(),y("div",zp,[e[44]||(e[44]=o("h6",{class:"fw-bold mb-3"},"Опис категорії",-1)),o("ul",Kp,[o("li",Hp,[o("button",{class:Y(["nav-link",{active:r.lang==="uk"}]),onClick:e[0]||(e[0]=t=>s.switchLang("uk")),type:"button"},"Українська",2)]),o("li",_p,[o("button",{class:Y(["nav-link",{active:r.lang==="ru"}]),onClick:e[1]||(e[1]=t=>s.switchLang("ru")),type:"button"},"Російська",2)])]),r.blocks[r.lang]&&r.blocks[r.lang].length?(h(),y("div",Wp,[(h(!0),y(re,null,ve(r.blocks[r.lang],(t,a)=>(h(),y("div",{key:t._key,class:"desc-block mb-4 position-relative"},[o("div",Xp,[r.editIdx!==a?(h(),y(re,{key:0},[o("button",{class:"btn btn-outline-secondary btn-sm me-2",onClick:l=>s.editBlock(a)},e[28]||(e[28]=[o("i",{class:"bi bi-pencil"},null,-1),pe(" Редагувати ",-1)]),8,Yp),o("button",{class:"btn btn-outline-danger btn-sm",onClick:l=>s.deleteBlock(a)},e[29]||(e[29]=[o("i",{class:"bi bi-trash"},null,-1)]),8,Jp)],64)):$("",!0)]),r.editIdx===a?(h(),y("form",{key:0,onSubmit:e[13]||(e[13]=oe(l=>s.saveEditBlock(r.editIdx),["prevent"]))},[r.editForm.type==="text"?(h(),y(re,{key:0},[o("div",Qp,[e[30]||(e[30]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]])]),o("div",Zp,[e[31]||(e[31]=o("label",{class:"form-label"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[3]||(e[3]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])])],64)):r.editForm.type==="image_right"?(h(),y("div",qp,[o("div",ev,[e[32]||(e[32]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]]),e[33]||(e[33]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[5]||(e[5]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])]),o("div",tv,[e[34]||(e[34]=o("label",{class:"form-label"},"Картинка справа",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[6]||(e[6]=l=>s.onImageChange(l,"image_right"))},null,32),r.editForm.imageUrl?(h(),y("div",rv,[o("img",{src:r.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,nv)])):$("",!0)])])):r.editForm.type==="image_left"?(h(),y("div",ov,[o("div",iv,[e[35]||(e[35]=o("label",{class:"form-label"},"Картинка зліва",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[7]||(e[7]=l=>s.onImageChange(l,"image_left"))},null,32),r.editForm.imageUrl?(h(),y("div",sv,[o("img",{src:r.editForm.imageUrl,style:{width:"100%","max-width":"300px"}},null,8,lv)])):$("",!0)]),o("div",av,[e[36]||(e[36]=o("label",{class:"form-label"},"Заголовок",-1)),U(o("input",{class:"form-control","onUpdate:modelValue":e[8]||(e[8]=l=>r.editForm.title=l)},null,512),[[L,r.editForm.title]]),e[37]||(e[37]=o("label",{class:"form-label mt-3"},"Текст",-1)),U(o("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":e[9]||(e[9]=l=>r.editForm.text=l)},null,512),[[L,r.editForm.text]])])])):r.editForm.type==="two_images"?(h(),y("div",dv,[o("div",uv,[e[38]||(e[38]=o("label",{class:"form-label"},"Картинка 1",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[10]||(e[10]=l=>s.onImageChange(l,"two_images",1))},null,32),r.editForm.imageUrl1?(h(),y("div",cv,[o("img",{src:r.editForm.imageUrl1,style:{width:"100%","max-width":"300px"}},null,8,fv)])):$("",!0)]),o("div",mv,[e[39]||(e[39]=o("label",{class:"form-label"},"Картинка 2",-1)),o("input",{type:"file",class:"form-control",accept:"image/*",onChange:e[11]||(e[11]=l=>s.onImageChange(l,"two_images",2))},null,32),r.editForm.imageUrl2?(h(),y("div",pv,[o("img",{src:r.editForm.imageUrl2,style:{width:"100%","max-width":"300px"}},null,8,vv)])):$("",!0)])])):$("",!0),e[40]||(e[40]=o("button",{class:"btn btn-success me-2",type:"submit"},"Оновити",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[12]||(e[12]=oe((...l)=>s.cancelEdit&&s.cancelEdit(...l),["prevent"]))},"Відміна")],32)):(h(),y(re,{key:1},[t.type==="text"?(h(),y("div",gv,[o("div",hv,T(t.title),1),o("div",bv,T(t.text),1)])):t.type==="image_right"?(h(),y("div",yv,[o("div",xv,[o("div",Sv,T(t.title),1),o("div",wv,T(t.text),1)]),o("div",Ev,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Ov)])])):t.type==="image_left"?(h(),y("div",kv,[o("div",Cv,[o("img",{src:t.imageUrl,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Iv)]),o("div",Pv,[o("div",Tv,T(t.title),1),o("div",Av,T(t.text),1)])])):t.type==="two_images"?(h(),y("div",Dv,[o("div",$v,[o("img",{src:t.imageUrl1,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Vv)]),o("div",Uv,[o("img",{src:t.imageUrl2,alt:"",class:"img-fluid rounded",style:{"max-height":"520px","object-fit":"contain"}},null,8,Mv)])])):$("",!0)],64))]))),128))])):(h(),y("div",jv," Опис для цієї мови ще не доданий. ")),o("div",Lv,[r.addMode?$("",!0):(h(),y("button",{key:0,class:"btn btn-primary",onClick:e[14]||(e[14]=(...t)=>s.startAddBlock&&s.startAddBlock(...t)),type:"button"}," + Додати блок ")),r.addMode?(h(),y("form",{key:1,onSubmit:e[27]||(e[27]=oe((...t)=>s.saveNewBlock&&s.saveNewBlock(...t),["prevent"])),class:"card p-3 mt-2"},[o("div",Bv,[o("div",Fv,[e[42]||(e[42]=o("label",{class:"form-label"},"Тип блоку",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[15]||(e[15]=t=>r.newBlock.type=t),required:""},e[41]||(e[41]=[Or('<option value="" disabled data-v-288100ff>Оберіть тип</option><option value="text" data-v-288100ff>Текст</option><option value="image_right" data-v-288100ff>Картинка справа</option><option value="image_left" data-v-288100ff>Картинка зліва</option><option value="two_images" data-v-288100ff>Дві картинки</option>',5)]),512),[[Et,r.newBlock.type]])]),r.newBlock.type==="text"?(h(),y(re,{key:0},[o("div",Rv,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[16]||(e[16]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]])]),o("div",Nv,[U(o("textarea",{class:"form-control","onUpdate:modelValue":e[17]||(e[17]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"150px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])])],64)):r.newBlock.type==="image_right"?(h(),y(re,{key:1},[o("div",Gv,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[18]||(e[18]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[19]||(e[19]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])]),o("div",zv,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[20]||(e[20]=t=>s.onAddImage(t,"single"))},null,32),r.newBlock.imageUrl?(h(),y("div",Kv,[o("img",{src:r.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,Hv)])):$("",!0)])],64)):r.newBlock.type==="image_left"?(h(),y(re,{key:2},[o("div",_v,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[21]||(e[21]=t=>s.onAddImage(t,"single"))},null,32),r.newBlock.imageUrl?(h(),y("div",Wv,[o("img",{src:r.newBlock.imageUrl,style:{"max-width":"250px","border-radius":"10px"}},null,8,Xv)])):$("",!0)]),o("div",Yv,[U(o("input",{class:"form-control mb-2","onUpdate:modelValue":e[22]||(e[22]=t=>r.newBlock.title=t),placeholder:"Заголовок"},null,512),[[L,r.newBlock.title]]),U(o("textarea",{class:"form-control","onUpdate:modelValue":e[23]||(e[23]=t=>r.newBlock.text=t),placeholder:"Текст",rows:"10",style:{"min-height":"130px","border-radius":"18px","font-size":"1.15rem",padding:"18px"}},null,512),[[L,r.newBlock.text]])])],64)):r.newBlock.type==="two_images"?(h(),y(re,{key:3},[o("div",Jv,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[24]||(e[24]=t=>s.onAddImage(t,1))},null,32),r.newBlock.imageUrl1?(h(),y("div",Qv,[o("img",{src:r.newBlock.imageUrl1,style:{"max-width":"130px","border-radius":"10px"}},null,8,Zv)])):$("",!0)]),o("div",qv,[o("input",{type:"file",class:"form-control mb-2",accept:"image/*",onChange:e[25]||(e[25]=t=>s.onAddImage(t,2))},null,32),r.newBlock.imageUrl2?(h(),y("div",eg,[o("img",{src:r.newBlock.imageUrl2,style:{"max-width":"130px","border-radius":"10px"}},null,8,tg)])):$("",!0)])],64)):$("",!0),o("div",rg,[e[43]||(e[43]=o("button",{class:"btn btn-success",type:"submit"},"Зберегти",-1)),o("button",{class:"btn btn-outline-secondary",onClick:e[26]||(e[26]=oe((...t)=>s.cancelAddBlock&&s.cancelAddBlock(...t),["prevent"]))},"Відміна")])])],32)):$("",!0)])])}const og=le(Gp,[["render",ng],["__scopeId","data-v-288100ff"]]),ig={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0},currentId:{type:[Number,String],default:null}},computed:{parent_id:{get(){return this.form.parent_id??null},set(n){this.$emit("update:form",{...this.form,parent_id:n})}},status:{get(){return typeof this.form.status<"u"?this.form.status:1},set(n){this.$emit("update:form",{...this.form,status:n})}}},methods:{getCategoryName(n){var e;if((e=n.translations)!=null&&e.length){const i=n.translations.find(d=>d.locale==="uk");return(i==null?void 0:i.name)||n.slug||`#${n.id}`}return n.name||n.slug||`#${n.id}`}}},sg={class:"card mb-4 p-4"},lg={class:"mb-3"},ag=["value"];function dg(n,e,i,d,r,s){return h(),y("div",sg,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",lg,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>s.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(h(!0),y(re,null,ve(i.categories.filter(t=>!i.currentId||t.id!==i.currentId),t=>(h(),y("option",{key:t.id,value:t.id},T(s.getCategoryName(t)),9,ag))),128))],512),[[Et,s.parent_id]])]),o("div",null,[e[5]||(e[5]=o("label",{class:"form-label"},"Статус",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>s.status=t)},e[4]||(e[4]=[o("option",{value:1},"Опубліковано",-1),o("option",{value:0},"Неактивний",-1)]),512),[[Et,s.status]])])])}const ug=le(ig,[["render",dg]]),cg={name:"CategoryEdit",components:{CategoryHeader:hp,CategoryTitles:Tp,CategorySEO:Np,CategoryDescription:og,CategoryParent:ug},props:{category:{type:Object,default:null},categories:{type:Array,default:()=>[]}},data(){var i,d,r,s,t,a;const n=((d=(i=this.category)==null?void 0:i.translations)==null?void 0:d.find(l=>l.locale==="uk"))||{},e=((s=(r=this.category)==null?void 0:r.translations)==null?void 0:s.find(l=>l.locale==="ru"))||{};return{form:{name_uk:n.name||"",slug_uk:n.slug||"",meta_title_uk:n.meta_title||"",meta_description_uk:n.meta_description||"",name_ru:e.name||"",slug_ru:e.slug||"",meta_title_ru:e.meta_title||"",meta_description_ru:e.meta_description||"",parent_id:((t=this.category)==null?void 0:t.parent_id)||null,status:typeof((a=this.category)==null?void 0:a.status)<"u"?Number(this.category.status):1,description:{uk:n.description?JSON.parse(n.description):[],ru:e.description?JSON.parse(e.description):[]}},errors:{}}},computed:{isEdit(){return!!this.category},headerTitle(){return this.isEdit?"Редагувати категорію":"Додати категорію"}},methods:{clearError(n){this.errors[n]=null},async saveCategory(){try{await Pe.put(`/admin/categories/${this.category.id}`,this.form),alert("Категорію успішно оновлено!"),this.errors={}}catch(n){console.error("Помилка збереження категорії:",n),n.response&&n.response.data.errors?this.errors=n.response.data.errors:alert("Невідома помилка при збереженні!")}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function fg(n,e,i,d,r,s){var f,p;const t=de("CategoryHeader"),a=de("CategoryTitles"),l=de("CategorySEO"),u=de("CategoryParent"),c=de("CategoryDescription");return h(),y("div",null,[Q(t,{title:s.headerTitle,"publish-label":s.isEdit?"Оновити категорію":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["title","publish-label","onSubmit","onCancel","onDraft"]),Q(a,{form:r.form,errors:r.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(l,{form:r.form,errors:r.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(u,{form:r.form,categories:i.categories,"current-id":((f=i.category)==null?void 0:f.id)||null,"onUpdate:form":e[0]||(e[0]=v=>{r.form.parent_id=v.parent_id,r.form.status=v.status})},null,8,["form","categories","current-id"]),Q(c,{modelValue:r.form.description,"onUpdate:modelValue":e[1]||(e[1]=v=>r.form.description=v),"category-id":((p=i.category)==null?void 0:p.id)||null},null,8,["modelValue","category-id"])])}const mg=le(cg,[["render",fg]]),pg={name:"CategoryHeader",props:{title:{type:String,default:"Додати категорію"},publishLabel:{type:String,default:"Опублікувати категорію"}}},vg={class:"d-flex justify-content-between align-items-center mb-4"},gg={class:"fw-bold mb-0"},hg={class:"top-actions"};function bg(n,e,i,d,r,s){return h(),y("div",vg,[o("div",null,[o("h5",gg,T(i.title),1)]),o("div",hg,[o("button",{type:"button",class:"btn btn-light",onClick:e[0]||(e[0]=t=>n.$emit("cancel"))},"Відхилити"),o("button",{type:"button",class:"btn btn-outline-primary",onClick:e[1]||(e[1]=t=>n.$emit("draft"))},"Зберегти чернетку"),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>n.$emit("submit"))},T(i.publishLabel),1)])])}const yg=le(pg,[["render",bg],["__scopeId","data-v-34db45cf"]]),xg={name:"CategoryTitles",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(n){this.$emit("clear-error",n)}}},Sg={class:"card mb-4 p-3"},wg={class:"mb-3"},Eg={key:0,class:"invalid-feedback"},Og={class:"mb-3"},kg={key:0,class:"invalid-feedback"};function Cg(n,e,i,d,r,s){var t,a,l,u;return h(),y("div",Sg,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Назви та Slug (Категорія)",-1)),o("div",wg,[e[4]||(e[4]=o("label",{class:"form-label"},"Назва (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.name_uk}]),"onUpdate:modelValue":e[0]||(e[0]=c=>i.form.name_uk=c),onInput:e[1]||(e[1]=c=>s.clearError("name_uk")),autocomplete:"off"},null,34),[[L,i.form.name_uk]]),(a=i.errors)!=null&&a.name_uk?(h(),y("div",Eg,T(i.errors.name_uk),1)):$("",!0)]),o("div",Og,[e[5]||(e[5]=o("label",{class:"form-label"},"Назва (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(l=i.errors)==null?void 0:l.name_ru}]),"onUpdate:modelValue":e[2]||(e[2]=c=>i.form.name_ru=c),onInput:e[3]||(e[3]=c=>s.clearError("name_ru")),autocomplete:"off"},null,34),[[L,i.form.name_ru]]),(u=i.errors)!=null&&u.name_ru?(h(),y("div",kg,T(i.errors.name_ru),1)):$("",!0)])])}const Ig=le(xg,[["render",Cg]]),Pg={name:"CategorySEO",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},emits:["clear-error"],methods:{clearError(n){this.$emit("clear-error",n)}}},Tg={class:"card mb-4 p-3"},Ag={class:"mb-3"},Dg={key:0,class:"invalid-feedback"},$g={class:"mb-3"},Vg={key:0,class:"invalid-feedback"},Ug={class:"mb-3"},Mg={key:0,class:"invalid-feedback"},jg={class:"mb-3"},Lg={key:0,class:"invalid-feedback"};function Bg(n,e,i,d,r,s){var t,a,l,u,c,f,p,v;return h(),y("div",Tg,[e[12]||(e[12]=o("h6",{class:"fw-bold mb-3"},"SEO",-1)),o("div",Ag,[e[8]||(e[8]=o("label",{class:"form-label"},"Meta title (укр)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(t=i.errors)==null?void 0:t.meta_title_uk}]),"onUpdate:modelValue":e[0]||(e[0]=m=>i.form.meta_title_uk=m),onInput:e[1]||(e[1]=m=>s.clearError("meta_title_uk"))},null,34),[[L,i.form.meta_title_uk]]),(a=i.errors)!=null&&a.meta_title_uk?(h(),y("div",Dg,T(i.errors.meta_title_uk),1)):$("",!0)]),o("div",$g,[e[9]||(e[9]=o("label",{class:"form-label"},"Meta description (укр)",-1)),U(o("textarea",{class:Y(["form-control",{"is-invalid":(l=i.errors)==null?void 0:l.meta_description_uk}]),rows:"2","onUpdate:modelValue":e[2]||(e[2]=m=>i.form.meta_description_uk=m),onInput:e[3]||(e[3]=m=>s.clearError("meta_description_uk"))},null,34),[[L,i.form.meta_description_uk]]),(u=i.errors)!=null&&u.meta_description_uk?(h(),y("div",Vg,T(i.errors.meta_description_uk),1)):$("",!0)]),o("div",Ug,[e[10]||(e[10]=o("label",{class:"form-label"},"Meta title (рос)",-1)),U(o("input",{type:"text",class:Y(["form-control",{"is-invalid":(c=i.errors)==null?void 0:c.meta_title_ru}]),"onUpdate:modelValue":e[4]||(e[4]=m=>i.form.meta_title_ru=m),onInput:e[5]||(e[5]=m=>s.clearError("meta_title_ru"))},null,34),[[L,i.form.meta_title_ru]]),(f=i.errors)!=null&&f.meta_title_ru?(h(),y("div",Mg,T(i.errors.meta_title_ru),1)):$("",!0)]),o("div",jg,[e[11]||(e[11]=o("label",{class:"form-label"},"Meta description (рос)",-1)),U(o("textarea",{class:Y(["form-control",{"is-invalid":(p=i.errors)==null?void 0:p.meta_description_ru}]),rows:"2","onUpdate:modelValue":e[6]||(e[6]=m=>i.form.meta_description_ru=m),onInput:e[7]||(e[7]=m=>s.clearError("meta_description_ru"))},null,34),[[L,i.form.meta_description_ru]]),(v=i.errors)!=null&&v.meta_description_ru?(h(),y("div",Lg,T(i.errors.meta_description_ru),1)):$("",!0)])])}const Fg=le(Pg,[["render",Bg]]),Rg={name:"CategoryParent",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0}},methods:{getCategoryName(n){var e;if((e=n.translations)!=null&&e.length){const i=n.translations.find(d=>d.locale==="uk");return(i==null?void 0:i.name)||n.slug||`#${n.id}`}return n.name||n.slug||`#${n.id}`}}},Ng={class:"card mb-4 p-4"},Gg={class:"mb-3"},zg=["value"],Kg={class:"d-flex align-items-center gap-3 mt-3"},Hg={class:"status-switch"},_g={class:"switch mb-0"};function Wg(n,e,i,d,r,s){return h(),y("div",Ng,[e[6]||(e[6]=o("h6",{class:"fw-bold mb-3"},"Ієрархія та статус",-1)),o("div",Gg,[e[3]||(e[3]=o("label",{class:"form-label"},"Батьківська категорія",-1)),U(o("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>i.form.parent_id=t)},[e[2]||(e[2]=o("option",{value:null},"— Коренева категорія —",-1)),(h(!0),y(re,null,ve(i.categories,t=>(h(),y("option",{key:t.id,value:t.id},T(s.getCategoryName(t)),9,zg))),128))],512),[[Et,i.form.parent_id]])]),o("div",Kg,[e[5]||(e[5]=o("label",{class:"form-label mb-0"},"Статус",-1)),o("div",Hg,[o("label",_g,[U(o("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>i.form.status=t),"true-value":1,"false-value":0},null,512),[[tr,i.form.status]]),e[4]||(e[4]=o("span",{class:"slider"},null,-1))]),o("span",{class:Y(["status-label",{published:i.form.status==1,unpublished:i.form.status==0}])},T(i.form.status==1?"Опубліковано":"Неактивний"),3)])])])}const Xg=le(Rg,[["render",Wg],["__scopeId","data-v-a67f50b8"]]),Yg={name:"CategoryAdd",components:{CategoryHeader:yg,CategoryTitles:Ig,CategorySEO:Fg,CategoryParent:Xg},props:{categories:{type:Array,default:()=>[]}},data(){return{form:{name_uk:"",slug_uk:"",meta_title_uk:"",meta_description_uk:"",name_ru:"",slug_ru:"",meta_title_ru:"",meta_description_ru:"",parent_id:null,status:1,description:{uk:[],ru:[]}},errors:{},loading:!1}},methods:{clearError(n){this.errors[n]=null},async saveCategory(){var n,e,i,d;if(!((n=this.form.name_uk)!=null&&n.trim())||!((e=this.form.name_ru)!=null&&e.trim())){alert("Заповніть всі обов’язкові поля (назва укр/рос)");return}console.log("Дані форми перед відправкою:",this.form),this.loading=!0;try{const r=await Pe.post("/admin/categories",this.form);alert("Категорію успішно створено!"),this.errors={}}catch(r){(d=(i=r.response)==null?void 0:i.data)!=null&&d.errors?this.errors=r.response.data.errors:alert("Невідома помилка при збереженні!")}finally{this.loading=!1}},saveDraft(){alert("Чернетка збережена!")},goBack(){window.history.back()}}};function Jg(n,e,i,d,r,s){const t=de("CategoryHeader"),a=de("CategoryTitles"),l=de("CategorySEO"),u=de("CategoryParent");return h(),y("div",null,[Q(t,{title:"Додати категорію","publish-label":"Опублікувати категорію",onSubmit:s.saveCategory,onCancel:s.goBack,onDraft:s.saveDraft},null,8,["onSubmit","onCancel","onDraft"]),Q(a,{form:r.form,errors:r.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(l,{form:r.form,errors:r.errors,onClearError:s.clearError},null,8,["form","errors","onClearError"]),Q(u,{form:r.form,categories:i.categories,"onUpdate:form":e[0]||(e[0]=c=>{r.form.parent_id=c.parent_id,r.form.status=c.status})},null,8,["form","categories"])])}const Qg=le(Yg,[["render",Jg]]);Pe.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.getElementById("app")){const n=Ut({});n.component("product-form",id),n.mount("#app")}if(document.getElementById("product-index-app")){const n=Ut({});n.component("product-index",Gd),n.mount("#product-index-app")}if(document.getElementById("product-edit-app")){const n=Ut({});n.component("product-edit",Qm),n.mount("#product-edit-app")}if(document.getElementById("category-index-app")){const n=Ut({});n.component("category-index",cp),n.mount("#category-index-app")}if(document.getElementById("category-edit-app")){const n=Ut({});n.component("category-edit",mg),n.mount("#category-edit-app")}if(document.getElementById("category-add-app")){const n=Ut({});n.component("category-add",Qg),n.mount("#category-add-app")}
